function H0(a,i){for(var r=0;r<i.length;r++){const o=i[r];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in a)){const f=Object.getOwnPropertyDescriptor(o,u);f&&Object.defineProperty(a,u,f.get?f:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();function Mg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var qc={exports:{}},Ni={};var fm;function I0(){if(fm)return Ni;fm=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:a,type:o,key:h,ref:u!==void 0?u:null,props:f}}return Ni.Fragment=i,Ni.jsx=r,Ni.jsxs=r,Ni}var hm;function q0(){return hm||(hm=1,qc.exports=I0()),qc.exports}var s=q0(),Gc={exports:{}},ge={};var mm;function G0(){if(mm)return ge;mm=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function I(S,T,O){this.props=S,this.context=T,this.refs=k,this.updater=O||j}I.prototype.isReactComponent={},I.prototype.setState=function(S,T){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,T,"setState")},I.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function C(){}C.prototype=I.prototype;function B(S,T,O){this.props=S,this.context=T,this.refs=k,this.updater=O||j}var Z=B.prototype=new C;Z.constructor=B,A(Z,I.prototype),Z.isPureReactComponent=!0;var $=Array.isArray;function te(){}var P={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function re(S,T,O){var V=O.ref;return{$$typeof:a,type:S,key:T,ref:V!==void 0?V:null,props:O}}function se(S,T){return re(S.type,T,S.props)}function ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function H(S){var T={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(O){return T[O]})}var ie=/\/+/g;function le(S,T){return typeof S=="object"&&S!==null&&S.key!=null?H(""+S.key):T.toString(36)}function ae(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(te,te):(S.status="pending",S.then(function(T){S.status==="pending"&&(S.status="fulfilled",S.value=T)},function(T){S.status==="pending"&&(S.status="rejected",S.reason=T)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function z(S,T,O,V,ee){var oe=typeof S;(oe==="undefined"||oe==="boolean")&&(S=null);var de=!1;if(S===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(S.$$typeof){case a:case i:de=!0;break;case b:return de=S._init,z(de(S._payload),T,O,V,ee)}}if(de)return ee=ee(S),de=V===""?"."+le(S,0):V,$(ee)?(O="",de!=null&&(O=de.replace(ie,"$&/")+"/"),z(ee,T,O,"",function(at){return at})):ee!=null&&(ne(ee)&&(ee=se(ee,O+(ee.key==null||S&&S.key===ee.key?"":(""+ee.key).replace(ie,"$&/")+"/")+de)),T.push(ee)),1;de=0;var we=V===""?".":V+":";if($(S))for(var je=0;je<S.length;je++)V=S[je],oe=we+le(V,je),de+=z(V,T,O,oe,ee);else if(je=_(S),typeof je=="function")for(S=je.call(S),je=0;!(V=S.next()).done;)V=V.value,oe=we+le(V,je++),de+=z(V,T,O,oe,ee);else if(oe==="object"){if(typeof S.then=="function")return z(ae(S),T,O,V,ee);throw T=String(S),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(S,T,O){if(S==null)return S;var V=[],ee=0;return z(S,V,"","",function(oe){return T.call(O,oe,ee++)}),V}function Y(S){if(S._status===-1){var T=S._result;T=T(),T.then(function(O){(S._status===0||S._status===-1)&&(S._status=1,S._result=O)},function(O){(S._status===0||S._status===-1)&&(S._status=2,S._result=O)}),S._status===-1&&(S._status=0,S._result=T)}if(S._status===1)return S._result.default;throw S._result}var M=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},W={map:X,forEach:function(S,T,O){X(S,function(){T.apply(this,arguments)},O)},count:function(S){var T=0;return X(S,function(){T++}),T},toArray:function(S){return X(S,function(T){return T})||[]},only:function(S){if(!ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ge.Activity=v,ge.Children=W,ge.Component=I,ge.Fragment=r,ge.Profiler=u,ge.PureComponent=B,ge.StrictMode=o,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ge.__COMPILER_RUNTIME={__proto__:null,c:function(S){return P.H.useMemoCache(S)}},ge.cache=function(S){return function(){return S.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(S,T,O){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var V=A({},S.props),ee=S.key;if(T!=null)for(oe in T.key!==void 0&&(ee=""+T.key),T)!J.call(T,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&T.ref===void 0||(V[oe]=T[oe]);var oe=arguments.length-2;if(oe===1)V.children=O;else if(1<oe){for(var de=Array(oe),we=0;we<oe;we++)de[we]=arguments[we+2];V.children=de}return re(S.type,ee,V)},ge.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ge.createElement=function(S,T,O){var V,ee={},oe=null;if(T!=null)for(V in T.key!==void 0&&(oe=""+T.key),T)J.call(T,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ee[V]=T[V]);var de=arguments.length-2;if(de===1)ee.children=O;else if(1<de){for(var we=Array(de),je=0;je<de;je++)we[je]=arguments[je+2];ee.children=we}if(S&&S.defaultProps)for(V in de=S.defaultProps,de)ee[V]===void 0&&(ee[V]=de[V]);return re(S,oe,ee)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(S){return{$$typeof:g,render:S}},ge.isValidElement=ne,ge.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:Y}},ge.memo=function(S,T){return{$$typeof:y,type:S,compare:T===void 0?null:T}},ge.startTransition=function(S){var T=P.T,O={};P.T=O;try{var V=S(),ee=P.S;ee!==null&&ee(O,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(te,M)}catch(oe){M(oe)}finally{T!==null&&O.types!==null&&(T.types=O.types),P.T=T}},ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ge.use=function(S){return P.H.use(S)},ge.useActionState=function(S,T,O){return P.H.useActionState(S,T,O)},ge.useCallback=function(S,T){return P.H.useCallback(S,T)},ge.useContext=function(S){return P.H.useContext(S)},ge.useDebugValue=function(){},ge.useDeferredValue=function(S,T){return P.H.useDeferredValue(S,T)},ge.useEffect=function(S,T){return P.H.useEffect(S,T)},ge.useEffectEvent=function(S){return P.H.useEffectEvent(S)},ge.useId=function(){return P.H.useId()},ge.useImperativeHandle=function(S,T,O){return P.H.useImperativeHandle(S,T,O)},ge.useInsertionEffect=function(S,T){return P.H.useInsertionEffect(S,T)},ge.useLayoutEffect=function(S,T){return P.H.useLayoutEffect(S,T)},ge.useMemo=function(S,T){return P.H.useMemo(S,T)},ge.useOptimistic=function(S,T){return P.H.useOptimistic(S,T)},ge.useReducer=function(S,T,O){return P.H.useReducer(S,T,O)},ge.useRef=function(S){return P.H.useRef(S)},ge.useState=function(S){return P.H.useState(S)},ge.useSyncExternalStore=function(S,T,O){return P.H.useSyncExternalStore(S,T,O)},ge.useTransition=function(){return P.H.useTransition()},ge.version="19.2.4",ge}var gm;function uu(){return gm||(gm=1,Gc.exports=G0()),Gc.exports}var N=uu();const tn=Mg(N),Y0=H0({__proto__:null,default:tn},[N]);var Yc={exports:{}},Ei={},$c={exports:{}},Vc={};var pm;function $0(){return pm||(pm=1,(function(a){function i(z,X){var Y=z.length;z.push(X);e:for(;0<Y;){var M=Y-1>>>1,W=z[M];if(0<u(W,X))z[M]=X,z[Y]=W,Y=M;else break e}}function r(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var X=z[0],Y=z.pop();if(Y!==X){z[0]=Y;e:for(var M=0,W=z.length,S=W>>>1;M<S;){var T=2*(M+1)-1,O=z[T],V=T+1,ee=z[V];if(0>u(O,Y))V<W&&0>u(ee,O)?(z[M]=ee,z[V]=Y,M=V):(z[M]=O,z[T]=Y,M=T);else if(V<W&&0>u(ee,Y))z[M]=ee,z[V]=Y,M=V;else break e}}return X}function u(z,X){var Y=z.sortIndex-X.sortIndex;return Y!==0?Y:z.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();a.unstable_now=function(){return h.now()-g}}var p=[],y=[],b=1,v=null,w=3,_=!1,j=!1,A=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Z(z){for(var X=r(y);X!==null;){if(X.callback===null)o(y);else if(X.startTime<=z)o(y),X.sortIndex=X.expirationTime,i(p,X);else break;X=r(y)}}function $(z){if(A=!1,Z(z),!j)if(r(p)!==null)j=!0,te||(te=!0,H());else{var X=r(y);X!==null&&ae($,X.startTime-z)}}var te=!1,P=-1,J=5,re=-1;function se(){return k?!0:!(a.unstable_now()-re<J)}function ne(){if(k=!1,te){var z=a.unstable_now();re=z;var X=!0;try{e:{j=!1,A&&(A=!1,C(P),P=-1),_=!0;var Y=w;try{t:{for(Z(z),v=r(p);v!==null&&!(v.expirationTime>z&&se());){var M=v.callback;if(typeof M=="function"){v.callback=null,w=v.priorityLevel;var W=M(v.expirationTime<=z);if(z=a.unstable_now(),typeof W=="function"){v.callback=W,Z(z),X=!0;break t}v===r(p)&&o(p),Z(z)}else o(p);v=r(p)}if(v!==null)X=!0;else{var S=r(y);S!==null&&ae($,S.startTime-z),X=!1}}break e}finally{v=null,w=Y,_=!1}X=void 0}}finally{X?H():te=!1}}}var H;if(typeof B=="function")H=function(){B(ne)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,le=ie.port2;ie.port1.onmessage=ne,H=function(){le.postMessage(null)}}else H=function(){I(ne,0)};function ae(z,X){P=I(function(){z(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(z){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var Y=w;w=X;try{return z()}finally{w=Y}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=w;w=z;try{return X()}finally{w=Y}},a.unstable_scheduleCallback=function(z,X,Y){var M=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?M+Y:M):Y=M,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Y+W,z={id:b++,callback:X,priorityLevel:z,startTime:Y,expirationTime:W,sortIndex:-1},Y>M?(z.sortIndex=Y,i(y,z),r(p)===null&&z===r(y)&&(A?(C(P),P=-1):A=!0,ae($,Y-M))):(z.sortIndex=W,i(p,z),j||_||(j=!0,te||(te=!0,H()))),z},a.unstable_shouldYield=se,a.unstable_wrapCallback=function(z){var X=w;return function(){var Y=w;w=X;try{return z.apply(this,arguments)}finally{w=Y}}}})(Vc)),Vc}var ym;function V0(){return ym||(ym=1,$c.exports=$0()),$c.exports}var Fc={exports:{}},ft={};var vm;function F0(){if(vm)return ft;vm=1;var a=uu();function i(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(p,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:p,containerInfo:y,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ft.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return f(p,y,null,b)},ft.flushSync=function(p){var y=h.T,b=o.p;try{if(h.T=null,o.p=2,p)return p()}finally{h.T=y,o.p=b,o.d.f()}},ft.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(p,y))},ft.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},ft.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,v=g(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?o.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):b==="script"&&o.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ft.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);o.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(p)},ft.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=g(b,y.crossOrigin);o.d.L(p,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ft.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);o.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(p)},ft.requestFormReset=function(p){o.d.r(p)},ft.unstable_batchedUpdates=function(p,y){return p(y)},ft.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.4",ft}var xm;function Rg(){if(xm)return Fc.exports;xm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Fc.exports=F0(),Fc.exports}var bm;function K0(){if(bm)return Ei;bm=1;var a=V0(),i=uu(),r=Rg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return p(c),e;if(d===l)return p(c),t;d=d.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=d;else{for(var m=!1,x=c.child;x;){if(x===n){m=!0,n=c,l=d;break}if(x===l){m=!0,l=c,n=d;break}x=x.sibling}if(!m){for(x=d.child;x;){if(x===n){m=!0,n=d,l=c;break}if(x===l){m=!0,l=d,n=c;break}x=x.sibling}if(!m)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case B:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ae=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},M=[],W=-1;function S(e){return{current:e}}function T(e){0>W||(e.current=M[W],M[W]=null,W--)}function O(e,t){W++,M[W]=e.current,e.current=t}var V=S(null),ee=S(null),oe=S(null),de=S(null);function we(e,t){switch(O(oe,t),O(ee,e),O(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zh(t),e=Lh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(V),O(V,e)}function je(){T(V),T(ee),T(oe)}function at(e){e.memoizedState!==null&&O(de,e);var t=V.current,n=Lh(t,e.type);t!==n&&(O(ee,e),O(V,n))}function Dt(e){ee.current===e&&(T(V),T(ee)),de.current===e&&(T(de),Si._currentValue=Y)}var ve,lt;function Vt(e){if(ve===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||"",lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+lt}var Ml=!1;function En(e,t){if(!e||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var q=G}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(G){q=G}e.call(Q.prototype)}}else{try{throw Error()}catch(G){q=G}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),m=d[0],x=d[1];if(m&&x){var E=m.split(`
`),U=x.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===U.length)for(l=E.length-1,c=U.length-1;1<=l&&0<=c&&E[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==U[c]){var F=`
`+E[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vt(n):""}function Ui(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return En(e.type,!1);case 11:return En(e.type.render,!1);case 1:return En(e.type,!0);case 31:return Vt("Activity");default:return""}}function za(e){try{var t="",n=null;do t+=Ui(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ra=Object.prototype.hasOwnProperty,La=a.unstable_scheduleCallback,Ua=a.unstable_cancelCallback,jr=a.unstable_shouldYield,_r=a.unstable_requestPaint,mt=a.unstable_now,Nr=a.unstable_getCurrentPriorityLevel,Bi=a.unstable_ImmediatePriority,Hi=a.unstable_UserBlockingPriority,Ba=a.unstable_NormalPriority,Er=a.unstable_LowPriority,me=a.unstable_IdlePriority,Ie=a.log,Cn=a.unstable_setDisableYieldValue,dt=null,et=null;function Nt(e){if(typeof Ie=="function"&&Cn(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(dt,e)}catch{}}var xe=Math.clz32?Math.clz32:Cr,Ii=Math.log,Rl=Math.LN2;function Cr(e){return e>>>=0,e===0?32:31-(Ii(e)/Rl|0)|0}var kl=256,Ol=262144,qi=4194304;function oa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?c=oa(l):(m&=x,m!==0?c=oa(m):n||(n=x&~e,n!==0&&(c=oa(n))))):(x=l&~d,x!==0?c=oa(x):m!==0?c=oa(m):n||(n=l&~e,n!==0&&(c=oa(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function Dl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ep(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),e}function Tr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cp(e,t,n,l,c,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,E=e.expirationTimes,U=e.hiddenUpdates;for(n=m&~n;0<n;){var F=31-xe(n),Q=1<<F;x[F]=0,E[F]=-1;var q=U[F];if(q!==null)for(U[F]=null,F=0;F<q.length;F++){var G=q[F];G!==null&&(G.lane&=-536870913)}n&=~Q}l!==0&&pu(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function pu(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function vu(e,t){var n=t&-t;return n=(n&42)!==0?1:Ar(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:im(e.type))}function bu(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var Tn=Math.random().toString(36).slice(2),it="__reactFiber$"+Tn,yt="__reactProps$"+Tn,Ha="__reactContainer$"+Tn,Rr="__reactEvents$"+Tn,Tp="__reactListeners$"+Tn,Ap="__reactHandles$"+Tn,Su="__reactResources$"+Tn,Ll="__reactMarker$"+Tn;function kr(e){delete e[it],delete e[yt],delete e[Rr],delete e[Tp],delete e[Ap]}function Ia(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yh(e);e!==null;){if(n=e[it])return n;e=Yh(e)}return t}e=n,n=e.parentNode}return null}function qa(e){if(e=e[it]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ul(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ga(e){var t=e[Su];return t||(t=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Ll]=!0}var wu=new Set,ju={};function ca(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(ju[e]=t,e=0;e<t.length;e++)wu.add(t[e])}var Mp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},Nu={};function Rp(e){return ra.call(Nu,e)?!0:ra.call(_u,e)?!1:Mp.test(e)?Nu[e]=!0:(_u[e]=!0,!1)}function Yi(e,t,n){if(Rp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $i(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function an(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Or(e){if(!e._valueTracker){var t=Eu(e)?"checked":"value";e._valueTracker=kp(e,t,""+e[t])}}function Cu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Eu(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Op=/[\n"\\]/g;function Lt(e){return e.replace(Op,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dr(e,t,n,l,c,d,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?zr(e,m,zt(t)):n!=null?zr(e,m,zt(n)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+zt(x):e.removeAttribute("name")}function Tu(e,t,n,l,c,d,m,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Or(e);return}n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Or(e)}function zr(e,t,n){t==="number"&&Vi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $a(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Au(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function Mu(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(ae(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Or(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Dp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ku(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Ru(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Ru(e,d,t[d])}function Lr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fi(e){return Lp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var Ur=null;function Br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Ka=null;function Ou(e){var t=qa(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[yt]||null;if(!c)throw Error(o(90));Dr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Cu(l)}break e;case"textarea":Au(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$a(e,!!n.multiple,t,!1)}}}var Hr=!1;function Du(e,t,n){if(Hr)return e(t,n);Hr=!0;try{var l=e(t);return l}finally{if(Hr=!1,(Fa!==null||Ka!==null)&&(Os(),Fa&&(t=Fa,e=Ka,Ka=Fa=null,Ou(t),e)))for(t=0;t<e.length;t++)Ou(e[t])}}function Bl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(sn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Ir=!1}var An=null,qr=null,Ki=null;function zu(){if(Ki)return Ki;var e,t=qr,n=t.length,l,c="value"in An?An.value:An.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var m=n-e;for(l=1;l<=m&&t[n-l]===c[d-l];l++);return Ki=c.slice(e,1<l?1-l:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function Lu(){return!1}function vt(e){function t(n,l,c,d,m){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:Lu,this.isPropagationStopped=Lu,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=vt(ua),Il=v({},ua,{view:0,detail:0}),Up=vt(Il),Gr,Yr,ql,Wi=v({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(Gr=e.screenX-ql.screenX,Yr=e.screenY-ql.screenY):Yr=Gr=0,ql=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:Yr}}),Uu=vt(Wi),Bp=v({},Wi,{dataTransfer:0}),Hp=vt(Bp),Ip=v({},Il,{relatedTarget:0}),$r=vt(Ip),qp=v({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=vt(qp),Yp=v({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=vt(Yp),Vp=v({},ua,{data:0}),Bu=vt(Vp),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xp[e])?!!t[e]:!1}function Vr(){return Qp}var Zp=v({},Il,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=vt(Zp),Jp=v({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=vt(Jp),Pp=v({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),ey=vt(Pp),ty=v({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=vt(ty),ay=v({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=vt(ay),iy=v({},ua,{newState:0,oldState:0}),sy=vt(iy),ry=[9,13,27,32],Fr=sn&&"CompositionEvent"in window,Gl=null;sn&&"documentMode"in document&&(Gl=document.documentMode);var oy=sn&&"TextEvent"in window&&!Gl,Iu=sn&&(!Fr||Gl&&8<Gl&&11>=Gl),qu=" ",Gu=!1;function Yu(e,t){switch(e){case"keyup":return ry.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function cy(e,t){switch(e){case"compositionend":return $u(t);case"keypress":return t.which!==32?null:(Gu=!0,qu);case"textInput":return e=t.data,e===qu&&Gu?null:e;default:return null}}function uy(e,t){if(Xa)return e==="compositionend"||!Fr&&Yu(e,t)?(e=zu(),Ki=qr=An=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iu&&t.locale!=="ko"?null:t.data;default:return null}}var dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dy[e.type]:t==="textarea"}function Fu(e,t,n,l){Fa?Ka?Ka.push(l):Ka=[l]:Fa=l,t=Is(t,"onChange"),0<t.length&&(n=new Zi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Yl=null,$l=null;function fy(e){Ah(e,0)}function Ji(e){var t=Ul(e);if(Cu(t))return e}function Ku(e,t){if(e==="change")return t}var Xu=!1;if(sn){var Kr;if(sn){var Xr="oninput"in document;if(!Xr){var Qu=document.createElement("div");Qu.setAttribute("oninput","return;"),Xr=typeof Qu.oninput=="function"}Kr=Xr}else Kr=!1;Xu=Kr&&(!document.documentMode||9<document.documentMode)}function Zu(){Yl&&(Yl.detachEvent("onpropertychange",Wu),$l=Yl=null)}function Wu(e){if(e.propertyName==="value"&&Ji($l)){var t=[];Fu(t,$l,e,Br(e)),Du(fy,t)}}function hy(e,t,n){e==="focusin"?(Zu(),Yl=t,$l=n,Yl.attachEvent("onpropertychange",Wu)):e==="focusout"&&Zu()}function my(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji($l)}function gy(e,t){if(e==="click")return Ji(t)}function py(e,t){if(e==="input"||e==="change")return Ji(t)}function yy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:yy;function Vl(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ra.call(t,c)||!Et(e[c],t[c]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var n=Ju(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ju(n)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vi(e.document)}return t}function Qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var vy=sn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Zr=null,Fl=null,Wr=!1;function nd(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wr||Qa==null||Qa!==Vi(l)||(l=Qa,"selectionStart"in l&&Qr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Vl(Fl,l)||(Fl=l,l=Is(Zr,"onSelect"),0<l.length&&(t=new Zi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Qa)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Za={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Jr={},ad={};sn&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function fa(e){if(Jr[e])return Jr[e];if(!Za[e])return e;var t=Za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ad)return Jr[e]=t[n];return e}var ld=fa("animationend"),id=fa("animationiteration"),sd=fa("animationstart"),xy=fa("transitionrun"),by=fa("transitionstart"),Sy=fa("transitioncancel"),rd=fa("transitionend"),od=new Map,Pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pr.push("scrollEnd");function Ft(e,t){od.set(e,t),ca(t,[e])}var Pi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Wa=0,eo=0;function es(){for(var e=Wa,t=eo=Wa=0;t<e;){var n=Ut[t];Ut[t++]=null;var l=Ut[t];Ut[t++]=null;var c=Ut[t];Ut[t++]=null;var d=Ut[t];if(Ut[t++]=null,l!==null&&c!==null){var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}d!==0&&cd(n,c,d)}}function ts(e,t,n,l){Ut[Wa++]=e,Ut[Wa++]=t,Ut[Wa++]=n,Ut[Wa++]=l,eo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function to(e,t,n,l){return ts(e,t,n,l),ns(e)}function ha(e,t){return ts(e,null,null,t),ns(e)}function cd(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,l=d.alternate,l!==null&&(l.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-xe(n),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),d):null}function ns(e){if(50<mi)throw mi=0,dc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ja={};function wy(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,l){return new wy(e,t,n,l)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ud(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function as(e,t,n,l,c,d){var m=0;if(l=e,typeof e=="function")no(e)&&(m=1);else if(typeof e=="string")m=C0(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Ct(31,n,t,c),e.elementType=re,e.lanes=d,e;case A:return ma(n.children,c,d,t);case k:m=8,c|=24;break;case I:return e=Ct(12,n,t,c|2),e.elementType=I,e.lanes=d,e;case $:return e=Ct(13,n,t,c),e.elementType=$,e.lanes=d,e;case te:return e=Ct(19,n,t,c),e.elementType=te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:m=10;break e;case C:m=9;break e;case Z:m=11;break e;case P:m=14;break e;case J:m=16,l=null;break e}m=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Ct(m,n,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function ma(e,t,n,l){return e=Ct(7,e,l,t),e.lanes=n,e}function ao(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function dd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function lo(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var n=fd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:za(t)},fd.set(e,t),t)}return{value:e,source:t,stack:za(t)}}var Pa=[],el=0,ls=null,Kl=0,Ht=[],It=0,Mn=null,Zt=1,Wt="";function on(e,t){Pa[el++]=Kl,Pa[el++]=ls,ls=e,Kl=t}function hd(e,t,n){Ht[It++]=Zt,Ht[It++]=Wt,Ht[It++]=Mn,Mn=e;var l=Zt;e=Wt;var c=32-xe(l)-1;l&=~(1<<c),n+=1;var d=32-xe(t)+c;if(30<d){var m=c-c%5;d=(l&(1<<m)-1).toString(32),l>>=m,c-=m,Zt=1<<32-xe(t)+c|n<<c|l,Wt=d+e}else Zt=1<<d|n<<c|l,Wt=e}function io(e){e.return!==null&&(on(e,1),hd(e,1,0))}function so(e){for(;e===ls;)ls=Pa[--el],Pa[el]=null,Kl=Pa[--el],Pa[el]=null;for(;e===Mn;)Mn=Ht[--It],Ht[It]=null,Wt=Ht[--It],Ht[It]=null,Zt=Ht[--It],Ht[It]=null}function md(e,t){Ht[It++]=Zt,Ht[It++]=Wt,Ht[It++]=Mn,Zt=t.id,Wt=t.overflow,Mn=e}var st=null,Ue=null,Ee=!1,Rn=null,qt=!1,ro=Error(o(519));function kn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Bt(t,e)),ro}function gd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[it]=e,t[yt]=l,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<pi.length;n++)Se(pi[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Tu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Mu(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Oh(t.textContent,n)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=ln),t=!0):t=!1,t||kn(e,!0)}function pd(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:st=st.return}}function tl(e){if(e!==st)return!1;if(!Ee)return pd(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ec(e.type,e.memoizedProps)),n=!n),n&&Ue&&kn(e),pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ue=Gh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ue=Gh(e)}else t===27?(t=Ue,Fn(e.type)?(e=Rc,Rc=null,Ue=e):Ue=t):Ue=st?Yt(e.stateNode.nextSibling):null;return!0}function ga(){Ue=st=null,Ee=!1}function oo(){var e=Rn;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Rn=null),e}function Xl(e){Rn===null?Rn=[e]:Rn.push(e)}var co=S(null),pa=null,cn=null;function On(e,t,n){O(co,t._currentValue),t._currentValue=n}function un(e){e._currentValue=co.current,T(co)}function uo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function fo(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var m=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var E=0;E<t.length;E++)if(x.context===t[E]){d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),uo(d.return,n,e),l||(m=null);break e}d=x.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(o(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),uo(m,n,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function nl(e,t,n,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(o(387));if(m=m.memoizedProps,m!==null){var x=c.type;Et(c.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(c===de.current){if(m=c.alternate,m===null)throw Error(o(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Si):e=[Si])}c=c.return}e!==null&&fo(t,e,n,l),t.flags|=262144}function is(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){pa=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return yd(pa,e)}function ss(e,t){return pa===null&&ya(e),yd(e,t)}function yd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(o(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}var jy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},_y=a.unstable_scheduleCallback,Ny=a.unstable_NormalPriority,Ke={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ho(){return{controller:new jy,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&_y(Ny,function(){e.controller.abort()})}var Zl=null,mo=0,al=0,ll=null;function Ey(e,t){if(Zl===null){var n=Zl=[];mo=0,al=yc(),ll={status:"pending",value:void 0,then:function(l){n.push(l)}}}return mo++,t.then(vd,vd),t}function vd(){if(--mo===0&&Zl!==null){ll!==null&&(ll.status="fulfilled");var e=Zl;Zl=null,al=0,ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cy(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var xd=z.S;z.S=function(e,t){ah=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ey(e,t),xd!==null&&xd(e,t)};var va=S(null);function go(){var e=va.current;return e!==null?e:ze.pooledCache}function rs(e,t){t===null?O(va,va.current):O(va,t.pool)}function bd(){var e=go();return e===null?null:{parent:Ke._currentValue,pool:e}}var il=Error(o(460)),po=Error(o(474)),os=Error(o(542)),cs={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ln,ln),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(ln,ln);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw ba=t,il}}function xa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,il):n}}var ba=null;function jd(){if(ba===null)throw Error(o(459));var e=ba;return ba=null,e}function _d(e){if(e===il||e===os)throw Error(o(483))}var sl=null,Wl=0;function us(e){var t=Wl;return Wl+=1,sl===null&&(sl=[]),wd(sl,e,t)}function Jl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ds(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nd(e){function t(D,R){if(e){var L=D.deletions;L===null?(D.deletions=[R],D.flags|=16):L.push(R)}}function n(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function c(D,R){return D=rn(D,R),D.index=0,D.sibling=null,D}function d(D,R,L){return D.index=L,e?(L=D.alternate,L!==null?(L=L.index,L<R?(D.flags|=67108866,R):L):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function m(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function x(D,R,L,K){return R===null||R.tag!==6?(R=ao(L,D.mode,K),R.return=D,R):(R=c(R,L),R.return=D,R)}function E(D,R,L,K){var fe=L.type;return fe===A?F(D,R,L.props.children,K,L.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&xa(fe)===R.type)?(R=c(R,L.props),Jl(R,L),R.return=D,R):(R=as(L.type,L.key,L.props,null,D.mode,K),Jl(R,L),R.return=D,R)}function U(D,R,L,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=lo(L,D.mode,K),R.return=D,R):(R=c(R,L.children||[]),R.return=D,R)}function F(D,R,L,K,fe){return R===null||R.tag!==7?(R=ma(L,D.mode,K,fe),R.return=D,R):(R=c(R,L),R.return=D,R)}function Q(D,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ao(""+R,D.mode,L),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return L=as(R.type,R.key,R.props,null,D.mode,L),Jl(L,R),L.return=D,L;case j:return R=lo(R,D.mode,L),R.return=D,R;case J:return R=xa(R),Q(D,R,L)}if(ae(R)||H(R))return R=ma(R,D.mode,L,null),R.return=D,R;if(typeof R.then=="function")return Q(D,us(R),L);if(R.$$typeof===B)return Q(D,ss(D,R),L);ds(D,R)}return null}function q(D,R,L,K){var fe=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return fe!==null?null:x(D,R,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===fe?E(D,R,L,K):null;case j:return L.key===fe?U(D,R,L,K):null;case J:return L=xa(L),q(D,R,L,K)}if(ae(L)||H(L))return fe!==null?null:F(D,R,L,K,null);if(typeof L.then=="function")return q(D,R,us(L),K);if(L.$$typeof===B)return q(D,R,ss(D,L),K);ds(D,L)}return null}function G(D,R,L,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(L)||null,x(R,D,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return D=D.get(K.key===null?L:K.key)||null,E(R,D,K,fe);case j:return D=D.get(K.key===null?L:K.key)||null,U(R,D,K,fe);case J:return K=xa(K),G(D,R,L,K,fe)}if(ae(K)||H(K))return D=D.get(L)||null,F(R,D,K,fe,null);if(typeof K.then=="function")return G(D,R,L,us(K),fe);if(K.$$typeof===B)return G(D,R,L,ss(R,K),fe);ds(R,K)}return null}function ce(D,R,L,K){for(var fe=null,Ce=null,ue=R,ye=R=0,Ne=null;ue!==null&&ye<L.length;ye++){ue.index>ye?(Ne=ue,ue=null):Ne=ue.sibling;var Te=q(D,ue,L[ye],K);if(Te===null){ue===null&&(ue=Ne);break}e&&ue&&Te.alternate===null&&t(D,ue),R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te,ue=Ne}if(ye===L.length)return n(D,ue),Ee&&on(D,ye),fe;if(ue===null){for(;ye<L.length;ye++)ue=Q(D,L[ye],K),ue!==null&&(R=d(ue,R,ye),Ce===null?fe=ue:Ce.sibling=ue,Ce=ue);return Ee&&on(D,ye),fe}for(ue=l(ue);ye<L.length;ye++)Ne=G(ue,D,ye,L[ye],K),Ne!==null&&(e&&Ne.alternate!==null&&ue.delete(Ne.key===null?ye:Ne.key),R=d(Ne,R,ye),Ce===null?fe=Ne:Ce.sibling=Ne,Ce=Ne);return e&&ue.forEach(function(Wn){return t(D,Wn)}),Ee&&on(D,ye),fe}function he(D,R,L,K){if(L==null)throw Error(o(151));for(var fe=null,Ce=null,ue=R,ye=R=0,Ne=null,Te=L.next();ue!==null&&!Te.done;ye++,Te=L.next()){ue.index>ye?(Ne=ue,ue=null):Ne=ue.sibling;var Wn=q(D,ue,Te.value,K);if(Wn===null){ue===null&&(ue=Ne);break}e&&ue&&Wn.alternate===null&&t(D,ue),R=d(Wn,R,ye),Ce===null?fe=Wn:Ce.sibling=Wn,Ce=Wn,ue=Ne}if(Te.done)return n(D,ue),Ee&&on(D,ye),fe;if(ue===null){for(;!Te.done;ye++,Te=L.next())Te=Q(D,Te.value,K),Te!==null&&(R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te);return Ee&&on(D,ye),fe}for(ue=l(ue);!Te.done;ye++,Te=L.next())Te=G(ue,D,ye,Te.value,K),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?ye:Te.key),R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te);return e&&ue.forEach(function(B0){return t(D,B0)}),Ee&&on(D,ye),fe}function De(D,R,L,K){if(typeof L=="object"&&L!==null&&L.type===A&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var fe=L.key;R!==null;){if(R.key===fe){if(fe=L.type,fe===A){if(R.tag===7){n(D,R.sibling),K=c(R,L.props.children),K.return=D,D=K;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&xa(fe)===R.type){n(D,R.sibling),K=c(R,L.props),Jl(K,L),K.return=D,D=K;break e}n(D,R);break}else t(D,R);R=R.sibling}L.type===A?(K=ma(L.props.children,D.mode,K,L.key),K.return=D,D=K):(K=as(L.type,L.key,L.props,null,D.mode,K),Jl(K,L),K.return=D,D=K)}return m(D);case j:e:{for(fe=L.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){n(D,R.sibling),K=c(R,L.children||[]),K.return=D,D=K;break e}else{n(D,R);break}else t(D,R);R=R.sibling}K=lo(L,D.mode,K),K.return=D,D=K}return m(D);case J:return L=xa(L),De(D,R,L,K)}if(ae(L))return ce(D,R,L,K);if(H(L)){if(fe=H(L),typeof fe!="function")throw Error(o(150));return L=fe.call(L),he(D,R,L,K)}if(typeof L.then=="function")return De(D,R,us(L),K);if(L.$$typeof===B)return De(D,R,ss(D,L),K);ds(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(n(D,R.sibling),K=c(R,L),K.return=D,D=K):(n(D,R),K=ao(L,D.mode,K),K.return=D,D=K),m(D)):n(D,R)}return function(D,R,L,K){try{Wl=0;var fe=De(D,R,L,K);return sl=null,fe}catch(ue){if(ue===il||ue===os)throw ue;var Ce=Ct(29,ue,null,D.mode);return Ce.lanes=K,Ce.return=D,Ce}}}var Sa=Nd(!0),Ed=Nd(!1),Dn=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=ns(e),cd(e,null,n),t}return ts(e,l,t,n),ns(e)}function Pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,yu(e,n)}}function xo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bo=!1;function ei(){if(bo){var e=ll;if(e!==null)throw e}}function ti(e,t,n,l){bo=!1;var c=e.updateQueue;Dn=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var E=x,U=E.next;E.next=null,m===null?d=U:m.next=U,m=E;var F=e.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==m&&(x===null?F.firstBaseUpdate=U:x.next=U,F.lastBaseUpdate=E))}if(d!==null){var Q=c.baseState;m=0,F=U=E=null,x=d;do{var q=x.lane&-536870913,G=q!==x.lane;if(G?(_e&q)===q:(l&q)===q){q!==0&&q===al&&(bo=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=e,he=x;q=t;var De=n;switch(he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Q=ce.call(De,Q,q);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,q=typeof ce=="function"?ce.call(De,Q,q):ce,q==null)break e;Q=v({},Q,q);break e;case 2:Dn=!0}}q=x.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(U=F=G,E=Q):F=F.next=G,m|=q;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;G=x,x=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);F===null&&(E=Q),c.baseState=E,c.firstBaseUpdate=U,c.lastBaseUpdate=F,d===null&&(c.shared.lanes=0),qn|=m,e.lanes=m,e.memoizedState=Q}}function Cd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Td(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Cd(n[e],t)}var rl=S(null),fs=S(0);function Ad(e,t){e=xn,O(fs,e),O(rl,t),xn=e|t.baseLanes}function So(){O(fs,xn),O(rl,rl.current)}function wo(){xn=fs.current,T(rl),T(fs)}var Tt=S(null),Gt=null;function Un(e){var t=e.alternate;O($e,$e.current&1),O(Tt,e),Gt===null&&(t===null||rl.current!==null||t.memoizedState!==null)&&(Gt=e)}function jo(e){O($e,$e.current),O(Tt,e),Gt===null&&(Gt=e)}function Md(e){e.tag===22?(O($e,$e.current),O(Tt,e),Gt===null&&(Gt=e)):Bn()}function Bn(){O($e,$e.current),O(Tt,Tt.current)}function At(e){T(Tt),Gt===e&&(Gt=null),T($e)}var $e=S(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ac(n)||Mc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dn=0,pe=null,ke=null,Xe=null,ms=!1,ol=!1,wa=!1,gs=0,ni=0,cl=null,Ty=0;function qe(){throw Error(o(321))}function _o(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function No(e,t,n,l,c,d){return dn=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?mf:Io,wa=!1,d=n(l,c),wa=!1,ol&&(d=kd(t,n,l,c)),Rd(e),d}function Rd(e){z.H=ii;var t=ke!==null&&ke.next!==null;if(dn=0,Xe=ke=pe=null,ms=!1,ni=0,cl=null,t)throw Error(o(300));e===null||Qe||(e=e.dependencies,e!==null&&is(e)&&(Qe=!0))}function kd(e,t,n,l){pe=e;var c=0;do{if(ol&&(cl=null),ni=0,ol=!1,25<=c)throw Error(o(301));if(c+=1,Xe=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=gf,d=t(n,l)}while(ol);return d}function Ay(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ai(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(pe.flags|=1024),t}function Eo(){var e=gs!==0;return gs=0,e}function Co(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function To(e){if(ms){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ms=!1}dn=0,Xe=ke=pe=null,ol=!1,ni=gs=0,cl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ve(){if(ke===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Xe===null?pe.memoizedState:Xe.next;if(t!==null)Xe=t,ke=e;else{if(e===null)throw pe.alternate===null?Error(o(467)):Error(o(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(e){var t=ni;return ni+=1,cl===null&&(cl=[]),e=wd(cl,e,t),t=pe,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?mf:Io),e}function ys(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ai(e);if(e.$$typeof===B)return rt(e)}throw Error(o(438,String(e)))}function Ao(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ps(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=se;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function vs(e){var t=Ve();return Mo(t,ke,e)}function Mo(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=m=null,E=null,U=t,F=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(_e&Q)===Q:(dn&Q)===Q){var q=U.revertLane;if(q===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===al&&(F=!0);else if((dn&q)===q){U=U.next,q===al&&(F=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(x=E=Q,m=d):E=E.next=Q,pe.lanes|=q,qn|=q;Q=U.action,wa&&n(d,Q),d=U.hasEagerState?U.eagerState:n(d,Q)}else q={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(x=E=q,m=d):E=E.next=q,pe.lanes|=Q,qn|=Q;U=U.next}while(U!==null&&U!==t);if(E===null?m=d:E.next=x,!Et(d,e.memoizedState)&&(Qe=!0,F&&(n=ll,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=E,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ro(e){var t=Ve(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);Et(d,t.memoizedState)||(Qe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,l]}function Od(e,t,n){var l=pe,c=Ve(),d=Ee;if(d){if(n===void 0)throw Error(o(407));n=n()}else n=t();var m=!Et((ke||c).memoizedState,n);if(m&&(c.memoizedState=n,Qe=!0),c=c.queue,Do(Ld.bind(null,l,c,e),[e]),c.getSnapshot!==t||m||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,ul(9,{destroy:void 0},zd.bind(null,l,c,n,t),null),ze===null)throw Error(o(349));d||(dn&127)!==0||Dd(l,t,n)}return n}function Dd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=ps(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zd(e,t,n,l){t.value=n,t.getSnapshot=l,Ud(t)&&Bd(e)}function Ld(e,t,n){return n(function(){Ud(t)&&Bd(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Bd(e){var t=ha(e,2);t!==null&&jt(t,e,2)}function ko(e){var t=gt();if(typeof e=="function"){var n=e;if(e=n(),wa){Nt(!0);try{n()}finally{Nt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function Hd(e,t,n,l){return e.baseState=n,Mo(e,ke,typeof l=="function"?l:fn)}function My(e,t,n,l,c){if(Ss(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};z.T!==null?n(!0):d.isTransition=!1,l(d),n=t.pending,n===null?(d.next=t.pending=d,Id(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Id(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=z.T,m={};z.T=m;try{var x=n(c,l),E=z.S;E!==null&&E(m,x),qd(e,t,x)}catch(U){Oo(e,t,U)}finally{d!==null&&m.types!==null&&(d.types=m.types),z.T=d}}else try{d=n(c,l),qd(e,t,d)}catch(U){Oo(e,t,U)}}function qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Gd(e,t,l)},function(l){return Oo(e,t,l)}):Gd(e,t,n)}function Gd(e,t,n){t.status="fulfilled",t.value=n,Yd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Id(e,n)))}function Oo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Yd(t),t=t.next;while(t!==l)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function Vd(e,t){if(Ee){var n=ze.formState;if(n!==null){e:{var l=pe;if(Ee){if(Ue){t:{for(var c=Ue,d=qt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Yt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ue=Yt(c.nextSibling),l=c.data==="F!";break e}}kn(l)}l=!1}l&&(t=n[0])}}return n=gt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},n.queue=l,n=df.bind(null,pe,l),l.dispatch=n,l=ko(!1),d=Ho.bind(null,pe,!1,l.queue),l=gt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=My.bind(null,pe,c,d,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function Fd(e){var t=Ve();return Kd(t,ke,e)}function Kd(e,t,n){if(t=Mo(e,t,$d)[0],e=vs(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ai(t)}catch(m){throw m===il?os:m}else l=t;t=Ve();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,ul(9,{destroy:void 0},Ry.bind(null,c,n),null)),[l,d,e]}function Ry(e,t){e.action=t}function Xd(e){var t=Ve(),n=ke;if(n!==null)return Kd(t,n,e);Ve(),t=t.memoizedState,n=Ve();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function ul(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=ps(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Qd(){return Ve().memoizedState}function xs(e,t,n,l){var c=gt();pe.flags|=e,c.memoizedState=ul(1|t,{destroy:void 0},n,l===void 0?null:l)}function bs(e,t,n,l){var c=Ve();l=l===void 0?null:l;var d=c.memoizedState.inst;ke!==null&&l!==null&&_o(l,ke.memoizedState.deps)?c.memoizedState=ul(t,d,n,l):(pe.flags|=e,c.memoizedState=ul(1|t,d,n,l))}function Zd(e,t){xs(8390656,8,e,t)}function Do(e,t){bs(2048,8,e,t)}function ky(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=ps(),pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Wd(e){var t=Ve().memoizedState;return ky({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Jd(e,t){return bs(4,2,e,t)}function Pd(e,t){return bs(4,4,e,t)}function ef(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){n=n!=null?n.concat([e]):null,bs(4,4,ef.bind(null,t,e),n)}function zo(){}function nf(e,t){var n=Ve();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&_o(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=Ve();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&_o(t,l[1]))return l[0];if(l=e(),wa){Nt(!0);try{e()}finally{Nt(!1)}}return n.memoizedState=[l,t],l}function Lo(e,t,n){return n===void 0||(dn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=ih(),pe.lanes|=e,qn|=e,n)}function lf(e,t,n,l){return Et(n,t)?n:rl.current!==null?(e=Lo(e,n,l),Et(e,t)||(Qe=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(_e&261930)===0?(Qe=!0,e.memoizedState=n):(e=ih(),pe.lanes|=e,qn|=e,t)}function sf(e,t,n,l,c){var d=X.p;X.p=d!==0&&8>d?d:8;var m=z.T,x={};z.T=x,Ho(e,!1,t,n);try{var E=c(),U=z.S;if(U!==null&&U(x,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var F=Cy(E,l);li(e,t,F,kt(e))}else li(e,t,l,kt(e))}catch(Q){li(e,t,{then:function(){},status:"rejected",reason:Q},kt())}finally{X.p=d,m!==null&&x.types!==null&&(m.types=x.types),z.T=m}}function Oy(){}function Uo(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=rf(e).queue;sf(e,c,t,Y,n===null?Oy:function(){return of(e),n(l)})}function rf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:Y},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function of(e){var t=rf(e);t.next===null&&(t=e.alternate.memoizedState),li(e,t.next.queue,{},kt())}function Bo(){return rt(Si)}function cf(){return Ve().memoizedState}function uf(){return Ve().memoizedState}function Dy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kt();e=zn(n);var l=Ln(t,e,n);l!==null&&(jt(l,t,n),Pl(l,t,n)),t={cache:ho()},e.payload=t;return}t=t.return}}function zy(e,t,n){var l=kt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)?ff(t,n):(n=to(e,t,n,l),n!==null&&(jt(n,e,l),hf(n,t,l)))}function df(e,t,n){var l=kt();li(e,t,n,l)}function li(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))ff(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,x=d(m,n);if(c.hasEagerState=!0,c.eagerState=x,Et(x,m))return ts(e,t,c,0),ze===null&&es(),!1}catch{}if(n=to(e,t,c,l),n!==null)return jt(n,e,l),hf(n,t,l),!0}return!1}function Ho(e,t,n,l){if(l={lane:2,revertLane:yc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(o(479))}else t=to(e,n,l,2),t!==null&&jt(t,e,2)}function Ss(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function ff(e,t){ol=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,yu(e,n)}}var ii={readContext:rt,use:ys,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};ii.useEffectEvent=qe;var mf={readContext:rt,use:ys,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Zd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xs(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){xs(4,2,e,t)},useMemo:function(e,t){var n=gt();t=t===void 0?null:t;var l=e();if(wa){Nt(!0);try{e()}finally{Nt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=gt();if(n!==void 0){var c=n(t);if(wa){Nt(!0);try{n(t)}finally{Nt(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=zy.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=ko(e);var t=e.queue,n=df.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:zo,useDeferredValue:function(e,t){var n=gt();return Lo(n,e,t)},useTransition:function(){var e=ko(!1);return e=sf.bind(null,pe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=pe,c=gt();if(Ee){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ze===null)throw Error(o(349));(_e&127)!==0||Dd(l,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Zd(Ld.bind(null,l,d,e),[e]),l.flags|=2048,ul(9,{destroy:void 0},zd.bind(null,l,d,n,t),null),n},useId:function(){var e=gt(),t=ze.identifierPrefix;if(Ee){var n=Wt,l=Zt;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Ty++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bo,useFormState:Vd,useActionState:Vd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ho.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ao,useCacheRefresh:function(){return gt().memoizedState=Dy.bind(null,pe)},useEffectEvent:function(e){var t=gt(),n={impl:e};return t.memoizedState=n,function(){if((Ae&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Io={readContext:rt,use:ys,useCallback:nf,useContext:rt,useEffect:Do,useImperativeHandle:tf,useInsertionEffect:Jd,useLayoutEffect:Pd,useMemo:af,useReducer:vs,useRef:Qd,useState:function(){return vs(fn)},useDebugValue:zo,useDeferredValue:function(e,t){var n=Ve();return lf(n,ke.memoizedState,e,t)},useTransition:function(){var e=vs(fn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Od,useId:cf,useHostTransitionStatus:Bo,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var n=Ve();return Hd(n,ke,e,t)},useMemoCache:Ao,useCacheRefresh:uf};Io.useEffectEvent=Wd;var gf={readContext:rt,use:ys,useCallback:nf,useContext:rt,useEffect:Do,useImperativeHandle:tf,useInsertionEffect:Jd,useLayoutEffect:Pd,useMemo:af,useReducer:Ro,useRef:Qd,useState:function(){return Ro(fn)},useDebugValue:zo,useDeferredValue:function(e,t){var n=Ve();return ke===null?Lo(n,e,t):lf(n,ke.memoizedState,e,t)},useTransition:function(){var e=Ro(fn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Od,useId:cf,useHostTransitionStatus:Bo,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var n=Ve();return ke!==null?Hd(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ao,useCacheRefresh:uf};gf.useEffectEvent=Wd;function qo(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=kt(),c=zn(l);c.payload=t,n!=null&&(c.callback=n),t=Ln(e,c,l),t!==null&&(jt(t,e,l),Pl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=kt(),c=zn(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ln(e,c,l),t!==null&&(jt(t,e,l),Pl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),l=zn(n);l.tag=2,t!=null&&(l.callback=t),t=Ln(e,l,n),t!==null&&(jt(t,e,n),Pl(t,e,n))}};function pf(e,t,n,l,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,m):t.prototype&&t.prototype.isPureReactComponent?!Vl(n,l)||!Vl(c,d):!0}function yf(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function ja(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function vf(e){Pi(e)}function xf(e){console.error(e)}function bf(e){Pi(e)}function ws(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Sf(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Yo(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function wf(e){return e=zn(e),e.tag=3,e}function jf(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Sf(t,n,l)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Sf(t,n,l),typeof c!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Ly(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&nl(t,n,c,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Gt===null?Ds():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===cs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),mc(e,l,c)),!1;case 22:return n.flags|=65536,l===cs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),mc(e,l,c)),!1}throw Error(o(435,n.tag))}return mc(e,l,c),Ds(),!1}if(Ee)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==ro&&(e=Error(o(422),{cause:l}),Xl(Bt(e,n)))):(l!==ro&&(t=Error(o(423),{cause:l}),Xl(Bt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Bt(l,n),c=Yo(e.stateNode,l,c),xo(e,c),Ge!==4&&(Ge=2)),!1;var d=Error(o(520),{cause:l});if(d=Bt(d,n),hi===null?hi=[d]:hi.push(d),Ge!==4&&(Ge=2),t===null)return!0;l=Bt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Yo(n.stateNode,l,e),xo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gn===null||!Gn.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=wf(c),jf(c,e,n,l),xo(n,c),!1}n=n.return}while(n!==null);return!1}var $o=Error(o(461)),Qe=!1;function ot(e,t,n,l){t.child=e===null?Ed(t,null,n,l):Sa(t,e.child,n,l)}function _f(e,t,n,l,c){n=n.render;var d=t.ref;if("ref"in l){var m={};for(var x in l)x!=="ref"&&(m[x]=l[x])}else m=l;return ya(t),l=No(e,t,n,m,d,c),x=Eo(),e!==null&&!Qe?(Co(e,t,c),hn(e,t,c)):(Ee&&x&&io(t),t.flags|=1,ot(e,t,l,c),t.child)}function Nf(e,t,n,l,c){if(e===null){var d=n.type;return typeof d=="function"&&!no(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Ef(e,t,d,l,c)):(e=as(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Jo(e,c)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(m,l)&&e.ref===t.ref)return hn(e,t,c)}return t.flags|=1,e=rn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Ef(e,t,n,l,c){if(e!==null){var d=e.memoizedProps;if(Vl(d,l)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=l=d,Jo(e,c))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,hn(e,t,c)}return Vo(e,t,n,l,c)}function Cf(e,t,n,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return Tf(e,t,d,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rs(t,d!==null?d.cachePool:null),d!==null?Ad(t,d):So(),Md(t);else return l=t.lanes=536870912,Tf(e,t,d!==null?d.baseLanes|n:n,n,l)}else d!==null?(rs(t,d.cachePool),Ad(t,d),Bn(),t.memoizedState=null):(e!==null&&rs(t,null),So(),Bn());return ot(e,t,c,n),t.child}function si(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tf(e,t,n,l,c){var d=go();return d=d===null?null:{parent:Ke._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&rs(t,null),So(),Md(t),e!==null&&nl(e,t,l,!0),t.childLanes=c,null}function js(e,t){return t=Ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Af(e,t,n){return Sa(t,e.child,null,n),e=js(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Uy(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=js(t,l),t.lanes=536870912,si(null,e);if(jo(t),(e=Ue)?(e=qh(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},n=dd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return js(t,l)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(jo(t),c)if(t.flags&256)t.flags&=-257,t=Af(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Qe||nl(e,t,n,!1),c=(n&e.childLanes)!==0,Qe||c){if(l=ze,l!==null&&(m=vu(l,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,ha(e,m),jt(l,e,m),$o;Ds(),t=Af(e,t,n)}else e=d.treeContext,Ue=Yt(m.nextSibling),st=t,Ee=!0,Rn=null,qt=!1,e!==null&&md(t,e),t=js(t,l),t.flags|=4096;return t}return e=rn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _s(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vo(e,t,n,l,c){return ya(t),n=No(e,t,n,l,void 0,c),l=Eo(),e!==null&&!Qe?(Co(e,t,c),hn(e,t,c)):(Ee&&l&&io(t),t.flags|=1,ot(e,t,n,c),t.child)}function Mf(e,t,n,l,c,d){return ya(t),t.updateQueue=null,n=kd(t,l,n,c),Rd(e),l=Eo(),e!==null&&!Qe?(Co(e,t,d),hn(e,t,d)):(Ee&&l&&io(t),t.flags|=1,ot(e,t,n,d),t.child)}function Rf(e,t,n,l,c){if(ya(t),t.stateNode===null){var d=Ja,m=n.contextType;typeof m=="object"&&m!==null&&(d=rt(m)),d=new n(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Go,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},yo(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?rt(m):Ja,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(qo(t,n,m,l),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&Go.enqueueReplaceState(d,d.state,null),ti(t,l,d,c),ei(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,E=ja(n,x);d.props=E;var U=d.context,F=n.contextType;m=Ja,typeof F=="object"&&F!==null&&(m=rt(F));var Q=n.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||U!==m)&&yf(t,d,l,m),Dn=!1;var q=t.memoizedState;d.state=q,ti(t,l,d,c),ei(),U=t.memoizedState,x||q!==U||Dn?(typeof Q=="function"&&(qo(t,n,Q,l),U=t.memoizedState),(E=Dn||pf(t,n,E,l,q,U,m))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=U),d.props=l,d.state=U,d.context=m,l=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,vo(e,t),m=t.memoizedProps,F=ja(n,m),d.props=F,Q=t.pendingProps,q=d.context,U=n.contextType,E=Ja,typeof U=="object"&&U!==null&&(E=rt(U)),x=n.getDerivedStateFromProps,(U=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==Q||q!==E)&&yf(t,d,l,E),Dn=!1,q=t.memoizedState,d.state=q,ti(t,l,d,c),ei();var G=t.memoizedState;m!==Q||q!==G||Dn||e!==null&&e.dependencies!==null&&is(e.dependencies)?(typeof x=="function"&&(qo(t,n,x,l),G=t.memoizedState),(F=Dn||pf(t,n,F,l,q,G,E)||e!==null&&e.dependencies!==null&&is(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,E)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),d.props=l,d.state=G,d.context=E,l=F):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,_s(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Sa(t,e.child,null,c),t.child=Sa(t,null,n,c)):ot(e,t,n,c),t.memoizedState=d.state,e=t.child):e=hn(e,t,c),e}function kf(e,t,n,l){return ga(),t.flags|=256,ot(e,t,n,l),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(e){return{baseLanes:e,cachePool:bd()}}function Xo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rt),e}function Of(e,t,n){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?Un(t):Bn(),(e=Ue)?(e=qh(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},n=dd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw kn(t);return Mc(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,c?(Bn(),c=t.mode,x=Ns({mode:"hidden",children:x},c),l=ma(l,c,n,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=Ko(n),l.childLanes=Xo(e,m,n),t.memoizedState=Fo,si(null,l)):(Un(t),Qo(t,x))}var E=e.memoizedState;if(E!==null&&(x=E.dehydrated,x!==null)){if(d)t.flags&256?(Un(t),t.flags&=-257,t=Zo(e,t,n)):t.memoizedState!==null?(Bn(),t.child=e.child,t.flags|=128,t=null):(Bn(),x=l.fallback,c=t.mode,l=Ns({mode:"visible",children:l.children},c),x=ma(x,c,n,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Sa(t,e.child,null,n),l=t.child,l.memoizedState=Ko(n),l.childLanes=Xo(e,m,n),t.memoizedState=Fo,t=si(null,l));else if(Un(t),Mc(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var U=m.dgst;m=U,l=Error(o(419)),l.stack="",l.digest=m,Xl({value:l,source:null,stack:null}),t=Zo(e,t,n)}else if(Qe||nl(e,t,n,!1),m=(n&e.childLanes)!==0,Qe||m){if(m=ze,m!==null&&(l=vu(m,n),l!==0&&l!==E.retryLane))throw E.retryLane=l,ha(e,l),jt(m,e,l),$o;Ac(x)||Ds(),t=Zo(e,t,n)}else Ac(x)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ue=Yt(x.nextSibling),st=t,Ee=!0,Rn=null,qt=!1,e!==null&&md(t,e),t=Qo(t,l.children),t.flags|=4096);return t}return c?(Bn(),x=l.fallback,c=t.mode,E=e.child,U=E.sibling,l=rn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,U!==null?x=rn(U,x):(x=ma(x,c,n,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,si(null,l),l=t.child,x=e.child.memoizedState,x===null?x=Ko(n):(c=x.cachePool,c!==null?(E=Ke._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=bd(),x={baseLanes:x.baseLanes|n,cachePool:c}),l.memoizedState=x,l.childLanes=Xo(e,m,n),t.memoizedState=Fo,si(e.child,l)):(Un(t),n=e.child,e=n.sibling,n=rn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function Qo(e,t){return t=Ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ns(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Zo(e,t,n){return Sa(t,e.child,null,n),e=Qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Df(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),uo(e.return,t,n)}function Wo(e,t,n,l,c,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=n,m.tailMode=c,m.treeForkCount=d)}function zf(e,t,n){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var m=$e.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,O($e,m),ot(e,t,l,n),l=Ee?Kl:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,n,t);else if(e.tag===19)Df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&hs(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Wo(t,!1,c,n,d,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&hs(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Wo(t,!0,n,null,d,l);break;case"together":Wo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(nl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&is(e)))}function By(e,t,n){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),On(t,Ke,e.memoizedState.cache),ga();break;case 27:case 5:at(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Un(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Of(e,t,n):(Un(t),e=hn(e,t,n),e!==null?e.sibling:null);Un(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(nl(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return zf(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),O($e,$e.current),l)break;return null;case 22:return t.lanes=0,Cf(e,t,n,t.pendingProps);case 24:On(t,Ke,e.memoizedState.cache)}return hn(e,t,n)}function Lf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Jo(e,n)&&(t.flags&128)===0)return Qe=!1,By(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,Ee&&(t.flags&1048576)!==0&&hd(t,Kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=xa(t.elementType),t.type=e,typeof e=="function")no(e)?(l=ja(e,l),t.tag=1,t=Rf(null,t,e,l,n)):(t.tag=0,t=Vo(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===Z){t.tag=11,t=_f(null,t,e,l,n);break e}else if(c===P){t.tag=14,t=Nf(null,t,e,l,n);break e}}throw t=le(e)||e,Error(o(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ja(l,t.pendingProps),Rf(e,t,l,c,n);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,vo(e,t),ti(t,l,null,n);var m=t.memoizedState;if(l=m.cache,On(t,Ke,l),l!==d.cache&&fo(t,[Ke],n,!0),ei(),l=m.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=kf(e,t,l,n);break e}else if(l!==c){c=Bt(Error(o(424)),t),Xl(c),t=kf(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=Yt(e.firstChild),st=t,Ee=!0,Rn=null,qt=!0,n=Ed(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),l===c){t=hn(e,t,n);break e}ot(e,t,l,n)}t=t.child}return t;case 26:return _s(e,t),e===null?(n=Kh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,l=qs(oe.current).createElement(n),l[it]=t,l[yt]=e,ct(l,n,e),tt(l),t.stateNode=l):t.memoizedState=Kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return at(t),e===null&&Ee&&(l=t.stateNode=$h(t.type,t.pendingProps,oe.current),st=t,qt=!0,c=Ue,Fn(t.type)?(Rc=c,Ue=Yt(l.firstChild)):Ue=c),ot(e,t,t.pendingProps.children,n),_s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=l=Ue)&&(l=m0(l,t.type,t.pendingProps,qt),l!==null?(t.stateNode=l,st=t,Ue=Yt(l.firstChild),qt=!1,c=!0):c=!1),c||kn(t)),at(t),c=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,l=d.children,Ec(c,d)?l=null:m!==null&&Ec(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=No(e,t,Ay,null,null,n),Si._currentValue=c),_s(e,t),ot(e,t,l,n),t.child;case 6:return e===null&&Ee&&((e=n=Ue)&&(n=g0(n,t.pendingProps,qt),n!==null?(t.stateNode=n,st=t,Ue=null,e=!0):e=!1),e||kn(t)),null;case 13:return Of(e,t,n);case 4:return we(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Sa(t,null,l,n):ot(e,t,l,n),t.child;case 11:return _f(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,On(t,t.type,l.value),ot(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ya(t),c=rt(c),l=l(c),t.flags|=1,ot(e,t,l,n),t.child;case 14:return Nf(e,t,t.type,t.pendingProps,n);case 15:return Ef(e,t,t.type,t.pendingProps,n);case 19:return zf(e,t,n);case 31:return Uy(e,t,n);case 22:return Cf(e,t,n,t.pendingProps);case 24:return ya(t),l=rt(Ke),e===null?(c=go(),c===null&&(c=ze,d=ho(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:l,cache:c},yo(t),On(t,Ke,c)):((e.lanes&n)!==0&&(vo(e,t),ti(t,null,null,n),ei()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),On(t,Ke,l)):(l=d.cache,On(t,Ke,l),l!==c.cache&&fo(t,[Ke],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function mn(e){e.flags|=4}function Po(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ch())e.flags|=8192;else throw ba=cs,po}else e.flags&=-16777217}function Uf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jh(t))if(ch())e.flags|=8192;else throw ba=cs,po}function Es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gu():536870912,e.lanes|=t,ml|=t)}function ri(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Hy(e,t,n){var l=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),un(Ke),je(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tl(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,oo())),Be(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(mn(t),d!==null?(Be(t),Uf(t,d)):(Be(t),Po(t,c,null,l,n))):d?d!==e.memoizedState?(mn(t),Be(t),Uf(t,d)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&mn(t),Be(t),Po(t,c,e,l,n)),null;case 27:if(Dt(t),n=oe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}e=V.current,tl(t)?gd(t):(e=$h(c,l,n),t.stateNode=e,mn(t))}return Be(t),null;case 5:if(Dt(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}if(d=V.current,tl(t))gd(t);else{var m=qs(oe.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?m.createElement(c,{is:l.is}):m.createElement(c)}}d[it]=t,d[yt]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(ct(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&mn(t)}}return Be(t),Po(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&mn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=oe.current,tl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=st,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Oh(e.nodeValue,n)),e||kn(t,!0)}else e=qs(e).createTextNode(l),e[it]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=tl(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[it]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Be(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=tl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[it]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),c=!1}else c=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Es(t,t.updateQueue),Be(t),null);case 4:return je(),e===null&&Sc(t.stateNode.containerInfo),Be(t),null;case 10:return un(t.type),Be(t),null;case 19:if(T($e),l=t.memoizedState,l===null)return Be(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)ri(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=hs(e),d!==null){for(t.flags|=128,ri(l,!1),e=d.updateQueue,t.updateQueue=e,Es(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ud(n,e),n=n.sibling;return O($e,$e.current&1|2),Ee&&on(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&mt()>Rs&&(t.flags|=128,c=!0,ri(l,!1),t.lanes=4194304)}else{if(!c)if(e=hs(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Es(t,e),ri(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ee)return Be(t),null}else 2*mt()-l.renderingStartTime>Rs&&n!==536870912&&(t.flags|=128,c=!0,ri(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=mt(),e.sibling=null,n=$e.current,O($e,c?n&1|2:n&1),Ee&&on(t,l.treeForkCount),e):(Be(t),null);case 22:case 23:return At(t),wo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&Es(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&T(va),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),un(Ke),Be(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Iy(e,t){switch(so(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return un(Ke),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dt(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(o(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T($e),null;case 4:return je(),null;case 10:return un(t.type),null;case 22:case 23:return At(t),wo(),e!==null&&T(va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return un(Ke),null;case 25:return null;default:return null}}function Bf(e,t){switch(so(t),t.tag){case 3:un(Ke),je();break;case 26:case 27:case 5:Dt(t);break;case 4:je();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:T($e);break;case 10:un(t.type);break;case 22:case 23:At(t),wo(),e!==null&&T(va);break;case 24:un(Ke)}}function oi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var d=n.create,m=n.inst;l=d(),m.destroy=l}n=n.next}while(n!==c)}}catch(x){Re(t,t.return,x)}}function Hn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var m=l.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,c=t;var E=n,U=x;try{U()}catch(F){Re(c,E,F)}}}l=l.next}while(l!==d)}}catch(F){Re(t,t.return,F)}}function Hf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Td(t,n)}catch(l){Re(e,e.return,l)}}}function If(e,t,n){n.props=ja(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Re(e,t,l)}}function ci(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){Re(e,t,c)}}function Jt(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Re(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Re(e,t,c)}else n.current=null}function qf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Re(e,e.return,c)}}function ec(e,t,n){try{var l=e.stateNode;o0(l,e.type,n,t),l[yt]=t}catch(c){Re(e,e.return,c)}}function Gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ln));else if(l!==4&&(l===27&&Fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function Cs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cs(e,t,n),e=e.sibling;e!==null;)Cs(e,t,n),e=e.sibling}function Yf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ct(t,l,n),t[it]=e,t[yt]=n}catch(d){Re(e,e.return,d)}}var gn=!1,Ze=!1,ac=!1,$f=typeof WeakSet=="function"?WeakSet:Set,nt=null;function qy(e,t){if(e=e.containerInfo,_c=Xs,e=td(e),Qr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,x=-1,E=-1,U=0,F=0,Q=e,q=null;t:for(;;){for(var G;Q!==n||c!==0&&Q.nodeType!==3||(x=m+c),Q!==d||l!==0&&Q.nodeType!==3||(E=m+l),Q.nodeType===3&&(m+=Q.nodeValue.length),(G=Q.firstChild)!==null;)q=Q,Q=G;for(;;){if(Q===e)break t;if(q===n&&++U===c&&(x=m),q===d&&++F===l&&(E=m),(G=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=G}n=x===-1||E===-1?null:{start:x,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nc={focusedElem:e,selectionRange:n},Xs=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,l=n.stateNode;try{var ce=ja(n.type,c);e=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){Re(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Tc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Vf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:yn(e,n),l&4&&oi(5,n);break;case 1:if(yn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(n,n.return,m)}else{var c=ja(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(n,n.return,m)}}l&64&&Hf(n),l&512&&ci(n,n.return);break;case 3:if(yn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Td(e,t)}catch(m){Re(n,n.return,m)}}break;case 27:t===null&&l&4&&Yf(n);case 26:case 5:yn(e,n),t===null&&l&4&&qf(n),l&512&&ci(n,n.return);break;case 12:yn(e,n);break;case 31:yn(e,n),l&4&&Xf(e,n);break;case 13:yn(e,n),l&4&&Qf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Zy.bind(null,n),p0(e,n))));break;case 22:if(l=n.memoizedState!==null||gn,!l){t=t!==null&&t.memoizedState!==null||Ze,c=gn;var d=Ze;gn=l,(Ze=t)&&!d?vn(e,n,(n.subtreeFlags&8772)!==0):yn(e,n),gn=c,Ze=d}break;case 30:break;default:yn(e,n)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,xt=!1;function pn(e,t,n){for(n=n.child;n!==null;)Kf(e,t,n),n=n.sibling}function Kf(e,t,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(dt,n)}catch{}switch(n.tag){case 26:Ze||Jt(n,t),pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||Jt(n,t);var l=He,c=xt;Fn(n.type)&&(He=n.stateNode,xt=!1),pn(e,t,n),vi(n.stateNode),He=l,xt=c;break;case 5:Ze||Jt(n,t);case 6:if(l=He,c=xt,He=null,pn(e,t,n),He=l,xt=c,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(d){Re(n,t,d)}else try{He.removeChild(n.stateNode)}catch(d){Re(n,t,d)}break;case 18:He!==null&&(xt?(e=He,Hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wl(e)):Hh(He,n.stateNode));break;case 4:l=He,c=xt,He=n.stateNode.containerInfo,xt=!0,pn(e,t,n),He=l,xt=c;break;case 0:case 11:case 14:case 15:Hn(2,n,t),Ze||Hn(4,n,t),pn(e,t,n);break;case 1:Ze||(Jt(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&If(n,t,l)),pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:Ze=(l=Ze)||n.memoizedState!==null,pn(e,t,n),Ze=l;break;default:pn(e,t,n)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wl(e)}catch(n){Re(t,t.return,n)}}}function Qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(n){Re(t,t.return,n)}}function Gy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $f),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $f),t;default:throw Error(o(435,e.tag))}}function Ts(e,t){var n=Gy(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=Wy.bind(null,e,l);l.then(c,c)}})}function bt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],d=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(Fn(x.type)){He=x.stateNode,xt=!1;break e}break;case 5:He=x.stateNode,xt=!1;break e;case 3:case 4:He=x.stateNode.containerInfo,xt=!0;break e}x=x.return}if(He===null)throw Error(o(160));Kf(d,m,c),He=null,xt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zf(t,e),t=t.sibling}var Kt=null;function Zf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),St(e),l&4&&(Hn(3,e,e.return),oi(3,e),Hn(5,e,e.return));break;case 1:bt(t,e),St(e),l&512&&(Ze||n===null||Jt(n,n.return)),l&64&&gn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Kt;if(bt(t,e),St(e),l&512&&(Ze||n===null||Jt(n,n.return)),l&4){var d=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ll]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ct(d,l,n),d[it]=e,tt(d),l=d;break e;case"link":var m=Zh("link","href",c).get(l+(n.href||""));if(m){for(var x=0;x<m.length;x++)if(d=m[x],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(x,1);break t}}d=c.createElement(l),ct(d,l,n),c.head.appendChild(d);break;case"meta":if(m=Zh("meta","content",c).get(l+(n.content||""))){for(x=0;x<m.length;x++)if(d=m[x],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(x,1);break t}}d=c.createElement(l),ct(d,l,n),c.head.appendChild(d);break;default:throw Error(o(468,l))}d[it]=e,tt(d),l=d}e.stateNode=l}else Wh(c,e.type,e.stateNode);else e.stateNode=Qh(c,l,e.memoizedProps);else d!==l?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,l===null?Wh(c,e.type,e.stateNode):Qh(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ec(e,e.memoizedProps,n.memoizedProps)}break;case 27:bt(t,e),St(e),l&512&&(Ze||n===null||Jt(n,n.return)),n!==null&&l&4&&ec(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bt(t,e),St(e),l&512&&(Ze||n===null||Jt(n,n.return)),e.flags&32){c=e.stateNode;try{Va(c,"")}catch(ce){Re(e,e.return,ce)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ec(e,c,n!==null?n.memoizedProps:c)),l&1024&&(ac=!0);break;case 6:if(bt(t,e),St(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ce){Re(e,e.return,ce)}}break;case 3:if($s=null,c=Kt,Kt=Gs(t.containerInfo),bt(t,e),Kt=c,St(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(ce){Re(e,e.return,ce)}ac&&(ac=!1,Wf(e));break;case 4:l=Kt,Kt=Gs(e.stateNode.containerInfo),bt(t,e),St(e),Kt=l;break;case 12:bt(t,e),St(e);break;case 31:bt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ts(e,l)));break;case 13:bt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ms=mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ts(e,l)));break;case 22:c=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,U=gn,F=Ze;if(gn=U||c,Ze=F||E,bt(t,e),Ze=F,gn=U,St(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||E||gn||Ze||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(d=E.stateNode,c)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=E.stateNode;var Q=E.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Re(E,E.return,ce)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(ce){Re(E,E.return,ce)}}}else if(t.tag===18){if(n===null){E=t;try{var G=E.stateNode;c?Ih(G,!0):Ih(E.stateNode,!1)}catch(ce){Re(E,E.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Ts(e,n))));break;case 19:bt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ts(e,l)));break;case 30:break;case 21:break;default:bt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Gf(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,d=tc(e);Cs(e,d,c);break;case 5:var m=n.stateNode;n.flags&32&&(Va(m,""),n.flags&=-33);var x=tc(e);Cs(e,x,m);break;case 3:case 4:var E=n.stateNode.containerInfo,U=tc(e);nc(e,U,E);break;default:throw Error(o(161))}}catch(F){Re(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vf(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),_a(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&If(t,t.return,n),_a(t);break;case 27:vi(t.stateNode);case 26:case 5:Jt(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function vn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:vn(c,d,n),oi(4,d);break;case 1:if(vn(c,d,n),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Re(l,l.return,U)}if(l=d,c=l.updateQueue,c!==null){var x=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Cd(E[c],x)}catch(U){Re(l,l.return,U)}}n&&m&64&&Hf(d),ci(d,d.return);break;case 27:Yf(d);case 26:case 5:vn(c,d,n),n&&l===null&&m&4&&qf(d),ci(d,d.return);break;case 12:vn(c,d,n);break;case 31:vn(c,d,n),n&&m&4&&Xf(c,d);break;case 13:vn(c,d,n),n&&m&4&&Qf(c,d);break;case 22:d.memoizedState===null&&vn(c,d,n),ci(d,d.return);break;case 30:break;default:vn(c,d,n)}t=t.sibling}}function lc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ql(n))}function ic(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e))}function Xt(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jf(e,t,n,l),t=t.sibling}function Jf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,n,l),c&2048&&oi(9,t);break;case 1:Xt(e,t,n,l);break;case 3:Xt(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ql(e)));break;case 12:if(c&2048){Xt(e,t,n,l),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,x=d.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Re(t,t.return,E)}}else Xt(e,t,n,l);break;case 31:Xt(e,t,n,l);break;case 13:Xt(e,t,n,l);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?Xt(e,t,n,l):ui(e,t):d._visibility&2?Xt(e,t,n,l):(d._visibility|=2,dl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&lc(m,t);break;case 24:Xt(e,t,n,l),c&2048&&ic(t.alternate,t);break;default:Xt(e,t,n,l)}}function dl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,x=n,E=l,U=m.flags;switch(m.tag){case 0:case 11:case 15:dl(d,m,x,E,c),oi(8,m);break;case 23:break;case 22:var F=m.stateNode;m.memoizedState!==null?F._visibility&2?dl(d,m,x,E,c):ui(d,m):(F._visibility|=2,dl(d,m,x,E,c)),c&&U&2048&&lc(m.alternate,m);break;case 24:dl(d,m,x,E,c),c&&U&2048&&ic(m.alternate,m);break;default:dl(d,m,x,E,c)}t=t.sibling}}function ui(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:ui(n,l),c&2048&&lc(l.alternate,l);break;case 24:ui(n,l),c&2048&&ic(l.alternate,l);break;default:ui(n,l)}t=t.sibling}}var di=8192;function fl(e,t,n){if(e.subtreeFlags&di)for(e=e.child;e!==null;)Pf(e,t,n),e=e.sibling}function Pf(e,t,n){switch(e.tag){case 26:fl(e,t,n),e.flags&di&&e.memoizedState!==null&&T0(n,Kt,e.memoizedState,e.memoizedProps);break;case 5:fl(e,t,n);break;case 3:case 4:var l=Kt;Kt=Gs(e.stateNode.containerInfo),fl(e,t,n),Kt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=di,di=16777216,fl(e,t,n),di=l):fl(e,t,n));break;default:fl(e,t,n)}}function eh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,nh(l,e)}eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)th(e),e=e.sibling}function th(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,As(e)):fi(e);break;default:fi(e)}}function As(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,nh(l,e)}eh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),As(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,As(t));break;default:As(t)}e=e.sibling}}function nh(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Hn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ql(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,nt=l;else e:for(n=e;nt!==null;){l=nt;var c=l.sibling,d=l.return;if(Ff(l),l===n){nt=null;break e}if(c!==null){c.return=d,nt=c;break e}nt=d}}}var Yy={getCacheForType:function(e){var t=rt(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rt(Ke).controller.signal}},$y=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,be=null,_e=0,Me=0,Mt=null,In=!1,hl=!1,sc=!1,xn=0,Ge=0,qn=0,Na=0,rc=0,Rt=0,ml=0,hi=null,wt=null,oc=!1,Ms=0,ah=0,Rs=1/0,ks=null,Gn=null,Pe=0,Yn=null,gl=null,bn=0,cc=0,uc=null,lh=null,mi=0,dc=null;function kt(){return(Ae&2)!==0&&_e!==0?_e&-_e:z.T!==null?yc():xu()}function ih(){if(Rt===0)if((_e&536870912)===0||Ee){var e=Ol;Ol<<=1,(Ol&3932160)===0&&(Ol=262144),Rt=e}else Rt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Rt}function jt(e,t,n){(e===ze&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(pl(e,0),$n(e,_e,Rt,!1)),zl(e,n),((Ae&2)===0||e!==ze)&&(e===ze&&((Ae&2)===0&&(Na|=n),Ge===4&&$n(e,_e,Rt,!1)),Pt(e))}function sh(e,t,n){if((Ae&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Dl(e,t),c=l?Ky(e,t):hc(e,t,!0),d=l;do{if(c===0){hl&&!l&&$n(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Vy(n)){c=hc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;c=hi;var E=x.current.memoizedState.isDehydrated;if(E&&(pl(x,m).flags|=256),m=hc(x,m,!1),m!==2){if(sc&&!E){x.errorRecoveryDisabledLanes|=d,Na|=d,c=4;break e}d=wt,wt=c,d!==null&&(wt===null?wt=d:wt.push.apply(wt,d))}c=m}if(d=!1,c!==2)continue}}if(c===1){pl(e,0),$n(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:$n(l,t,Rt,!In);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Ms+300-mt(),10<c)){if($n(l,t,Rt,!In),Gi(l,0,!0)!==0)break e;bn=t,l.timeoutHandle=Uh(rh.bind(null,l,n,wt,ks,oc,t,Rt,Na,ml,In,d,"Throttled",-0,0),c);break e}rh(l,n,wt,ks,oc,t,Rt,Na,ml,In,d,null,-0,0)}}break}while(!0);Pt(e)}function rh(e,t,n,l,c,d,m,x,E,U,F,Q,q,G){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Pf(t,d,Q);var ce=(d&62914560)===d?Ms-mt():(d&4194048)===d?ah-mt():0;if(ce=A0(Q,ce),ce!==null){bn=d,e.cancelPendingCommit=ce(gh.bind(null,e,t,d,n,l,c,m,x,E,F,Q,null,q,G)),$n(e,d,m,!U);return}}gh(e,t,d,n,l,c,m,x,E)}function Vy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],d=c.getSnapshot;c=c.value;try{if(!Et(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,n,l){t&=~rc,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-xe(c),m=1<<d;l[d]=-1,c&=~m}n!==0&&pu(e,n,t)}function Os(){return(Ae&6)===0?(gi(0),!1):!0}function fc(){if(be!==null){if(Me===0)var e=be.return;else e=be,cn=pa=null,To(e),sl=null,Wl=0,e=be;for(;e!==null;)Bf(e.alternate,e),e=e.return;be=null}}function pl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,d0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bn=0,fc(),ze=e,be=n=rn(e.current,null),_e=t,Me=0,Mt=null,In=!1,hl=Dl(e,t),sc=!1,ml=Rt=rc=Na=qn=Ge=0,wt=hi=null,oc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-xe(l),d=1<<c;t|=e[c],l&=~d}return xn=t,es(),n}function oh(e,t){pe=null,z.H=ii,t===il||t===os?(t=jd(),Me=3):t===po?(t=jd(),Me=4):Me=t===$o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,be===null&&(Ge=1,ws(e,Bt(t,e.current)))}function ch(){var e=Tt.current;return e===null?!0:(_e&4194048)===_e?Gt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Gt:!1}function uh(){var e=z.H;return z.H=ii,e===null?ii:e}function dh(){var e=z.A;return z.A=Yy,e}function Ds(){Ge=4,In||(_e&4194048)!==_e&&Tt.current!==null||(hl=!0),(qn&134217727)===0&&(Na&134217727)===0||ze===null||$n(ze,_e,Rt,!1)}function hc(e,t,n){var l=Ae;Ae|=2;var c=uh(),d=dh();(ze!==e||_e!==t)&&(ks=null,pl(e,t)),t=!1;var m=Ge;e:do try{if(Me!==0&&be!==null){var x=be,E=Mt;switch(Me){case 8:fc(),m=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var U=Me;if(Me=0,Mt=null,yl(e,x,E,U),n&&hl){m=0;break e}break;default:U=Me,Me=0,Mt=null,yl(e,x,E,U)}}Fy(),m=Ge;break}catch(F){oh(e,F)}while(!0);return t&&e.shellSuspendCounter++,cn=pa=null,Ae=l,z.H=c,z.A=d,be===null&&(ze=null,_e=0,es()),m}function Fy(){for(;be!==null;)fh(be)}function Ky(e,t){var n=Ae;Ae|=2;var l=uh(),c=dh();ze!==e||_e!==t?(ks=null,Rs=mt()+500,pl(e,t)):hl=Dl(e,t);e:do try{if(Me!==0&&be!==null){t=be;var d=Mt;t:switch(Me){case 1:Me=0,Mt=null,yl(e,t,d,1);break;case 2:case 9:if(Sd(d)){Me=0,Mt=null,hh(t);break}t=function(){Me!==2&&Me!==9||ze!==e||(Me=7),Pt(e)},d.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Sd(d)?(Me=0,Mt=null,hh(t)):(Me=0,Mt=null,yl(e,t,d,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var x=be;if(m?Jh(m):x.stateNode.complete){Me=0,Mt=null;var E=x.sibling;if(E!==null)be=E;else{var U=x.return;U!==null?(be=U,zs(U)):be=null}break t}}Me=0,Mt=null,yl(e,t,d,5);break;case 6:Me=0,Mt=null,yl(e,t,d,6);break;case 8:fc(),Ge=6;break e;default:throw Error(o(462))}}Xy();break}catch(F){oh(e,F)}while(!0);return cn=pa=null,z.H=l,z.A=c,Ae=n,be!==null?0:(ze=null,_e=0,es(),Ge)}function Xy(){for(;be!==null&&!jr();)fh(be)}function fh(e){var t=Lf(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?zs(e):be=t}function hh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mf(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=Mf(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:To(t);default:Bf(n,t),t=be=ud(t,xn),t=Lf(n,t,xn)}e.memoizedProps=e.pendingProps,t===null?zs(e):be=t}function yl(e,t,n,l){cn=pa=null,To(t),sl=null,Wl=0;var c=t.return;try{if(Ly(e,c,t,n,_e)){Ge=1,ws(e,Bt(n,e.current)),be=null;return}}catch(d){if(c!==null)throw be=c,d;Ge=1,ws(e,Bt(n,e.current)),be=null;return}t.flags&32768?(Ee||l===1?e=!0:hl||(_e&536870912)!==0?e=!1:(In=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tt.current,l!==null&&l.tag===13&&(l.flags|=16384))),mh(t,e)):zs(t)}function zs(e){var t=e;do{if((t.flags&32768)!==0){mh(t,In);return}e=t.return;var n=Hy(t.alternate,t,xn);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ge===0&&(Ge=5)}function mh(e,t){do{var n=Iy(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);Ge=6,be=null}function gh(e,t,n,l,c,d,m,x,E){e.cancelPendingCommit=null;do Ls();while(Pe!==0);if((Ae&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(d=t.lanes|t.childLanes,d|=eo,Cp(e,n,d,m,x,E),e===ze&&(be=ze=null,_e=0),gl=t,Yn=e,bn=n,cc=d,uc=c,lh=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jy(Ba,function(){return bh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=X.p,X.p=2,m=Ae,Ae|=4;try{qy(e,t,n)}finally{Ae=m,X.p=c,z.T=l}}Pe=1,ph(),yh(),vh()}}function ph(){if(Pe===1){Pe=0;var e=Yn,t=gl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=X.p;X.p=2;var c=Ae;Ae|=4;try{Zf(t,e);var d=Nc,m=td(e.containerInfo),x=d.focusedElem,E=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&ed(x.ownerDocument.documentElement,x)){if(E!==null&&Qr(x)){var U=E.start,F=E.end;if(F===void 0&&(F=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(F,x.value.length);else{var Q=x.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var G=q.getSelection(),ce=x.textContent.length,he=Math.min(E.start,ce),De=E.end===void 0?he:Math.min(E.end,ce);!G.extend&&he>De&&(m=De,De=he,he=m);var D=Pu(x,he),R=Pu(x,De);if(D&&R&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var L=Q.createRange();L.setStart(D.node,D.offset),G.removeAllRanges(),he>De?(G.addRange(L),G.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),G.addRange(L))}}}}for(Q=[],G=x;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Q.length;x++){var K=Q[x];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Xs=!!_c,Nc=_c=null}finally{Ae=c,X.p=l,z.T=n}}e.current=t,Pe=2}}function yh(){if(Pe===2){Pe=0;var e=Yn,t=gl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=X.p;X.p=2;var c=Ae;Ae|=4;try{Vf(e,t.alternate,t)}finally{Ae=c,X.p=l,z.T=n}}Pe=3}}function vh(){if(Pe===4||Pe===3){Pe=0,_r();var e=Yn,t=gl,n=bn,l=lh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,gl=Yn=null,xh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Gn=null),Mr(n),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(dt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,c=X.p,X.p=2,z.T=null;try{for(var d=e.onRecoverableError,m=0;m<l.length;m++){var x=l[m];d(x.value,{componentStack:x.stack})}}finally{z.T=t,X.p=c}}(bn&3)!==0&&Ls(),Pt(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===dc?mi++:(mi=0,dc=e):mi=0,gi(0)}}function xh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ql(t)))}function Ls(){return ph(),yh(),vh(),bh()}function bh(){if(Pe!==5)return!1;var e=Yn,t=cc;cc=0;var n=Mr(bn),l=z.T,c=X.p;try{X.p=32>n?32:n,z.T=null,n=uc,uc=null;var d=Yn,m=bn;if(Pe=0,gl=Yn=null,bn=0,(Ae&6)!==0)throw Error(o(331));var x=Ae;if(Ae|=4,th(d.current),Jf(d,d.current,m,n),Ae=x,gi(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{X.p=c,z.T=l,xh(e,t)}}function Sh(e,t,n){t=Bt(n,t),t=Yo(e.stateNode,t,2),e=Ln(e,t,2),e!==null&&(zl(e,2),Pt(e))}function Re(e,t,n){if(e.tag===3)Sh(e,e,n);else for(;t!==null;){if(t.tag===3){Sh(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gn===null||!Gn.has(l))){e=Bt(n,e),n=wf(2),l=Ln(t,n,2),l!==null&&(jf(n,l,t,e),zl(l,2),Pt(l));break}}t=t.return}}function mc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new $y;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(sc=!0,c.add(n),e=Qy.bind(null,e,t,n),t.then(e,e))}function Qy(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(_e&n)===n&&(Ge===4||Ge===3&&(_e&62914560)===_e&&300>mt()-Ms?(Ae&2)===0&&pl(e,0):rc|=n,ml===_e&&(ml=0)),Pt(e)}function wh(e,t){t===0&&(t=gu()),e=ha(e,t),e!==null&&(zl(e,t),Pt(e))}function Zy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wh(e,n)}function Wy(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),wh(e,n)}function Jy(e,t){return La(e,t)}var Us=null,vl=null,gc=!1,Bs=!1,pc=!1,Vn=0;function Pt(e){e!==vl&&e.next===null&&(vl===null?Us=vl=e:vl=vl.next=e),Bs=!0,gc||(gc=!0,e0())}function gi(e,t){if(!pc&&Bs){pc=!0;do for(var n=!1,l=Us;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var m=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=c&~(m&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Eh(l,d))}else d=_e,d=Gi(l,l===ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Dl(l,d)||(n=!0,Eh(l,d));l=l.next}while(n);pc=!1}}function Py(){jh()}function jh(){Bs=gc=!1;var e=0;Vn!==0&&u0()&&(e=Vn);for(var t=mt(),n=null,l=Us;l!==null;){var c=l.next,d=_h(l,t);d===0?(l.next=null,n===null?Us=c:n.next=c,c===null&&(vl=n)):(n=l,(e!==0||(d&3)!==0)&&(Bs=!0)),l=c}Pe!==0&&Pe!==5||gi(e),Vn!==0&&(Vn=0)}function _h(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-xe(d),x=1<<m,E=c[m];E===-1?((x&n)===0||(x&l)!==0)&&(c[m]=Ep(x,t)):E<=t&&(e.expiredLanes|=x),d&=~x}if(t=ze,n=_e,n=Gi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ua(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Dl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ua(l),Mr(n)){case 2:case 8:n=Hi;break;case 32:n=Ba;break;case 268435456:n=me;break;default:n=Ba}return l=Nh.bind(null,e),n=La(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ua(l),e.callbackPriority=2,e.callbackNode=null,2}function Nh(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ls()&&e.callbackNode!==n)return null;var l=_e;return l=Gi(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sh(e,l,t),_h(e,mt()),e.callbackNode!=null&&e.callbackNode===n?Nh.bind(null,e):null)}function Eh(e,t){if(Ls())return null;sh(e,t,!0)}function e0(){f0(function(){(Ae&6)!==0?La(Bi,Py):jh()})}function yc(){if(Vn===0){var e=al;e===0&&(e=kl,kl<<=1,(kl&261888)===0&&(kl=256)),Vn=e}return Vn}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fi(""+e)}function Th(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function t0(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var d=Ch((c[yt]||null).action),m=l.submitter;m&&(t=(t=m[yt]||null)?Ch(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var x=new Zi("action","action",null,l,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vn!==0){var E=m?Th(c,m):new FormData(c);Uo(n,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(x.preventDefault(),E=m?Th(c,m):new FormData(c),Uo(n,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var vc=0;vc<Pr.length;vc++){var xc=Pr[vc],n0=xc.toLowerCase(),a0=xc[0].toUpperCase()+xc.slice(1);Ft(n0,"on"+a0)}Ft(ld,"onAnimationEnd"),Ft(id,"onAnimationIteration"),Ft(sd,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(xy,"onTransitionRun"),Ft(by,"onTransitionStart"),Ft(Sy,"onTransitionCancel"),Ft(rd,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pi));function Ah(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var m=l.length-1;0<=m;m--){var x=l[m],E=x.instance,U=x.currentTarget;if(x=x.listener,E!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=U;try{d(c)}catch(F){Pi(F)}c.currentTarget=null,d=E}else for(m=0;m<l.length;m++){if(x=l[m],E=x.instance,U=x.currentTarget,x=x.listener,E!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=U;try{d(c)}catch(F){Pi(F)}c.currentTarget=null,d=E}}}}function Se(e,t){var n=t[Rr];n===void 0&&(n=t[Rr]=new Set);var l=e+"__bubble";n.has(l)||(Mh(t,e,2,!1),n.add(l))}function bc(e,t,n){var l=0;t&&(l|=4),Mh(n,e,l,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Sc(e){if(!e[Hs]){e[Hs]=!0,wu.forEach(function(n){n!=="selectionchange"&&(l0.has(n)||bc(n,!1,e),bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,bc("selectionchange",!1,t))}}function Mh(e,t,n,l){switch(im(t)){case 2:var c=k0;break;case 8:c=O0;break;default:c=Lc}n=c.bind(null,t,n,e),c=void 0,!Ir||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function wc(e,t,n,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var x=l.stateNode.containerInfo;if(x===c)break;if(m===4)for(m=l.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;x!==null;){if(m=Ia(x),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){l=d=m;continue e}x=x.parentNode}}l=l.return}Du(function(){var U=d,F=Br(n),Q=[];e:{var q=od.get(e);if(q!==void 0){var G=Zi,ce=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":G=Wp;break;case"focusin":ce="focus",G=$r;break;case"focusout":ce="blur",G=$r;break;case"beforeblur":case"afterblur":G=$r;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ey;break;case ld:case id:case sd:G=Gp;break;case rd:G=ny;break;case"scroll":case"scrollend":G=Up;break;case"wheel":G=ly;break;case"copy":case"cut":case"paste":G=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hu;break;case"toggle":case"beforetoggle":G=sy}var he=(t&4)!==0,De=!he&&(e==="scroll"||e==="scrollend"),D=he?q!==null?q+"Capture":null:q;he=[];for(var R=U,L;R!==null;){var K=R;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||D===null||(K=Bl(R,D),K!=null&&he.push(yi(R,K,L))),De)break;R=R.return}0<he.length&&(q=new G(q,ce,null,n,F),Q.push({event:q,listeners:he}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&n!==Ur&&(ce=n.relatedTarget||n.fromElement)&&(Ia(ce)||ce[Ha]))break e;if((G||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ce=n.relatedTarget||n.toElement,G=U,ce=ce?Ia(ce):null,ce!==null&&(De=f(ce),he=ce.tag,ce!==De||he!==5&&he!==27&&he!==6)&&(ce=null)):(G=null,ce=U),G!==ce)){if(he=Uu,K="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(he=Hu,K="onPointerLeave",D="onPointerEnter",R="pointer"),De=G==null?q:Ul(G),L=ce==null?q:Ul(ce),q=new he(K,R+"leave",G,n,F),q.target=De,q.relatedTarget=L,K=null,Ia(F)===U&&(he=new he(D,R+"enter",ce,n,F),he.target=L,he.relatedTarget=De,K=he),De=K,G&&ce)t:{for(he=i0,D=G,R=ce,L=0,K=D;K;K=he(K))L++;K=0;for(var fe=R;fe;fe=he(fe))K++;for(;0<L-K;)D=he(D),L--;for(;0<K-L;)R=he(R),K--;for(;L--;){if(D===R||R!==null&&D===R.alternate){he=D;break t}D=he(D),R=he(R)}he=null}else he=null;G!==null&&Rh(Q,q,G,he,!1),ce!==null&&De!==null&&Rh(Q,De,ce,he,!0)}}e:{if(q=U?Ul(U):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ce=Ku;else if(Vu(q))if(Xu)Ce=py;else{Ce=my;var ue=hy}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Lr(U.elementType)&&(Ce=Ku):Ce=gy;if(Ce&&(Ce=Ce(e,U))){Fu(Q,Ce,n,F);break e}ue&&ue(e,q,U),e==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&zr(q,"number",q.value)}switch(ue=U?Ul(U):window,e){case"focusin":(Vu(ue)||ue.contentEditable==="true")&&(Qa=ue,Zr=U,Fl=null);break;case"focusout":Fl=Zr=Qa=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":Wr=!1,nd(Q,n,F);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":nd(Q,n,F)}var ye;if(Fr)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Xa?Yu(e,n)&&(Ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ne="onCompositionStart");Ne&&(Iu&&n.locale!=="ko"&&(Xa||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Xa&&(ye=zu()):(An=F,qr="value"in An?An.value:An.textContent,Xa=!0)),ue=Is(U,Ne),0<ue.length&&(Ne=new Bu(Ne,e,null,n,F),Q.push({event:Ne,listeners:ue}),ye?Ne.data=ye:(ye=$u(n),ye!==null&&(Ne.data=ye)))),(ye=oy?cy(e,n):uy(e,n))&&(Ne=Is(U,"onBeforeInput"),0<Ne.length&&(ue=new Bu("onBeforeInput","beforeinput",null,n,F),Q.push({event:ue,listeners:Ne}),ue.data=ye)),t0(Q,e,U,n,F)}Ah(Q,t)})}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Bl(e,n),c!=null&&l.unshift(yi(e,c,d)),c=Bl(e,t),c!=null&&l.push(yi(e,c,d))),e.tag===3)return l;e=e.return}return[]}function i0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rh(e,t,n,l,c){for(var d=t._reactName,m=[];n!==null&&n!==l;){var x=n,E=x.alternate,U=x.stateNode;if(x=x.tag,E!==null&&E===l)break;x!==5&&x!==26&&x!==27||U===null||(E=U,c?(U=Bl(n,d),U!=null&&m.unshift(yi(n,U,E))):c||(U=Bl(n,d),U!=null&&m.push(yi(n,U,E)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var s0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(s0,`
`).replace(r0,"")}function Oh(e,t){return t=kh(t),kh(e)===t}function Oe(e,t,n,l,c,d){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Va(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Va(e,""+l);break;case"className":$i(e,"class",l);break;case"tabIndex":$i(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(e,n,l);break;case"style":ku(e,l,d);break;case"data":if(t!=="object"){$i(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Fi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",c.name,c,null),Oe(e,t,"formEncType",c.formEncType,c,null),Oe(e,t,"formMethod",c.formMethod,c,null),Oe(e,t,"formTarget",c.formTarget,c,null)):(Oe(e,t,"encType",c.encType,c,null),Oe(e,t,"method",c.method,c,null),Oe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Fi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ln);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Fi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Yi(e,"popover",l);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zp.get(n)||n,Yi(e,n,l))}}function jc(e,t,n,l,c,d){switch(n){case"style":ku(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Va(e,l):(typeof l=="number"||typeof l=="bigint")&&Va(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ju.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[yt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Yi(e,n,l)}}}function ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Oe(e,t,d,m,n,null)}}c&&Oe(e,t,"srcSet",n.srcSet,n,null),l&&Oe(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var x=d=m=c=null,E=null,U=null;for(l in n)if(n.hasOwnProperty(l)){var F=n[l];if(F!=null)switch(l){case"name":c=F;break;case"type":m=F;break;case"checked":E=F;break;case"defaultChecked":U=F;break;case"value":d=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:Oe(e,t,l,F,n,null)}}Tu(e,d,x,E,U,m,c,!1);return;case"select":Se("invalid",e),l=m=d=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":m=x;break;case"multiple":l=x;default:Oe(e,t,c,x,n,null)}t=d,n=m,e.multiple=!!l,t!=null?$a(e,!!l,t,!1):n!=null&&$a(e,!!l,n,!0);return;case"textarea":Se("invalid",e),d=c=l=null;for(m in n)if(n.hasOwnProperty(m)&&(x=n[m],x!=null))switch(m){case"value":l=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:Oe(e,t,m,x,n,null)}Mu(e,l,c,d);return;case"option":for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null)&&(E==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(e,t,E,l,n,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<pi.length;l++)Se(pi[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(l=n[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Oe(e,t,U,l,n,null)}return;default:if(Lr(t)){for(F in n)n.hasOwnProperty(F)&&(l=n[F],l!==void 0&&jc(e,t,F,l,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(l=n[x],l!=null&&Oe(e,t,x,l,n,null))}function o0(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,m=null,x=null,E=null,U=null,F=null;for(G in n){var Q=n[G];if(n.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":E=Q;default:l.hasOwnProperty(G)||Oe(e,t,G,null,l,Q)}}for(var q in l){var G=l[q];if(Q=n[q],l.hasOwnProperty(q)&&(G!=null||Q!=null))switch(q){case"type":d=G;break;case"name":c=G;break;case"checked":U=G;break;case"defaultChecked":F=G;break;case"value":m=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==Q&&Oe(e,t,q,G,l,Q)}}Dr(e,m,x,E,U,F,d,c);return;case"select":G=m=x=q=null;for(d in n)if(E=n[d],n.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":G=E;default:l.hasOwnProperty(d)||Oe(e,t,d,null,l,E)}for(c in l)if(d=l[c],E=n[c],l.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":q=d;break;case"defaultValue":x=d;break;case"multiple":m=d;default:d!==E&&Oe(e,t,c,d,l,E)}t=x,n=m,l=G,q!=null?$a(e,!!n,q,!1):!!l!=!!n&&(t!=null?$a(e,!!n,t,!0):$a(e,!!n,n?[]:"",!1));return;case"textarea":G=q=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Oe(e,t,x,null,l,c)}for(m in l)if(c=l[m],d=n[m],l.hasOwnProperty(m)&&(c!=null||d!=null))switch(m){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Oe(e,t,m,c,l,d)}Au(e,q,G);return;case"option":for(var ce in n)q=n[ce],n.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?e.selected=!1:Oe(e,t,ce,null,l,q));for(E in l)q=l[E],G=n[E],l.hasOwnProperty(E)&&q!==G&&(q!=null||G!=null)&&(E==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":Oe(e,t,E,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)q=n[he],n.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he)&&Oe(e,t,he,null,l,q);for(U in l)if(q=l[U],G=n[U],l.hasOwnProperty(U)&&q!==G&&(q!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Oe(e,t,U,q,l,G)}return;default:if(Lr(t)){for(var De in n)q=n[De],n.hasOwnProperty(De)&&q!==void 0&&!l.hasOwnProperty(De)&&jc(e,t,De,void 0,l,q);for(F in l)q=l[F],G=n[F],!l.hasOwnProperty(F)||q===G||q===void 0&&G===void 0||jc(e,t,F,q,l,G);return}}for(var D in n)q=n[D],n.hasOwnProperty(D)&&q!=null&&!l.hasOwnProperty(D)&&Oe(e,t,D,null,l,q);for(Q in l)q=l[Q],G=n[Q],!l.hasOwnProperty(Q)||q===G||q==null&&G==null||Oe(e,t,Q,q,l,G)}function Dh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],d=c.transferSize,m=c.initiatorType,x=c.duration;if(d&&x&&Dh(m)){for(m=0,x=c.responseEnd,l+=1;l<n.length;l++){var E=n[l],U=E.startTime;if(U>x)break;var F=E.transferSize,Q=E.initiatorType;F&&Dh(Q)&&(E=E.responseEnd,m+=F*(E<x?1:(x-U)/(E-U)))}if(--l,t+=8*(d+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _c=null,Nc=null;function qs(e){return e.nodeType===9?e:e.ownerDocument}function zh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cc=null;function u0(){var e=window.event;return e&&e.type==="popstate"?e===Cc?!1:(Cc=e,!0):(Cc=null,!1)}var Uh=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(h0)}:Uh;function h0(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Hh(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),wl(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")vi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,vi(n);for(var d=n.firstChild;d;){var m=d.nextSibling,x=d.nodeName;d[Ll]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&vi(e.ownerDocument.body);n=c}while(n);wl(t)}function Ih(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tc(n),kr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function m0(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function g0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function qh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Ac(e){return e.data==="$?"||e.data==="$~"}function Mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function p0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Rc=null;function Gh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Yh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function $h(e,t,n){switch(t=qs(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kr(e)}var $t=new Map,Vh=new Set;function Gs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=X.d;X.d={f:y0,r:v0,D:x0,C:b0,L:S0,m:w0,X:_0,S:j0,M:N0};function y0(){var e=Sn.f(),t=Os();return e||t}function v0(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?of(t):Sn.r(e)}var xl=typeof document>"u"?null:document;function Fh(e,t,n){var l=xl;if(l&&typeof t=="string"&&t){var c=Lt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Vh.has(c)||(Vh.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function x0(e){Sn.D(e),Fh("dns-prefetch",e,null)}function b0(e,t){Sn.C(e,t),Fh("preconnect",e,t)}function S0(e,t,n){Sn.L(e,t,n);var l=xl;if(l&&e&&t){var c='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Lt(n.imageSizes)+'"]')):c+='[href="'+Lt(e)+'"]';var d=c;switch(t){case"style":d=bl(e);break;case"script":d=Sl(e)}$t.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$t.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(xi(d))||t==="script"&&l.querySelector(bi(d))||(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function w0(e,t){Sn.m(e,t);var n=xl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Sl(e)}if(!$t.has(d)&&(e=v({rel:"modulepreload",href:e},t),$t.set(d,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bi(d)))return}l=n.createElement("link"),ct(l,"link",e),tt(l),n.head.appendChild(l)}}}function j0(e,t,n){Sn.S(e,t,n);var l=xl;if(l&&e){var c=Ga(l).hoistableStyles,d=bl(e);t=t||"default";var m=c.get(d);if(!m){var x={loading:0,preload:null};if(m=l.querySelector(xi(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$t.get(d))&&kc(e,n);var E=m=l.createElement("link");tt(E),ct(E,"link",e),E._p=new Promise(function(U,F){E.onload=U,E.onerror=F}),E.addEventListener("load",function(){x.loading|=1}),E.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ys(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:x},c.set(d,m)}}}function _0(e,t){Sn.X(e,t);var n=xl;if(n&&e){var l=Ga(n).hoistableScripts,c=Sl(e),d=l.get(c);d||(d=n.querySelector(bi(c)),d||(e=v({src:e,async:!0},t),(t=$t.get(c))&&Oc(e,t),d=n.createElement("script"),tt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function N0(e,t){Sn.M(e,t);var n=xl;if(n&&e){var l=Ga(n).hoistableScripts,c=Sl(e),d=l.get(c);d||(d=n.querySelector(bi(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=$t.get(c))&&Oc(e,t),d=n.createElement("script"),tt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Kh(e,t,n,l){var c=(c=oe.current)?Gs(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=bl(n.href),n=Ga(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=bl(n.href);var d=Ga(c).hoistableStyles,m=d.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=c.querySelector(xi(e)))&&!d._p&&(m.instance=d,m.state.loading=5),$t.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$t.set(e,n),d||E0(c,e,n,m.state))),t&&l===null)throw Error(o(528,""));return m}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Sl(n),n=Ga(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function bl(e){return'href="'+Lt(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function Xh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function E0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ct(t,"link",n),tt(t),e.head.appendChild(t))}function Sl(e){return'[src="'+Lt(e)+'"]'}function bi(e){return"script[async]"+e}function Qh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(l)return t.instance=l,tt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),ct(l,"style",c),Ys(l,n.precedence,e),t.instance=l;case"stylesheet":c=bl(n.href);var d=e.querySelector(xi(c));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;l=Xh(n),(c=$t.get(c))&&kc(l,c),d=(e.ownerDocument||e).createElement("link"),tt(d);var m=d;return m._p=new Promise(function(x,E){m.onload=x,m.onerror=E}),ct(d,"link",l),t.state.loading|=4,Ys(d,n.precedence,e),t.instance=d;case"script":return d=Sl(n.src),(c=e.querySelector(bi(d)))?(t.instance=c,tt(c),c):(l=n,(c=$t.get(d))&&(l=v({},n),Oc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),tt(c),ct(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ys(l,n.precedence,e));return t.instance}function Ys(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,m=0;m<l.length;m++){var x=l[m];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $s=null;function Zh(e,t,n){if($s===null){var l=new Map,c=$s=new Map;c.set(n,l)}else c=$s,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[Ll]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var x=l.get(m);x?x.push(d):l.set(m,[d])}}return l}function Wh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function C0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function T0(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=bl(l.href),d=t.querySelector(xi(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,tt(d);return}d=t.ownerDocument||t,l=Xh(l),(c=$t.get(c))&&kc(l,c),d=d.createElement("link"),tt(d);var m=d;m._p=new Promise(function(x,E){m.onload=x,m.onerror=E}),ct(d,"link",l),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Vs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Dc=0;function A0(e,t){return e.stylesheets&&e.count===0&&Ks(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Ks(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Dc===0&&(Dc=62500*c0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ks(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Dc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ks(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fs=null;function Ks(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fs=new Map,t.forEach(M0,e),Fs=null,Vs.call(e))}function M0(e,t){if(!(t.state.loading&4)){var n=Fs.get(e);if(n)var l=n.get(null);else{n=new Map,Fs.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var m=c[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),l=m)}l&&n.set(null,l)}c=t.instance,m=c.getAttribute("data-precedence"),d=n.get(m)||l,d===l&&n.set(null,c),n.set(m,c),this.count++,l=Vs.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Si={$$typeof:B,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function R0(e,t,n,l,c,d,m,x,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ph(e,t,n,l,c,d,m,x,E,U,F,Q){return e=new R0(e,t,n,m,E,U,F,Q,x),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=ho(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:n,cache:t},yo(d),e}function em(e){return e?(e=Ja,e):Ja}function tm(e,t,n,l,c,d){c=em(c),l.context===null?l.context=c:l.pendingContext=c,l=zn(t),l.payload={element:n},d=d===void 0?null:d,d!==null&&(l.callback=d),n=Ln(e,l,t),n!==null&&(jt(n,e,t),Pl(n,e,t))}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zc(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function am(e){if(e.tag===13||e.tag===31){var t=ha(e,67108864);t!==null&&jt(t,e,67108864),zc(e,67108864)}}function lm(e){if(e.tag===13||e.tag===31){var t=kt();t=Ar(t);var n=ha(e,t);n!==null&&jt(n,e,t),zc(e,t)}}var Xs=!0;function k0(e,t,n,l){var c=z.T;z.T=null;var d=X.p;try{X.p=2,Lc(e,t,n,l)}finally{X.p=d,z.T=c}}function O0(e,t,n,l){var c=z.T;z.T=null;var d=X.p;try{X.p=8,Lc(e,t,n,l)}finally{X.p=d,z.T=c}}function Lc(e,t,n,l){if(Xs){var c=Uc(l);if(c===null)wc(e,t,l,Qs,n),sm(e,l);else if(z0(c,e,t,n,l))l.stopPropagation();else if(sm(e,l),t&4&&-1<D0.indexOf(e)){for(;c!==null;){var d=qa(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=oa(d.pendingLanes);if(m!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var E=1<<31-xe(m);x.entanglements[1]|=E,m&=~E}Pt(d),(Ae&6)===0&&(Rs=mt()+500,gi(0))}}break;case 31:case 13:x=ha(d,2),x!==null&&jt(x,d,2),Os(),zc(d,2)}if(d=Uc(l),d===null&&wc(e,t,l,Qs,n),d===c)break;c=d}c!==null&&l.stopPropagation()}else wc(e,t,l,null,n)}}function Uc(e){return e=Br(e),Bc(e)}var Qs=null;function Bc(e){if(Qs=null,e=Ia(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qs=e,null}function im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case Bi:return 2;case Hi:return 8;case Ba:case Er:return 32;case me:return 268435456;default:return 32}default:return 32}}var Hc=!1,Kn=null,Xn=null,Qn=null,wi=new Map,ji=new Map,Zn=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sm(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function _i(e,t,n,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=qa(t),t!==null&&am(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function z0(e,t,n,l,c){switch(t){case"focusin":return Kn=_i(Kn,e,t,n,l,c),!0;case"dragenter":return Xn=_i(Xn,e,t,n,l,c),!0;case"mouseover":return Qn=_i(Qn,e,t,n,l,c),!0;case"pointerover":var d=c.pointerId;return wi.set(d,_i(wi.get(d)||null,e,t,n,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ji.set(d,_i(ji.get(d)||null,e,t,n,l,c)),!0}return!1}function rm(e){var t=Ia(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,bu(e.priority,function(){lm(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,bu(e.priority,function(){lm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ur=l,n.target.dispatchEvent(l),Ur=null}else return t=qa(n),t!==null&&am(t),e.blockedOn=n,!1;t.shift()}return!0}function om(e,t,n){Zs(e)&&n.delete(t)}function L0(){Hc=!1,Kn!==null&&Zs(Kn)&&(Kn=null),Xn!==null&&Zs(Xn)&&(Xn=null),Qn!==null&&Zs(Qn)&&(Qn=null),wi.forEach(om),ji.forEach(om)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Hc||(Hc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,L0)))}var Js=null;function cm(e){Js!==e&&(Js=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Js===e&&(Js=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Bc(l||n)===null)continue;break}var d=qa(n);d!==null&&(e.splice(t,3),t-=3,Uo(d,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function wl(e){function t(E){return Ws(E,e)}Kn!==null&&Ws(Kn,e),Xn!==null&&Ws(Xn,e),Qn!==null&&Ws(Qn,e),wi.forEach(t),ji.forEach(t);for(var n=0;n<Zn.length;n++){var l=Zn[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)rm(n),n.blockedOn===null&&Zn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],d=n[l+1],m=c[yt]||null;if(typeof d=="function")m||cm(n);else if(m){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,m=d[yt]||null)x=m.formAction;else if(Bc(c)!==null)continue}else x=m.action;typeof x=="function"?n[l+1]=x:(n.splice(l,3),l-=3),cm(n)}}}function um(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Ic(e){this._internalRoot=e}Ps.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=kt();tm(n,l,e,t,null,null)},Ps.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),Os(),t[Ha]=null}};function Ps(e){this._internalRoot=e}Ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&rm(e)}};var dm=i.version;if(dm!=="19.2.4")throw Error(o(527,dm,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var U0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{dt=er.inject(U0),et=er}catch{}}return Ei.createRoot=function(e,t){if(!u(e))throw Error(o(299));var n=!1,l="",c=vf,d=xf,m=bf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Ph(e,1,!1,null,null,n,l,null,c,d,m,um),e[Ha]=t.current,Sc(e),new Ic(t)},Ei.hydrateRoot=function(e,t,n){if(!u(e))throw Error(o(299));var l=!1,c="",d=vf,m=xf,x=bf,E=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),t=Ph(e,1,!0,t,n??null,l,c,E,d,m,x,um),t.context=em(null),n=t.current,l=kt(),l=Ar(l),c=zn(l),c.callback=null,Ln(n,c,l),n=l,t.current.lanes=n,zl(t,n),Pt(t),e[Ha]=t.current,Sc(e),new Ps(t)},Ei.version="19.2.4",Ei}var Sm;function X0(){if(Sm)return Yc.exports;Sm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Yc.exports=K0(),Yc.exports}var Q0=X0();Rg();function Mi(){return Mi=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},Mi.apply(this,arguments)}var ea;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(ea||(ea={}));const wm="popstate";function Z0(a){a===void 0&&(a={});function i(u,f){let{pathname:h="/",search:g="",hash:p=""}=ka(u.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),nu("",{pathname:h,search:g,hash:p},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function r(u,f){let h=u.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let p=u.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof f=="string"?f:rr(f))}function o(u,f){hr(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(f)+")")}return J0(i,r,o,a)}function Ye(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function hr(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function W0(){return Math.random().toString(36).substr(2,8)}function jm(a,i){return{usr:a.state,key:a.key,idx:i}}function nu(a,i,r,o){return r===void 0&&(r=null),Mi({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof i=="string"?ka(i):i,{state:r,key:i&&i.key||o||W0()})}function rr(a){let{pathname:i="/",search:r="",hash:o=""}=a;return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function ka(a){let i={};if(a){let r=a.indexOf("#");r>=0&&(i.hash=a.substr(r),a=a.substr(0,r));let o=a.indexOf("?");o>=0&&(i.search=a.substr(o),a=a.substr(0,o)),a&&(i.pathname=a)}return i}function J0(a,i,r,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:f=!1}=o,h=u.history,g=ea.Pop,p=null,y=b();y==null&&(y=0,h.replaceState(Mi({},h.state,{idx:y}),""));function b(){return(h.state||{idx:null}).idx}function v(){g=ea.Pop;let k=b(),I=k==null?null:k-y;y=k,p&&p({action:g,location:A.location,delta:I})}function w(k,I){g=ea.Push;let C=nu(A.location,k,I);r&&r(C,k),y=b()+1;let B=jm(C,y),Z=A.createHref(C);try{h.pushState(B,"",Z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;u.location.assign(Z)}f&&p&&p({action:g,location:A.location,delta:1})}function _(k,I){g=ea.Replace;let C=nu(A.location,k,I);r&&r(C,k),y=b();let B=jm(C,y),Z=A.createHref(C);h.replaceState(B,"",Z),f&&p&&p({action:g,location:A.location,delta:0})}function j(k){let I=u.location.origin!=="null"?u.location.origin:u.location.href,C=typeof k=="string"?k:rr(k);return C=C.replace(/ $/,"%20"),Ye(I,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,I)}let A={get action(){return g},get location(){return a(u,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(wm,v),p=k,()=>{u.removeEventListener(wm,v),p=null}},createHref(k){return i(u,k)},createURL:j,encodeLocation(k){let I=j(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:_,go(k){return h.go(k)}};return A}var _m;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(_m||(_m={}));function P0(a,i,r){return r===void 0&&(r="/"),ev(a,i,r)}function ev(a,i,r,o){let u=typeof i=="string"?ka(i):i,f=El(u.pathname||"/",r);if(f==null)return null;let h=kg(a);tv(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let y=fv(f);g=uv(h[p],y)}return g}function kg(a,i,r,o){i===void 0&&(i=[]),r===void 0&&(r=[]),o===void 0&&(o="");let u=(f,h,g)=>{let p={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};p.relativePath.startsWith("/")&&(Ye(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let y=ta([o,p.relativePath]),b=r.concat(p);f.children&&f.children.length>0&&(Ye(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),kg(f.children,i,b,y)),!(f.path==null&&!f.index)&&i.push({path:y,score:ov(y,f.index),routesMeta:b})};return a.forEach((f,h)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,h);else for(let p of Og(f.path))u(f,h,p)}),i}function Og(a){let i=a.split("/");if(i.length===0)return[];let[r,...o]=i,u=r.endsWith("?"),f=r.replace(/\?$/,"");if(o.length===0)return u?[f,""]:[f];let h=Og(o.join("/")),g=[];return g.push(...h.map(p=>p===""?f:[f,p].join("/"))),u&&g.push(...h),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function tv(a){a.sort((i,r)=>i.score!==r.score?r.score-i.score:cv(i.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const nv=/^:[\w-]+$/,av=3,lv=2,iv=1,sv=10,rv=-2,Nm=a=>a==="*";function ov(a,i){let r=a.split("/"),o=r.length;return r.some(Nm)&&(o+=rv),i&&(o+=lv),r.filter(u=>!Nm(u)).reduce((u,f)=>u+(nv.test(f)?av:f===""?iv:sv),o)}function cv(a,i){return a.length===i.length&&a.slice(0,-1).every((o,u)=>o===i[u])?a[a.length-1]-i[i.length-1]:0}function uv(a,i,r){let{routesMeta:o}=a,u={},f="/",h=[];for(let g=0;g<o.length;++g){let p=o[g],y=g===o.length-1,b=f==="/"?i:i.slice(f.length)||"/",v=au({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),w=p.route;if(!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:ta([f,v.pathname]),pathnameBase:yv(ta([f,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(f=ta([f,v.pathnameBase]))}return h}function au(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,o]=dv(a.path,a.caseSensitive,a.end),u=i.match(r);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:o.reduce((y,b,v)=>{let{paramName:w,isOptional:_}=b;if(w==="*"){let A=g[v]||"";h=f.slice(0,f.length-A.length).replace(/(.)\/+$/,"$1")}const j=g[v];return _&&!j?y[w]=void 0:y[w]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:h,pattern:a}}function dv(a,i,r){i===void 0&&(i=!1),r===void 0&&(r=!0),hr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(o.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),o]}function fv(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return hr(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),a}}function El(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,o=a.charAt(r);return o&&o!=="/"?null:a.slice(r)||"/"}const hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=a=>hv.test(a);function gv(a,i){i===void 0&&(i="/");let{pathname:r,search:o="",hash:u=""}=typeof a=="string"?ka(a):a,f;if(r)if(mv(r))f=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),hr(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+r))}r.startsWith("/")?f=Em(r.substring(1),"/"):f=Em(r,i)}else f=i;return{pathname:f,search:vv(o),hash:xv(u)}}function Em(a,i){let r=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Kc(a,i,r,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pv(a){return a.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Dg(a,i){let r=pv(a);return i?r.map((o,u)=>u===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function zg(a,i,r,o){o===void 0&&(o=!1);let u;typeof a=="string"?u=ka(a):(u=Mi({},a),Ye(!u.pathname||!u.pathname.includes("?"),Kc("?","pathname","search",u)),Ye(!u.pathname||!u.pathname.includes("#"),Kc("#","pathname","hash",u)),Ye(!u.search||!u.search.includes("#"),Kc("#","search","hash",u)));let f=a===""||u.pathname==="",h=f?"/":u.pathname,g;if(h==null)g=r;else{let v=i.length-1;if(!o&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;u.pathname=w.join("/")}g=v>=0?i[v]:"/"}let p=gv(u,g),y=h&&h!=="/"&&h.endsWith("/"),b=(f||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}const ta=a=>a.join("/").replace(/\/\/+/g,"/"),yv=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),vv=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,xv=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function bv(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Lg=["post","put","patch","delete"];new Set(Lg);const Sv=["get",...Lg];new Set(Sv);function Ri(){return Ri=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},Ri.apply(this,arguments)}const mr=N.createContext(null),Ug=N.createContext(null),ia=N.createContext(null),gr=N.createContext(null),sa=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Bg=N.createContext(null);function wv(a,i){let{relative:r}=i===void 0?{}:i;Di()||Ye(!1);let{basename:o,navigator:u}=N.useContext(ia),{hash:f,pathname:h,search:g}=yr(a,{relative:r}),p=h;return o!=="/"&&(p=h==="/"?o:ta([o,h])),u.createHref({pathname:p,search:g,hash:f})}function Di(){return N.useContext(gr)!=null}function Oa(){return Di()||Ye(!1),N.useContext(gr).location}function Hg(a){N.useContext(ia).static||N.useLayoutEffect(a)}function pr(){let{isDataRoute:a}=N.useContext(sa);return a?Lv():jv()}function jv(){Di()||Ye(!1);let a=N.useContext(mr),{basename:i,future:r,navigator:o}=N.useContext(ia),{matches:u}=N.useContext(sa),{pathname:f}=Oa(),h=JSON.stringify(Dg(u,r.v7_relativeSplatPath)),g=N.useRef(!1);return Hg(()=>{g.current=!0}),N.useCallback(function(y,b){if(b===void 0&&(b={}),!g.current)return;if(typeof y=="number"){o.go(y);return}let v=zg(y,JSON.parse(h),f,b.relative==="path");a==null&&i!=="/"&&(v.pathname=v.pathname==="/"?i:ta([i,v.pathname])),(b.replace?o.replace:o.push)(v,b.state,b)},[i,o,h,f,a])}function _v(){let{matches:a}=N.useContext(sa),i=a[a.length-1];return i?i.params:{}}function yr(a,i){let{relative:r}=i===void 0?{}:i,{future:o}=N.useContext(ia),{matches:u}=N.useContext(sa),{pathname:f}=Oa(),h=JSON.stringify(Dg(u,o.v7_relativeSplatPath));return N.useMemo(()=>zg(a,JSON.parse(h),f,r==="path"),[a,h,f,r])}function Nv(a,i){return Ev(a,i)}function Ev(a,i,r,o){Di()||Ye(!1);let{navigator:u}=N.useContext(ia),{matches:f}=N.useContext(sa),h=f[f.length-1],g=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=Oa(),b;if(i){var v;let k=typeof i=="string"?ka(i):i;p==="/"||(v=k.pathname)!=null&&v.startsWith(p)||Ye(!1),b=k}else b=y;let w=b.pathname||"/",_=w;if(p!=="/"){let k=p.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=P0(a,{pathname:_}),A=Rv(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:ta([p,u.encodeLocation?u.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:ta([p,u.encodeLocation?u.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),f,r,o);return i&&A?N.createElement(gr.Provider,{value:{location:Ri({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:ea.Pop}},A):A}function Cv(){let a=zv(),i=bv(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},i),r?N.createElement("pre",{style:u},r):null,null)}const Tv=N.createElement(Cv,null);class Av extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?N.createElement(sa.Provider,{value:this.props.routeContext},N.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mv(a){let{routeContext:i,match:r,children:o}=a,u=N.useContext(mr);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(sa.Provider,{value:i},o)}function Rv(a,i,r,o){var u;if(i===void 0&&(i=[]),r===void 0&&(r=null),o===void 0&&(o=null),a==null){var f;if(!r)return null;if(r.errors)a=r.matches;else if((f=o)!=null&&f.v7_partialHydration&&i.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let h=a,g=(u=r)==null?void 0:u.errors;if(g!=null){let b=h.findIndex(v=>v.route.id&&g?.[v.route.id]!==void 0);b>=0||Ye(!1),h=h.slice(0,Math.min(h.length,b+1))}let p=!1,y=-1;if(r&&o&&o.v7_partialHydration)for(let b=0;b<h.length;b++){let v=h[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=b),v.route.id){let{loaderData:w,errors:_}=r,j=v.route.loader&&w[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||j){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((b,v,w)=>{let _,j=!1,A=null,k=null;r&&(_=g&&v.route.id?g[v.route.id]:void 0,A=v.route.errorElement||Tv,p&&(y<0&&w===0?(Uv("route-fallback"),j=!0,k=null):y===w&&(j=!0,k=v.route.hydrateFallbackElement||null)));let I=i.concat(h.slice(0,w+1)),C=()=>{let B;return _?B=A:j?B=k:v.route.Component?B=N.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=b,N.createElement(Mv,{match:v,routeContext:{outlet:b,matches:I,isDataRoute:r!=null},children:B})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(Av,{location:r.location,revalidation:r.revalidation,component:A,error:_,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}var Ig=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(Ig||{}),qg=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(qg||{});function kv(a){let i=N.useContext(mr);return i||Ye(!1),i}function Ov(a){let i=N.useContext(Ug);return i||Ye(!1),i}function Dv(a){let i=N.useContext(sa);return i||Ye(!1),i}function Gg(a){let i=Dv(),r=i.matches[i.matches.length-1];return r.route.id||Ye(!1),r.route.id}function zv(){var a;let i=N.useContext(Bg),r=Ov(),o=Gg();return i!==void 0?i:(a=r.errors)==null?void 0:a[o]}function Lv(){let{router:a}=kv(Ig.UseNavigateStable),i=Gg(qg.UseNavigateStable),r=N.useRef(!1);return Hg(()=>{r.current=!0}),N.useCallback(function(u,f){f===void 0&&(f={}),r.current&&(typeof u=="number"?a.navigate(u):a.navigate(u,Ri({fromRouteId:i},f)))},[a,i])}const Cm={};function Uv(a,i,r){Cm[a]||(Cm[a]=!0)}function Bv(a,i){a?.v7_startTransition,a?.v7_relativeSplatPath}function Qt(a){Ye(!1)}function Hv(a){let{basename:i="/",children:r=null,location:o,navigationType:u=ea.Pop,navigator:f,static:h=!1,future:g}=a;Di()&&Ye(!1);let p=i.replace(/^\/*/,"/"),y=N.useMemo(()=>({basename:p,navigator:f,static:h,future:Ri({v7_relativeSplatPath:!1},g)}),[p,g,f,h]);typeof o=="string"&&(o=ka(o));let{pathname:b="/",search:v="",hash:w="",state:_=null,key:j="default"}=o,A=N.useMemo(()=>{let k=El(b,p);return k==null?null:{location:{pathname:k,search:v,hash:w,state:_,key:j},navigationType:u}},[p,b,v,w,_,j,u]);return A==null?null:N.createElement(ia.Provider,{value:y},N.createElement(gr.Provider,{children:r,value:A}))}function Iv(a){let{children:i,location:r}=a;return Nv(lu(i),r)}new Promise(()=>{});function lu(a,i){i===void 0&&(i=[]);let r=[];return N.Children.forEach(a,(o,u)=>{if(!N.isValidElement(o))return;let f=[...i,u];if(o.type===N.Fragment){r.push.apply(r,lu(o.props.children,f));return}o.type!==Qt&&Ye(!1),!o.props.index||!o.props.children||Ye(!1);let h={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=lu(o.props.children,f)),r.push(h)}),r}function or(){return or=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},or.apply(this,arguments)}function Yg(a,i){if(a==null)return{};var r={},o=Object.keys(a),u,f;for(f=0;f<o.length;f++)u=o[f],!(i.indexOf(u)>=0)&&(r[u]=a[u]);return r}function qv(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Gv(a,i){return a.button===0&&(!i||i==="_self")&&!qv(a)}const Yv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Vv="6";try{window.__reactRouterVersion=Vv}catch{}const Fv=N.createContext({isTransitioning:!1}),Kv="startTransition",Tm=Y0[Kv];function Xv(a){let{basename:i,children:r,future:o,window:u}=a,f=N.useRef();f.current==null&&(f.current=Z0({window:u,v5Compat:!0}));let h=f.current,[g,p]=N.useState({action:h.action,location:h.location}),{v7_startTransition:y}=o||{},b=N.useCallback(v=>{y&&Tm?Tm(()=>p(v)):p(v)},[p,y]);return N.useLayoutEffect(()=>h.listen(b),[h,b]),N.useEffect(()=>Bv(o),[o]),N.createElement(Hv,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:h,future:o})}const Qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ta=N.forwardRef(function(i,r){let{onClick:o,relative:u,reloadDocument:f,replace:h,state:g,target:p,to:y,preventScrollReset:b,viewTransition:v}=i,w=Yg(i,Yv),{basename:_}=N.useContext(ia),j,A=!1;if(typeof y=="string"&&Zv.test(y)&&(j=y,Qv))try{let B=new URL(window.location.href),Z=y.startsWith("//")?new URL(B.protocol+y):new URL(y),$=El(Z.pathname,_);Z.origin===B.origin&&$!=null?y=$+Z.search+Z.hash:A=!0}catch{}let k=wv(y,{relative:u}),I=Pv(y,{replace:h,state:g,target:p,preventScrollReset:b,relative:u,viewTransition:v});function C(B){o&&o(B),B.defaultPrevented||I(B)}return N.createElement("a",or({},w,{href:j||k,onClick:A||f?o:C,ref:r,target:p}))}),Wv=N.forwardRef(function(i,r){let{"aria-current":o="page",caseSensitive:u=!1,className:f="",end:h=!1,style:g,to:p,viewTransition:y,children:b}=i,v=Yg(i,$v),w=yr(p,{relative:v.relative}),_=Oa(),j=N.useContext(Ug),{navigator:A,basename:k}=N.useContext(ia),I=j!=null&&ex(w)&&y===!0,C=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,B=_.pathname,Z=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;u||(B=B.toLowerCase(),Z=Z?Z.toLowerCase():null,C=C.toLowerCase()),Z&&k&&(Z=El(Z,k)||Z);const $=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let te=B===C||!h&&B.startsWith(C)&&B.charAt($)==="/",P=Z!=null&&(Z===C||!h&&Z.startsWith(C)&&Z.charAt(C.length)==="/"),J={isActive:te,isPending:P,isTransitioning:I},re=te?o:void 0,se;typeof f=="function"?se=f(J):se=[f,te?"active":null,P?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let ne=typeof g=="function"?g(J):g;return N.createElement(Ta,or({},v,{"aria-current":re,className:se,ref:r,style:ne,to:p,viewTransition:y}),typeof b=="function"?b(J):b)});var iu;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(iu||(iu={}));var Am;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function Jv(a){let i=N.useContext(mr);return i||Ye(!1),i}function Pv(a,i){let{target:r,replace:o,state:u,preventScrollReset:f,relative:h,viewTransition:g}=i===void 0?{}:i,p=pr(),y=Oa(),b=yr(a,{relative:h});return N.useCallback(v=>{if(Gv(v,r)){v.preventDefault();let w=o!==void 0?o:rr(y)===rr(b);p(a,{replace:w,state:u,preventScrollReset:f,relative:h,viewTransition:g})}},[y,p,b,o,u,r,a,f,h,g])}function ex(a,i){i===void 0&&(i={});let r=N.useContext(Fv);r==null&&Ye(!1);let{basename:o}=Jv(iu.useViewTransitionState),u=yr(a,{relative:i.relative});if(!r.isTransitioning)return!1;let f=El(r.currentLocation.pathname,o)||r.currentLocation.pathname,h=El(r.nextLocation.pathname,o)||r.nextLocation.pathname;return au(u.pathname,h)!=null||au(u.pathname,f)!=null}const aa={SETTINGS:"dailyEventAI_settings",LAST_REFRESH:"dailyEventAI_lastRefresh",CACHED_DATA:"dailyEventAI_cachedData",ARTICLE_VIEWS:"dailyEventAI_articleViews"},$g="/api",Ot={uiMode:"timeline",customSortTopStories:!0,theme:"dark",fontSize:26,freshnessLimitHours:36,hideOlderThanHours:60,weatherFreshnessLimit:4,strictFreshness:!0,filteringMode:"source",rankingMode:"smart",rankingWeights:{temporal:{weekendBoost:2,entertainmentBoost:2.5},geo:{cityMatch:1.5,maxScore:5},freshness:{decayHours:26,maxBoost:3},impact:{boost:1,highImpactBoost:2.5},visual:{videoBoost:1.3,imageBoost:1.15},sentiment:{positiveBoost:.5,negativeBoost:.3},keyword:{matchBoost:2},source:{tier1Boost:.25,tier2Boost:.15,tier3Boost:0},viewedPenalty:.4,trending:{threshold:12},audit:{consensusThreshold:2,anomalySigma:2}},buzzRankingWeights:{visual:{videoBoost:2,imageBoost:1.5},freshness:{decayHours:12,maxBoost:2},trending:{threshold:10}},buzz:{entertainment:{enabled:!0,positiveKeywords:["tamil","kollywood","hindi","bollywood","hollywood","ott","netflix","prime video","disney","hotstar"],positiveMultiplier:2,negativeKeywords:["gossip","rumour","dating","spotted"],negativeMultiplier:2,filterThreshold:0},technology:{enabled:!0,positiveKeywords:["startup","ai","artificial intelligence","innovation","funding","launch","generative ai","llm"],positiveMultiplier:2,negativeKeywords:["rumour","leak","speculation"],negativeMultiplier:2,filterThreshold:0},sports:{enabled:!0,positiveKeywords:["cricket","football","ipl","world cup","india vs","final","highlights"],positiveMultiplier:2,negativeKeywords:["opinion","blog"],negativeMultiplier:2,filterThreshold:0}},weather:{models:{ecmwf:!0,gfs:!0,icon:!0},cities:["chennai","trichy","muscat"],showHumidity:!0,showWind:!1},sections:{world:{enabled:!0,count:5},india:{enabled:!0,count:5},chennai:{enabled:!0,count:5},trichy:{enabled:!0,count:5},local:{enabled:!0,count:5},social:{enabled:!0,count:25},entertainment:{enabled:!0,count:5},business:{enabled:!0,count:5},technology:{enabled:!0,count:5},sports:{enabled:!0,count:5}},newsSources:{bbc:!0,reuters:!0,ndtv:!0,theHindu:!0,toi:!0,financialExpress:!0,dtNext:!0,omanObserver:!0,moneyControl:!0,variety:!0,hollywoodReporter:!0,bollywoodHungama:!0,filmCompanion:!0,indiaToday:!0,timesOfOman:!0},sourceTiers:{tier1:["BBC","Reuters","TechCrunch","The Verge","ESPN"],tier2:["NDTV","The Hindu","Times of India","Moneycontrol","Indian Express"],tier3:["Oman Observer","DT Next","Bollywood Hungama"]},market:{showIndices:!0,showGainers:!0,showLosers:!0,showMutualFunds:!0,showIPO:!0,showSectorals:!0,showCommodities:!0,showCurrency:!0,showFIIDII:!0,cacheMinutes:15},entertainment:{tamilCount:5,hindiCount:5,hollywoodCount:3,ottCount:2},socialTrends:{worldCount:8,indiaCount:8,tamilnaduCount:5,muscatCount:4},customFeeds:[],feedBlockedKeywords:[],highImpactKeywords:["Budget","Election","Summit","Treaty","War","Crash","Landfall","Verdict","Resigns","Assassination"],upAhead:{categories:{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0,shopping:!0,civic:!0,weather_alerts:!0,airlines:!0},ranking:{movies:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},events:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},festivals:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},sports:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},shopping:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},airlines:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},alerts:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},weather_alerts:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},civic:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0}},locations:["Chennai","Muscat"],customLocation:"",signals:["upcoming","scheduled","starting","launches","opens","begins","commences","from today","this weekend","next week","releasing","premieres","debuts","kicks off","set to","slated for","expected on","effective from","valid till","last date","deadline","registrations open","bookings open","doors open","book now","tickets available","grab your","register","rsvp","sign up","enroll","apply before","limited seats","early bird","pre-order","advance booking","buy tickets","entry free","venue","stadium","auditorium","convention centre","exhibition hall","multiplex","arena","grounds","schedule","timetable","lineup","itinerary","match day","race day","show timings","showtimes","time slot","batch"],keywords:{movies:["release date","releasing","release","in theatres","in theaters","first day","advance booking","fdfs","premiere","preview","sneak peek","special screening","ott release","streaming from","now streaming","available on","direct to ott","digital premiere","tickets","showtimes","book now","bookmyshow","ticketnew","paytm movies","trailer launch","teaser release","motion poster"],events:["concert","live music","standup","comedy show","theatre","theater","drama","stage play","dance recital","sabha","kutcheri","kutchery","exhibition","expo","book fair","trade fair","flea market","art gallery","trade show","workshop","masterclass","bootcamp","seminar","webinar","hackathon","meetup","food festival","pop-up","tasting","brunch","food walk","heritage walk","night market","entry fee","passes available","gate open","limited slots","registration"],sports:[" vs "," v/s ","match","fixture","squad announced","playing xi","toss","innings","schedule","points table","qualifier","semi final","final","playoffs","stadium","live on","broadcast","streaming","start time","kick off","first ball"],festivals:["holiday","bank holiday","gazetted","declared holiday","government holiday","pongal","diwali","deepavali","navratri","dussehra","eid","ramadan","christmas","onam","vishu","ugadi","holi","ganesh","jayanti","puja","pooja","thai pusam","observed on","falls on","celebrated on","auspicious","muhurtham","tithi"],shopping:["sale","mega sale","flash sale","clearance","end of season","flat discount","upto off","cashback","coupon","promo code","shopping festival","exhibition sale","trade fair","grand opening","limited period","ends today","last day","offer valid","while stocks last","hurry"],airlines:["oman air","goindigo","salam air","ticket offer","flight deal","air india","vistara","akasa air","fare sale","booking open"],alerts:["power cut","power shutdown","load shedding","tangedco","tneb","scheduled maintenance","water cut","water supply","disruption","traffic advisory","road closure","diversion","metro shutdown","bus route change","train cancelled","flight delayed","boil water advisory","mosquito fogging","tree trimming","construction zone"],weather_alerts:["warning","alert","advisory","watch","red alert","orange alert","yellow alert","heavy rain","very heavy rain","cyclone","thunderstorm","heat wave","cold wave","fog","flooding","high tide","storm surge","imd","met department","weather bulletin"],civic:["vip movement","vip visit","road block","security arrangement","route change","bandh","hartal","strike","protest march","rasta roko","rail roko","corporation notice","tender","public hearing","ward meeting","grievance day"],movies_negative:["review","reviewed","reviews","opinion","editorial","column","interview","gossip","rumour","rumor","spotted","dating","controversy","trolled","slammed","reacts","reaction","leaked","wardrobe malfunction","breakup","case explained","box office collection","day 1 collection","total collection","worldwide gross","opening weekend","first week collection","crosses crore","nett collection","promo shoot","shooting begins","wrapped up","schedule wrap","title reveal","first look","motion poster","cast revealed","plot leaked","producer","director","music director","remuneration","salary","budget","rights sold","satellite rights","audio launch","pre-release event","success meet","press meet","renamed","casts","court","petition","arrested","stealing","sewage","overflow","warns against","talks","deal","financial results","board meeting","did for free","bank holiday alert","check full list","divorce","decommission","released crore","schedules board meeting","fog","mist"],events_negative:["cancelled","postponed","webinar","virtual only","legacy","tribute","obituary"],sports_negative:["rumour","speculation","opinion","prediction","predictions","bracketology","power rankings","fantasy value"],festivals_negative:[],shopping_negative:["expired","sold out"],airlines_negative:["accident","crash","emergency landing","technical snag"],alerts_negative:["rumour","hoax","fake news"],civic_negative:["clinic","surgery","transplant","arrested","held"],negative:["review","reviewed","reviews","opinion","editorial","column","op-ed","analysis","deep dive","explainer","explained","interview","memoir","podcast","recap","retrospective","lookback","throwback","gossip","rumour","rumor","spotted","dating","divorce","controversy","trolled","slammed","reacts","reaction","claps back","feud","leaked","wardrobe malfunction","breakup","arrested","murder","stabbed","robbery","scam","fraud","accused","chargesheet","sentenced","bail","fir filed","kidnap","suicide","death toll","fatal","quarterly results","earnings call","dividend","stock split","ipo allotment","listing gains","shareholding pattern","promoter stake","mutual fund nav","portfolio rebalancing","alleges","slams","hits out","war of words","defamation","no confidence","horse trading","exit poll","poll prediction","meme","was held","concluded","wrapped up","came to an end","successfully completed","inaugurated by","flagged off","took place","was celebrated","passes away","passed away","demise","rip","condolences","last rites","funeral","pays tribute","mourns","obituary","top 10","top 5","best of","worst of","reasons why","things you","ranked","all you need to know","everything we know","box office collection","day 1 collection","total collection","worldwide gross","opening weekend","first week collection","crosses crore","nett collection","shocking","you won't believe","jaw dropping","gone viral","breaks the internet","exclusive","board meeting","financial results","quarterly results","dividend","earnings call","stock split","bonus issue","record date","schedules board meeting","to consider","fund raising","petrol price","price hike","title reveal","first look","renamed","locks release date","casts","producer","court","petition","arrested","stealing","sewage","warns","talks","deal","did for free","bank holiday alert","check full list","decommission","fog","mist","opens office","launches","inaugurated","reveals"]}},sectionOverrides:{},newspaper:{enableImages:!0,headlinesCount:3,leadsCount:6,briefsCount:12},enableNewScoring:!0,enableProximityScoring:!1,maxTopicPercent:40,maxGeoPercent:30,followedTopics:[],readingHistory:[],topicSuggestions:{enabled:!0,basedOnReadingHistory:!0},enableCache:!0,crawlerMode:"auto",debugLogs:!1,lastUpdated:0};function Le(){let a=Ot.fontSize;typeof window<"u"&&(a=window.innerWidth>=1024?18:26);const i={...Ot,fontSize:a};try{const r=localStorage.getItem(aa.SETTINGS);if(r){const o=JSON.parse(r);return Vg(i,o)}}catch(r){console.error("Error reading settings:",r)}return{...i}}function zi(a){try{const i={...a,lastUpdated:Date.now()};return localStorage.setItem(aa.SETTINGS,JSON.stringify(i)),tx(i),!0}catch(i){return console.error("Error saving settings:",i),!1}}async function tx(a){try{(await fetch(`${$g}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok||console.warn("Failed to save settings to API")}catch(i){console.warn("API save error:",i)}}async function nx(){try{const a=await fetch(`${$g}/settings`);return a.ok?await a.json():null}catch(a){return console.warn("API fetch error:",a),null}}function Xc(a){try{const i=localStorage.getItem(aa.LAST_REFRESH),r=i?JSON.parse(i):{};r[a]=new Date().toISOString(),localStorage.setItem(aa.LAST_REFRESH,JSON.stringify(r))}catch(i){console.error("Error setting last refresh:",i)}}function ax(a=null){try{const i=localStorage.getItem(aa.LAST_REFRESH);if(!i)return"Never";const r=JSON.parse(i);let o=null;if(a&&r[a])o=new Date(r[a]);else{const p=Object.values(r).map(y=>new Date(y).getTime());p.length>0&&(o=new Date(Math.max(...p)))}if(!o)return"Never";const f=new Date-o,h=Math.floor(f/6e4),g=Math.floor(f/36e5);return h<1?"Just now":h<60?`${h} min${h>1?"s":""} ago`:g<24?`${g} hour${g>1?"s":""} ago`:o.toLocaleDateString()}catch{return"Unknown"}}function Vg(a,i){const r={...a};for(const o in i){const u=i[o];u!=null&&(typeof u=="object"&&!Array.isArray(u)?r[o]=Vg(a[o]||{},u):r[o]=u)}return r}function lx(a){const i=Le();i.followedTopics=i.followedTopics||[],i.followedTopics.push({...a,id:`topic_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,created:new Date().toISOString(),lastFetched:null}),zi(i)}function ix(a){const i=Le();i.followedTopics=i.followedTopics.filter(r=>r.id!==a),zi(i)}function sx(a){const i=Le(),r=i.followedTopics.find(o=>o.id===a);r&&(r.lastFetched=new Date().toISOString(),zi(i))}function rx(a){if(!(!a||a.length===0))try{const i=localStorage.getItem(aa.ARTICLE_VIEWS),r=i?JSON.parse(i):{};a.forEach(o=>{r[o]=(r[o]||0)+1}),localStorage.setItem(aa.ARTICLE_VIEWS,JSON.stringify(r))}catch(i){console.error("[Storage] Error incrementing views",i)}}function Fg(a){try{const i=localStorage.getItem(aa.ARTICLE_VIEWS);return(i?JSON.parse(i):{})[a]||0}catch{return 0}}function ox(a){return Le().readingHistory?.some(r=>r.id===a)||!1}function Kg(a){if(!a||!a.title)return;const i=Le(),r=i.readingHistory||[];r.some(o=>o.id===a.id)||(r.unshift({id:a.id,title:a.title,description:a.description||"",timestamp:Date.now()}),r.length>50&&(r.length=50),i.readingHistory=r,zi(i))}function cx(){const i=Le().readingHistory||[];if(i.length===0)return[];const r=i.map(g=>`${g.title} ${g.description}`).join(" ").toLowerCase(),o=["the","and","in","of","to","a","is","for","on","with","at","from","by","an","be","as","it","has","that","are","was","will","says","said","after","over","new","more","about","can","top","best","india","news","update","latest","today","live"],u=r.match(/\b[a-z]{4,}\b/g)||[],f={};return u.forEach(g=>{o.includes(g)||(f[g]=(f[g]||0)+1)}),Object.entries(f).sort((g,p)=>p[1]-g[1]).slice(0,5).map(([g,p])=>({word:g.charAt(0).toUpperCase()+g.slice(1),count:p}))}const Ci={nifty50:"^NSEI",sensex:"^BSESN",niftyBank:"^NSEBANK",niftyIT:"^CNXIT",niftyMidcap:"NIFTYMIDCAP150.NS",niftyPharma:"^CNXPHARMA",niftyAuto:"^CNXAUTO"},ux="https://query1.finance.yahoo.com/v8/finance/chart/",dx=[a=>`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}`,a=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`];async function Cl(a){const i=`${ux}${encodeURIComponent(a)}?interval=1d&range=1d`,r=async(o,u={})=>{const f=new AbortController,h=setTimeout(()=>f.abort(),1e4);try{const g=await fetch(o,{...u,signal:f.signal});return clearTimeout(h),g}catch(g){throw clearTimeout(h),g}};for(const o of dx)try{const u=o(i),f=await r(u);if(f.ok)return await f.json()}catch(u){console.warn(`[MarketService] Proxy failed: ${u.message}`)}throw new Error(`Failed to fetch market data for ${a}`)}async function fx(a,i,r){if(!r)return null;const o=`https://www.alphavantage.co/query?function=${a}&symbol=${i}&apikey=${r}`;try{const f=await(await fetch(o)).json();if(f["Global Quote"])return f["Global Quote"];if(f["Top Gainers, Losers, and Most Active"])return f}catch(u){console.warn("Alpha Vantage fetch failed",u)}return null}function Tl(a){const i=a.chart?.result?.[0]||a.finance?.result?.[0];if(!i||!i.meta)return null;const r=i.meta,o=r.regularMarketPrice,u=r.chartPreviousClose||r.previousClose,f=o-u,h=u?f/u*100:0,g=r.regularMarketTime?r.regularMarketTime*1e3:Date.now();return{price:o,change:f,changePercent:h.toFixed(2),timestamp:g}}async function hx(){console.log("[MarketService] Fetching Indian indices...");const a=Object.entries(Ci).map(async([o,u])=>{try{const f=await Cl(u),h=Tl(f);return h?(console.log(`[MarketService]  ${o}: ${h.price}`),{name:o==="nifty50"?"NIFTY 50":o==="sensex"?"SENSEX":o==="niftyBank"?"BANK NIFTY":o==="niftyIT"?"NIFTY IT":o==="niftyPharma"?"NIFTY PHARMA":o==="niftyAuto"?"NIFTY AUTO":"MIDCAP 150",symbol:u,value:h.price.toLocaleString("en-IN"),change:h.change.toFixed(2),changePercent:h.changePercent,direction:h.change>=0?"up":"down",currency:"",timestamp:h.timestamp}):null}catch(f){return console.warn(`[MarketService]  Failed to fetch ${o}:`,f.message),null}}),r=(await Promise.all(a)).filter(o=>o!==null);return r.length===0?(console.warn("[MarketService] Yahoo Indices failed, trying backup..."),await mx()):r}async function mx(){const a={"NIFTY 50":"INDEXNSE:NIFTY_50",SENSEX:"INDEXBOM:SENSEX"};try{const i=Object.entries(a).map(async([o,u])=>{const f=`https://www.google.com/finance/quote/${u}`,h=`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(f)}`,y=(await(await fetch(h)).text()).match(/<div[^>]*class="[^"]*YMlKec[^"]*"[^>]*>([^<]+)<\/div>/);if(y&&y[1]){const b=y[1].replace(/,/g,""),v=parseFloat(b);return{name:o,symbol:u,value:v.toLocaleString("en-IN"),change:"0.00",changePercent:"0.00",direction:"neutral",currency:"",timestamp:Date.now(),source:"Google (Backup)"}}return null});return(await Promise.all(i)).filter(o=>o!==null)}catch(i){return console.error("Backup indices fetch failed",i),[]}}const gx="https://api.mfapi.in/mf/",px=[{code:"119551",name:"SBI Bluechip Fund"},{code:"120503",name:"HDFC Mid-Cap Opportunities"},{code:"118834",name:"ICICI Prudential Value Discovery"},{code:"122639",name:"Axis Long Term Equity Fund"},{code:"125354",name:"Mirae Asset Large Cap Fund"},{code:"118989",name:"Kotak Emerging Equity Fund"}];async function yx(){return console.log("[MarketService] Fetching Mutual Fund NAVs..."),(await Promise.allSettled(px.map(async r=>{const u=await(await fetch(`${gx}${r.code}`)).json();if(!u.data||u.data.length===0)throw new Error("No NAV data");const f=parseFloat(u.data[0].nav),h=u.data.length>1?parseFloat(u.data[1].nav):f,g=f-h,p=(g/h*100).toFixed(2);return{code:r.code,name:u.meta?.scheme_name||r.name,category:u.meta?.scheme_category||"Equity",fundHouse:u.meta?.fund_house||"Unknown",nav:f.toFixed(2),navDate:u.data[0].date,change:g.toFixed(2),changePercent:p,direction:g>=0?"up":"down"}}))).filter(r=>r.status==="fulfilled").map(r=>r.value)}async function vx(){console.log("[MarketService] Fetching IPO data from IPOWatch...");const i=`https://api.allorigins.win/get?url=${encodeURIComponent("https://ipowatch.in/upcoming-ipo-calendar-ipo-list/")}`;try{const r=await fetch(i);if(!r.ok)throw new Error("Proxy failed");const u=(await r.json()).contents,g=new DOMParser().parseFromString(u,"text/html").querySelectorAll("table");let p=null;for(const j of g){const A=j.textContent.toLowerCase();if(A.includes("ipo")&&A.includes("price")||A.includes("ipo name")){p=j;break}}if(!p)throw new Error("No IPO table found");const y=Array.from(p.querySelectorAll("tr")),b=[];for(let j=1;j<y.length;j++){const A=y[j].querySelectorAll("td");if(A.length<3)continue;const k=A[0]?.textContent?.trim()||"Unknown";let I="Upcoming",C="TBA";const B=A[1]?.textContent?.trim(),Z=A[2]?.textContent?.trim();B&&(I=B),Z&&(C=Z);let $="upcoming";const te=I.toLowerCase();te.includes("live")||te.includes("open")?$="live":te.includes("close")?$="recent":te.includes("upcoming")&&($="upcoming");const P=k.includes("SME")||p.textContent.includes("SME");b.push({name:k,openDate:C,closeDate:"",status:$,isSME:P,issueSize:"-"})}const v=b.filter(j=>j.status==="upcoming").slice(0,5),w=b.filter(j=>j.status==="live"),_=b.filter(j=>j.status==="recent").slice(0,5);return{upcoming:v.length?v:b.slice(0,3),live:w,recent:_.length?_:b.slice(3,6),fetchedAt:Date.now()}}catch(r){return console.error("[MarketService] IPO Fetch Failed:",r),{upcoming:[],live:[],recent:[],fetchedAt:Date.now(),error:r.message}}}const xx="https://query1.finance.yahoo.com/v1/finance/screener/predefined/saved/screener/new?scrIds=day_gainers&count=5",bx="https://query1.finance.yahoo.com/v1/finance/screener/predefined/saved/screener/new?scrIds=day_losers&count=5";async function Mm(a){const i=`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}`;try{const r=await fetch(i);return r.ok?((await r.json()).finance?.result?.[0]?.quotes||[]).map(f=>({symbol:f.symbol.replace(".NS","").replace(".BO",""),price:f.regularMarketPrice?.toFixed(2)||"0.00",change:f.regularMarketChange?.toFixed(2)||"0.00",changePercent:f.regularMarketChangePercent?.toFixed(2)||"0.00",direction:(f.regularMarketChange||0)>=0?"up":"down",volume:f.regularMarketVolume})).filter(f=>f.symbol):[]}catch(r){return console.warn("[MarketService] Screener fetch failed:",r),[]}}const Sx=["RELIANCE.NS","TCS.NS","HDFCBANK.NS","INFY.NS","ICICIBANK.NS","HINDUNILVR.NS","SBIN.NS","BHARTIARTL.NS","ITC.NS","KOTAKBANK.NS","LT.NS","AXISBANK.NS","ASIANPAINT.NS","MARUTI.NS","BAJFINANCE.NS"];async function wx(){console.log("[MarketService] Using fallback for movers...");const a=Sx.slice(0,10).map(async u=>{try{const f=await Cl(u),h=Tl(f);return h?{symbol:u.replace(".NS",""),price:h.price.toFixed(2),change:h.change.toFixed(2),changePercent:parseFloat(h.changePercent),direction:h.change>=0?"up":"down"}:null}catch{return null}}),o=(await Promise.all(a)).filter(u=>u!==null).sort((u,f)=>f.changePercent-u.changePercent);return{gainers:o.filter(u=>u.changePercent>0).slice(0,5),losers:o.filter(u=>u.changePercent<0).slice(-5).reverse()}}async function jx(){console.log("[MarketService] Fetching top movers...");const i=Le().alphaVantageKey;if(i)try{console.log("[MarketService] Trying Alpha Vantage for Movers...");const r=await fx("TOP_GAINERS_LOSERS","",i);if(r&&r.top_gainers&&r.top_losers){const o=u=>u.slice(0,5).map(f=>({symbol:f.ticker,price:parseFloat(f.price).toFixed(2),change:parseFloat(f.change_amount).toFixed(2),changePercent:parseFloat(f.change_percentage.replace("%","")).toFixed(2),direction:parseFloat(f.change_amount)>=0?"up":"down"}));return{gainers:o(r.top_gainers),losers:o(r.top_losers)}}}catch(r){console.warn("[MarketService] Alpha Vantage failed:",r)}try{const[r,o]=await Promise.all([Mm(xx),Mm(bx)]);if(r.length>0||o.length>0)return console.log("[MarketService]  Used Screener API"),{gainers:r.slice(0,5),losers:o.slice(0,5)}}catch{console.warn("[MarketService] Screener API failed, trying fallback...")}return await wx()}async function _x(){console.log("[MarketService] Fetching sectoral indices...");const a=[{key:"niftyBank",name:"Bank Nifty",symbol:Ci.niftyBank},{key:"niftyIT",name:"Nifty IT",symbol:Ci.niftyIT},{key:"niftyPharma",name:"Nifty Pharma",symbol:Ci.niftyPharma},{key:"niftyAuto",name:"Nifty Auto",symbol:Ci.niftyAuto}];return(await Promise.allSettled(a.map(async r=>{const o=await Cl(r.symbol),u=Tl(o);if(!u)throw new Error("No data");return{name:r.name,value:u.price.toFixed(2),change:u.change.toFixed(2),changePercent:u.changePercent,timestamp:u.timestamp}}))).filter(r=>r.status==="fulfilled").map(r=>r.value)}async function Nx(){console.log("[MarketService] Fetching commodities...");try{const a=await Cl("INR=X"),i=Tl(a),r=i?i.price:84,o=[{name:"Gold",symbol:"GC=F",type:"gold"},{name:"Silver",symbol:"SI=F",type:"silver"},{name:"Crude Oil",symbol:"CL=F",type:"crude"}];return(await Promise.allSettled(o.map(async f=>{let h=null;try{const b=await Cl(f.symbol);h=Tl(b)}catch{console.warn(`[MarketService] Failed to fetch ${f.name} (${f.symbol})`)}if(!h)throw new Error("No data");let g,p,y;return f.type==="gold"?(g=h.price*r/31.1035*10,p=h.change*r/31.1035*10,y="/10g"):f.type==="silver"?(g=h.price*r/31.1035*1e3,p=h.change*r/31.1035*1e3,y="/kg"):(g=h.price*r,p=h.change*r,y="/bbl"),{name:f.name,value:g.toFixed(2),change:p.toFixed(2),changePercent:h.changePercent,unit:y,direction:p>=0?"up":"down",timestamp:h.timestamp}}))).filter(f=>f.status==="fulfilled").map(f=>f.value)}catch{return[]}}async function Ex(){console.log("[MarketService] Fetching currency rates...");const a=[{name:"USD/INR",symbol:"INR=X"},{name:"OMR/INR",symbol:"OMRINR=X"}],i=a.map(async u=>{try{const f=await Cl(u.symbol),h=Tl(f);if(!h)throw new Error("No data");return{name:u.name,value:h.price.toFixed(2),change:h.change.toFixed(2),changePercent:h.changePercent,timestamp:h.timestamp,source:"yahoo"}}catch{return null}}),o=(await Promise.all(i)).filter(u=>u!==null);if(o.length===a.length)return o;console.log("[MarketService]  Yahoo Currency failed, using fallback...");try{const f=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(!f||!f.rates)throw new Error("Fallback API failed");const h=f.rates.INR,g=f.rates.OMR,p=[];if(p.push({name:"USD/INR",value:h.toFixed(2),change:"0.00",changePercent:"0.00",timestamp:Date.now(),source:"fallback"}),g){const y=h/g;p.push({name:"OMR/INR",value:y.toFixed(2),change:"0.00",changePercent:"0.00",timestamp:Date.now(),source:"fallback"})}return p}catch(u){return console.error("[MarketService]  All currency sources failed:",u),o}}async function Cx(){return{fii:{buy:12500.5,sell:11800.3,net:700.2},dii:{buy:8900.7,sell:9200.4,net:-299.7},date:new Date().toISOString().split("T")[0]}}const Rm="indian_market_data",Tx=14400*1e3;async function Ax(){try{const a=await fetch("/data/market_snapshot.json");if(a.ok)return await a.json()}catch(a){console.warn("[MarketService] Failed to load static snapshot",a)}return null}async function Mx(){console.log("[MarketService]  Fetching all market data...");const[a,i,r,o,u,f,h,g]=await Promise.allSettled([hx(),yx(),vx(),jx(),_x(),Nx(),Ex(),Cx()]),p={indices:a.status==="fulfilled"?a.value:[],mutualFunds:i.status==="fulfilled"?i.value:[],ipo:r.status==="fulfilled"?r.value:{upcoming:[],live:[],recent:[]},movers:o.status==="fulfilled"?o.value:{gainers:[],losers:[]},sectorals:u.status==="fulfilled"?u.value:[],commodities:f.status==="fulfilled"?f.value:[],currencies:h.status==="fulfilled"?h.value:[],fiidii:g.status==="fulfilled"?g.value:{fii:{},dii:{},date:""},fetchedAt:Date.now(),errors:{indices:a.status==="rejected"?a.reason?.message:null}};if(p.indices.length>0){try{localStorage.setItem(Rm,JSON.stringify(p)),console.log("[MarketService]  Fresh data cached")}catch(b){console.warn("[MarketService] Cache write failed",b)}return p}console.warn("[MarketService] Critical data (Indices) missing. Checking cache...");try{const b=localStorage.getItem(Rm);if(b){const v=JSON.parse(b),w=Date.now()-(v.fetchedAt||0);if(w<Tx)return console.log(`[MarketService]  Returning cached data (${(w/6e4).toFixed(0)} mins old)`),{...v,isStale:!0,staleReason:"Network/Proxy Failure - Showing cached data"};console.warn("[MarketService] Cache expired")}}catch(b){console.error("[MarketService] Cache read failed",b)}console.warn("[MarketService] Cache unavailable/expired. Attempting static snapshot...");const y=await Ax();return y?(console.log("[MarketService]  Loaded snapshot data"),{...y,isSnapshot:!0,fetchedAt:y.generated_at?new Date(y.generated_at).getTime():Date.now()}):p}const Xg=N.createContext(null),Qc="market_cache",Rx=900*1e3;function kx({children:a}){const[i,r]=N.useState(null),[o,u]=N.useState(!0),[f,h]=N.useState(null),[g,p]=N.useState(null),y=N.useCallback(async(v=!1)=>{if(!v)try{const w=localStorage.getItem(Qc);if(w){const _=JSON.parse(w);if(Date.now()-_.fetchedAt<Rx){console.log("[MarketContext] Using cached data"),r(_),u(!1),p(_.fetchedAt);return}}}catch{console.warn("[MarketContext] Cache read failed")}u(!0),h(null);try{const w=await Mx();r(w),p(Date.now()),localStorage.setItem(Qc,JSON.stringify(w)),console.log("[MarketContext]  Market data loaded")}catch(w){console.error("[MarketContext]  Failed to load market data:",w);try{const _=localStorage.getItem(Qc);if(_){const j=JSON.parse(_),A=Date.now()-j.fetchedAt;console.log(`[MarketContext] Using stale cache due to fetch error (Age: ${(A/6e4).toFixed(0)}m)`),r(j),p(j.fetchedAt),A>14400*1e3?h("Network error. Data is expired (>4h)."):h("Network error. Showing cached data.")}else{try{const j=await fetch("/data/market_snapshot.json");if(j.ok){const A=await j.json();if(A&&A.indices&&A.indices.length>0){console.log("[MarketContext] Using static snapshot fallback"),r(A),p(new Date(A.generated_at).getTime()),h("Using offline snapshot (Live data failed)");return}}}catch(j){console.warn("Static fallback failed",j)}h(w.message)}}catch{h(w.message)}}finally{u(!1)}},[]);N.useEffect(()=>{y()},[y]);const b=N.useCallback(()=>y(!0),[y]);return s.jsx(Xg.Provider,{value:{marketData:i,loading:o,error:f,lastFetch:g,refreshMarket:b},children:a})}function Qg(){const a=N.useContext(Xg);if(!a)throw new Error("useMarket must be used within MarketProvider");return a}const Zg=({loadingPhase:a})=>{const{marketData:i,loading:r,lastFetch:o}=Qg(),u=N.useRef(null),f=N.useRef(!1),h=N.useMemo(()=>{if(!i)return[];const{indices:v=[],commodities:w=[]}=i,_=[...v,...w];return["NIFTY 50","NSE 50","50","SENSEX","BSE SENSEX","Gold","Silver"].map(A=>_.find(k=>k.name===A)).filter(Boolean)},[i]);N.useEffect(()=>{let v,w=0;const _=40;let j=0;const A=I=>{w||(w=I);const C=I-w;if(w=I,u.current&&!f.current){const B=_*C/1e3;if(j+=B,j>=1){const Z=Math.floor(j);j-=Z;const{scrollLeft:$,scrollWidth:te}=u.current;$>=te/2?u.current.scrollLeft=0:u.current.scrollLeft+=Z}}else w=I;v=requestAnimationFrame(A)},k=setTimeout(()=>{v=requestAnimationFrame(A)},1e3);return()=>{cancelAnimationFrame(v),clearTimeout(k)}},[h]);const g=v=>{if(!v.timestamp)return!0;const _=Date.now()-v.timestamp,A=["Gold","Silver","Crude Oil"].includes(v.name)?3600*1e3:900*1e3;return _>A},p=v=>v?new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",y=v=>v==="NSE 50"||v==="50"?"NIFTY 50":v==="BSE SENSEX"?"SENSEX":v,b=()=>{if(!a)return{};let v="transparent";return a===1?v="rgba(144, 238, 144, 0.2)":a===2?v="rgba(60, 179, 113, 0.2)":a===3&&(v="rgba(34, 139, 34, 0.2)"),{background:`linear-gradient(to bottom, transparent, ${v})`,transition:"background 0.5s ease"}};return r&&h.length===0||h.length===0?null:s.jsxs("div",{className:"market-ticker-container",style:b(),children:[s.jsx("div",{className:"ticker-label",children:""}),s.jsx("div",{className:"ticker-track-wrapper",ref:u,onMouseEnter:()=>f.current=!0,onMouseLeave:()=>f.current=!1,onTouchStart:()=>f.current=!0,onTouchEnd:()=>f.current=!1,children:s.jsx("div",{className:"ticker-track",children:[...h,...h].map((v,w)=>{const _=g(v);return s.jsxs("div",{className:`ticker-item ${_?"stale-data":""}`,children:[s.jsx("span",{className:"ticker-name",children:y(v.name)}),s.jsxs("span",{className:"ticker-price",children:[v.name==="Gold"||v.name==="Silver"?v.value:typeof v.value=="number"?v.value.toFixed(2):v.value,v.unit?s.jsx("span",{style:{fontSize:"0.7em",marginLeft:"2px"},children:v.unit}):""]}),s.jsxs("span",{className:`ticker-change ${parseFloat(v.change)>=0?"positive":"negative"}`,children:[parseFloat(v.change)>=0?"":""," ",Math.abs(parseFloat(v.changePercent)).toFixed(2),"%"]})]},`${v.name}-${w}`)})})}),o&&s.jsxs("div",{className:"ticker-updated",children:[s.jsx("span",{style:{marginRight:"4px"},children:""})," ",p(o)]})]})},Wg=N.createContext();function Ox({children:a}){const[i,r]=N.useState(()=>Le()),[o,u]=N.useState(0),f=N.useCallback(g=>{zi(g),r(g),u(p=>p+1)},[]),h=N.useCallback(()=>{const g=Le();r(g),u(p=>p+1)},[]);return N.useEffect(()=>{(async()=>{try{const p=await nx();if(p){const y=Le(),b=p.lastUpdated||0,v=y.lastUpdated||0;if(b>v)console.log("[Settings] Syncing from server (Remote is newer)..."),localStorage.setItem("dailyEventAI_settings",JSON.stringify(p)),h();else if(!y.upAhead?.keywords?.shopping){console.log("[Settings] Patching missing keywords from remote...");const w={...p,...y,upAhead:{...p.upAhead,...y.upAhead}};w.upAhead.keywords||(w.upAhead.keywords=p.upAhead.keywords),localStorage.setItem("dailyEventAI_settings",JSON.stringify(w)),h()}}}catch(p){console.warn("[Settings] Failed to sync with server",p)}})()},[h]),N.useEffect(()=>{const g=p=>{p.key==="dailyEventAI_settings"&&(console.log("[SettingsContext] Storage changed in another tab, reloading"),h())};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)},[h]),N.useEffect(()=>{i.fontSize&&(document.documentElement.style.fontSize=i.fontSize+"px")},[i.fontSize]),N.useEffect(()=>{document.documentElement.setAttribute("data-theme",i.theme||"dark")},[i.theme]),s.jsx(Wg.Provider,{value:{settings:i,updateSettings:f,reloadSettings:h,settingsVersion:o},children:a})}function pt(){const a=N.useContext(Wg);if(!a)throw new Error("useSettings must be used within SettingsProvider");return a}const Dx=()=>{const{settings:a,updateSettings:i}=pt(),r=a.theme==="light",o=()=>{i({...a,theme:r?"dark":"light"})};return s.jsx("button",{onClick:o,className:"header__action-btn",title:r?"Switch to Dark Mode":"Switch to Light Mode",style:{background:"transparent",border:"none",cursor:"pointer",padding:"0 8px",color:"var(--text-primary)"},children:r?"":""})};function Aa({title:a,icon:i,showBack:r=!1,backTo:o="/",actions:u,pills:f,activePill:h,onPillChange:g,compact:p=!1,loadingPhase:y}){const[b,v]=N.useState(window.innerWidth>=1024);N.useEffect(()=>{const _=()=>v(window.innerWidth>=1024);return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const w=_=>_.includes("Morning")?"":_.includes("Midday")?"":_.includes("Evening")?"":_;return s.jsxs("header",{className:`header ${p?"header--compact":""}`,children:[r?s.jsxs(Ta,{to:o,className:"header__back",children:[s.jsx("span",{children:""}),s.jsx("span",{children:a})]}):s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[b&&s.jsx(Dx,{}),s.jsx("h1",{className:"header__title"})]}),!r&&s.jsx(Zg,{loadingPhase:y}),f&&s.jsx("div",{className:"header__pills",children:f.map(_=>s.jsx("button",{className:`time-pill time-pill--matte ${h===_?"time-pill--active":""}`,onClick:()=>g&&g(_),title:_,children:w(_)},_))}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:u})]})}const Al={bbc:{name:"BBC",credibility:2,staffSize:5500,bureaus:50,avgArticleLength:800,updateFrequency:"continuous",weight:1.8,categories:["world","business","technology","entertainment"]},reuters:{name:"Reuters",credibility:1.95,staffSize:2500,bureaus:200,avgArticleLength:600,updateFrequency:"continuous",weight:1.8,categories:["world","business"]},apnews:{name:"AP News",credibility:1.9,staffSize:2500,bureaus:250,avgArticleLength:500,updateFrequency:"continuous",weight:1.75,categories:["world","business","sports"]},aljazeera:{name:"Al Jazeera",credibility:1.7,staffSize:2e3,bureaus:60,avgArticleLength:900,updateFrequency:"hourly",weight:1.6,categories:["world","business"]},cnn:{name:"CNN",credibility:1.6,staffSize:3e3,bureaus:40,avgArticleLength:400,updateFrequency:"continuous",weight:1.5,categories:["world","business","technology"]},ndtv:{name:"NDTV",credibility:1.75,staffSize:1200,bureaus:15,avgArticleLength:600,updateFrequency:"continuous",weight:1.6,categories:["india","business","technology"]},thehindu:{name:"The Hindu",credibility:1.8,staffSize:800,bureaus:12,avgArticleLength:800,updateFrequency:"hourly",weight:1.65,categories:["india","world","business","technology"]},toi:{name:"Times of India",credibility:1.6,staffSize:1500,bureaus:25,avgArticleLength:500,updateFrequency:"continuous",weight:1.5,categories:["india","entertainment","sports"]},financialexpress:{name:"Financial Express",credibility:1.65,staffSize:300,bureaus:5,avgArticleLength:700,updateFrequency:"hourly",weight:1.55,categories:["business","technology"]},indianexpress:{name:"Indian Express",credibility:1.7,staffSize:400,bureaus:8,avgArticleLength:750,updateFrequency:"hourly",weight:1.6,categories:["india","world","business"]},techcrunch:{name:"TechCrunch",credibility:1.7,staffSize:200,bureaus:3,avgArticleLength:600,updateFrequency:"hourly",weight:1.6,categories:["technology"],specialization:"startups, VC"},theverge:{name:"The Verge",credibility:1.65,staffSize:100,bureaus:1,avgArticleLength:900,updateFrequency:"hourly",weight:1.55,categories:["technology"],specialization:"gadgets, consumer tech"},espn:{name:"ESPN",credibility:1.7,staffSize:500,bureaus:10,avgArticleLength:500,updateFrequency:"continuous",weight:1.6,categories:["sports"]},bollywoodhungama:{name:"Bollywood Hungama",credibility:1.4,staffSize:100,bureaus:2,avgArticleLength:400,updateFrequency:"hourly",weight:1.3,categories:["entertainment"],specialization:"Indian cinema"},googlenews:{name:"Google News",credibility:1.5,staffSize:0,bureaus:0,avgArticleLength:0,updateFrequency:"continuous",weight:1,categories:["world","india","business","technology","entertainment","sports"]},default:{name:"Default Source",credibility:1,staffSize:50,bureaus:1,avgArticleLength:400,updateFrequency:"daily",weight:.9,categories:[]}},zx=a=>{const i=Object.keys(Al).find(p=>a.toLowerCase().replace(/\s+/g,"").includes(p))||"default",r=Al[i],o=r.credibility/2*.4,f=Math.min(r.staffSize/5500,1)*.3,g=Math.min(r.bureaus/250,1)*.3;return o+f+g},Lx=(a,i)=>{const r=Object.keys(Al).find(u=>a.toLowerCase().replace(/\s+/g,"").includes(u))||"default",o=Al[r];return!o.categories||o.categories.includes(i)?o.weight:o.weight*.7},km="https://news.google.com/rss",Ux="https://news.google.com/rss/search",Om={WORLD:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGx1YlY4U0JXVnVMVlZUR2dKVlV5Z0FQAQ",BUSINESS:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGx6TVdZU0JXVnVMVlZUR2dKVlV5Z0FQAQ",TECHNOLOGY:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGRqTVhZU0JXVnVMVlZUR2dKVlV5Z0FQAQ",ENTERTAINMENT:"CAAqJggKIiBDQkFTRWvfSkwyMHZNREpxYW5RU0JXVnVMVlZUR2dKVlV5Z0FQAQ",SPORTS:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRFp1ZEdvU0JXVnVMVlZUR2dKVlV5Z0FQAQ",SCIENCE:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRFp0Y1RjU0JXVnVMVlZUR2dKVlV5Z0FQAQ",HEALTH:"CAAqJggKIiBDQkFTRWvfSkwyMHZNR3QwTlRFU0JXVnVMVlZUR2dKVlV5Z0FQAQ"};function Jn({category:a,query:i,country:r="IN",lang:o="en"}){const u=`${o}-${r}`,f=r,h=`${r}:${o}`,g=`hl=${u}&gl=${f}&ceid=${h}`;if(i)return`${Ux}?q=${encodeURIComponent(i)}&${g}`;if(a){const p=a.toUpperCase();if(Om[p])return`${km}/topics/${Om[p]}?${g}`}return`${km}?${g}`}const jl={WORLD_IN:Jn({category:"world",country:"IN",lang:"en"}),BUSINESS_IN:Jn({category:"business",country:"IN",lang:"en"}),BUSINESS_IN_SEARCH:Jn({query:"Business Economy India",country:"IN",lang:"en"}),TECH_IN:Jn({category:"technology",country:"IN",lang:"en"}),TECH_IN_SEARCH:Jn({query:"Technology Startups India",country:"IN",lang:"en"}),TAMIL_NADU:Jn({query:"Tamil Nadu",country:"IN",lang:"ta"}),CHENNAI:Jn({query:"Chennai",country:"IN",lang:"en"}),WORLD_US:Jn({category:"world",country:"US",lang:"en"})},vr={tamil:["https://www.thenewsminute.com/tamil-nadu/entertainment/feed","https://www.behindwoods.com/tamil-movies/rss-feeds/news.xml","https://timesofindia.indiatimes.com/rssfeeds/1081479906.cms","https://www.filmibeat.com/rss/filmibeat-tamil-fb.xml"],hindi:["https://www.bollywoodhungama.com/rss/news.xml","https://www.filmfare.com/feeds/bollywood.xml","https://timesofindia.indiatimes.com/rssfeeds/-2128936835.cms"],hollywood:["https://www.hollywoodreporter.com/feed/","https://variety.com/feed/","https://deadline.com/feed/"],ott:["https://www.whats-on-netflix.com/feed/","https://www.cordcuttersnews.com/feed/","https://www.streamingmedia.com/RSS/Articles.aspx"]};function Bx(a){const i=["horoscope","rasipalan","zodiac","astrology","prediction","numerology"];return a.filter(r=>{const o=(r.title+" "+r.description).toLowerCase();return!i.some(u=>o.includes(u))})}async function Hx(){console.log("[EntertainmentService] Fetching Tamil/Kollywood news...");const a=[];for(const r of vr.tamil)try{const o=await la(r,"entertainment");a.push(...o.map(u=>({...u,category:"Tamil Cinema",region:"tamil"})))}catch(o){console.warn(`[EntertainmentService] Failed to fetch ${r}:`,o.message)}return Bx(a).sort((r,o)=>(o.publishedAt||0)-(r.publishedAt||0)).slice(0,20)}async function Ix(){console.log("[EntertainmentService] Fetching Hindi/Bollywood news...");const a=[];for(const i of vr.hindi)try{const r=await la(i,"entertainment");a.push(...r.map(o=>({...o,category:"Hindi Cinema",region:"hindi"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function qx(){console.log("[EntertainmentService] Fetching Hollywood news...");const a=[];for(const i of vr.hollywood)try{const r=await la(i,"entertainment");a.push(...r.map(o=>({...o,category:"Hollywood",region:"hollywood"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function Gx(){console.log("[EntertainmentService] Fetching OTT/Streaming news...");const a=[];for(const i of vr.ott)try{const r=await la(i,"entertainment");a.push(...r.map(o=>({...o,category:"OTT & Streaming",region:"ott"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function Yx(a={}){console.log("[EntertainmentService]  Fetching all entertainment news...");const{tamilPercent:i=40,hindiPercent:r=35,hollywoodPercent:o=15,ottPercent:u=10}=a,[f,h,g,p]=await Promise.allSettled([Hx(),Ix(),qx(),Gx()]),y=f.status==="fulfilled"?f.value:[],b=h.status==="fulfilled"?h.value:[],v=g.status==="fulfilled"?g.value:[],w=p.status==="fulfilled"?p.value:[],_=40,j={tamil:Math.round(_*(i/100)),hindi:Math.round(_*(r/100)),hollywood:Math.round(_*(o/100)),ott:Math.round(_*(u/100))},k=[...y.slice(0,j.tamil),...b.slice(0,j.hindi),...v.slice(0,j.hollywood),...w.slice(0,j.ott)].sort(()=>Math.random()-.5);return console.log("[EntertainmentService]  Entertainment news fetched:",{tamil:j.tamil,hindi:j.hindi,hollywood:j.hollywood,ott:j.ott,total:k.length}),k}const Dm={abandon:-2,accident:-2,alert:-1,ambitious:2,asset:2,active:1,advance:2,agree:1,amazing:4,approve:2,award:3,awesome:4,bad:-3,bailout:-2,beautiful:3,benefit:2,best:3,boost:1,breakthrough:3,bright:1,bull:2,bullish:2,buy:1,calm:2,cancel:-1,care:2,celebrate:3,challenge:-1,champion:2,cheap:-1,clean:2,collapse:-2,climb:1,comfort:2,commit:1,confidence:2,conflict:-2,congrats:2,congratulate:2,cool:1,correct:1,crash:-2,crisis:-3,criticize:-2,danger:-2,dead:-3,debt:-2,decline:-1,defeat:-2,deficit:-2,denied:-2,depression:-2,destroy:-3,devastate:-3,difficult:-1,disaster:-2,disease:-1,dispute:-2,doubt:-1,down:-1,drop:-1,dump:-1,earn:1,earnings:1,ease:2,easy:1,effective:2,efficient:2,emergency:-2,encourage:2,enjoy:2,error:-2,excellent:3,cite:2,expand:1,fail:-2,failure:-2,fake:-3,fall:-1,fantastic:4,fear:-2,fight:-1,fine:2,fraud:-4,free:1,fresh:1,fun:4,gain:2,good:3,great:3,growth:2,happy:3,hard:-1,harm:-2,hate:-3,healthy:2,help:2,hero:2,high:1,hope:2,hurt:-2,ignore:-1,ill:-2,improve:2,increase:1,infect:-2,inflation:-2,injury:-2,innovate:1,innovative:2,inspire:2,intelligent:2,invest:1,joke:2,joy:3,jump:1,kill:-3,lack:-2,lag:-1,lead:1,leader:1,legal:1,lie:-2,like:2,loss:-3,love:3,low:-1,luck:3,lucky:3,market:1,merger:2,miss:-1,mistake:-2,murder:-3,negative:-2,nice:3,outperform:2,outstanding:5,panic:-3,perfect:3,plunge:-2,poor:-2,positive:2,praise:3,problem:-2,profit:2,progress:2,promise:1,proud:2,protect:1,rally:2,recession:-2,record:2,recover:1,reject:-1,reliable:2,relief:1,rescue:2,resolve:2,restore:1,reward:2,rich:2,risk:-2,safe:1,save:2,scandal:-3,scare:-2,secure:2,sell:-1,shares:1,shortage:-2,sick:-2,significant:1,smart:1,smile:2,solid:2,solve:1,spark:1,stable:2,stock:1,stop:-1,strength:2,strong:2,success:2,suffer:-2,surge:1,surprise:2,sweet:2,tech:1,terrible:-3,terrified:-3,threat:-2,top:2,tough:-1,tragedy:-2,trouble:-2,trust:1,ugly:-3,uncertain:-1,unemployment:-2,unfair:-2,up:1,upset:-2,urgent:-1,useful:2,value:1,victory:3,violation:-2,violence:-3,volatile:-1,vulnerable:-2,weak:-2,wealth:3,win:4,winner:4,wonderful:4,worry:-3,worst:-3,wow:4,wrong:-2,yes:1},$x=a=>a.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(i=>i.length>0),zm=a=>{if(!a||a.trim().length===0)return{score:0,comparative:0,label:"neutral"};const i=$x(a);let r=0;i.forEach(f=>{Dm[f]&&(r+=Dm[f])});const o=i.length>0?r/i.length:0;let u="neutral";return o>.05?u="positive":o<-.05&&(u="negative"),{score:r,comparative:o,label:u}},Vx=(a,i)=>{const r=zm(a),o=zm(i),u=r.comparative*.6+o.comparative*.4;let f="neutral";return u>.05?f="positive":u<-.05&&(f="negative"),{label:f,comparative:u,titleSentiment:r,descriptionSentiment:o}};var Zc,Lm;function Fx(){if(Lm)return Zc;Lm=1,Zc={compareTwoStrings:a,findBestMatch:i};function a(o,u){if(o=o.replace(/\s+/g,""),u=u.replace(/\s+/g,""),o===u)return 1;if(o.length<2||u.length<2)return 0;let f=new Map;for(let g=0;g<o.length-1;g++){const p=o.substring(g,g+2),y=f.has(p)?f.get(p)+1:1;f.set(p,y)}let h=0;for(let g=0;g<u.length-1;g++){const p=u.substring(g,g+2),y=f.has(p)?f.get(p):0;y>0&&(f.set(p,y-1),h++)}return 2*h/(o.length+u.length-2)}function i(o,u){if(!r(o,u))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const f=[];let h=0;for(let p=0;p<u.length;p++){const y=u[p],b=a(o,y);f.push({target:y,rating:b}),b>f[h].rating&&(h=p)}const g=f[h];return{ratings:f,bestMatch:g,bestMatchIndex:h}}function r(o,u){return!(typeof o!="string"||!Array.isArray(u)||!u.length||u.find(function(f){return typeof f!="string"}))}return Zc}var Kx=Fx();const Xx=Mg(Kx),Qx=(a,i=.75)=>{if(!a||a.length===0)return[];const r=[],o=new Set;for(let u=0;u<a.length;u++){if(o.has(u))continue;const f=[a[u]];o.add(u);for(let h=u+1;h<a.length;h++){if(o.has(h))continue;Xx.compareTwoStrings(a[u].title.toLowerCase(),a[h].title.toLowerCase())>i&&(f.push(a[h]),o.add(h))}r.push(f)}return r},Zx=a=>{if(!a||a.length===0)return null;const r=[...a].sort((h,g)=>g.impactScore-h.impactScore)[0],o=[...new Set(a.map(h=>h.source))],u=o.length,f=1+(u-1)*.1;return{...r,sourceCount:u,allSources:o,clusteredItems:a.length,impactScore:r.impactScore*f,clusterRepresentative:!0}},Wx=(a,i=.75)=>{const r=new Set,o=[];for(const h of a)!h.id||r.has(h.id)||(r.add(h.id),o.push(h));return Qx(o,i).map(Zx).filter(h=>h!==null)};function Jx(a){return a.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim()}class Px{constructor(){this.newsMap=new Map,this.breaking=new Set}checkBreakingNews(i,r=Date.now()){if(!i||!i.title||!i.publishedAt)return{isBreaking:!1,breakingScore:0,multiplier:1};const o=Jx(i.title),u=(r-i.publishedAt)/1e3/60;let f=!1,h=0;for(const[g,p]of this.newsMap.entries())if(this.calculateSimilarity(o,g)>.7){(r-p.firstSeen)/1e3/60<60&&!p.sources.has(i.source)&&(p.sources.add(i.source),p.count++),p.count>=2&&u<60&&(f=!0,h=Math.log(60/Math.max(1,u))||1,h=Math.min(h,3),this.breaking.add(o));break}return this.newsMap.has(o)||this.newsMap.set(o,{firstSeen:i.publishedAt,sources:new Set([i.source]),count:1,title:i.title}),{isBreaking:f,breakingScore:h,multiplier:f?h:1}}calculateSimilarity(i,r){const o=new Set(i.split(/\s+/)),u=new Set(r.split(/\s+/)),f=[...o].filter(g=>u.has(g)).length,h=new Set([...o,...u]).size;return f/Math.max(h,1)}cleanup(i=120){const r=Date.now(),o=[];for(const[u,f]of this.newsMap.entries())(r-f.firstSeen)/1e3/60>i&&o.push(u);return o.forEach(u=>{this.newsMap.delete(u),this.breaking.delete(u)}),o.length}getBreakingStories(){const i=[];for(const[r,o]of this.newsMap.entries())o.count>=2&&i.push({title:o.title,sourceCount:o.count,sources:[...o.sources],firstSeen:o.firstSeen});return i}}const e1=new Px;function t1(a,i,r){const o=`${a} ${i}`.toLowerCase();let u=1;/\b(world|international|global|planet|earth|un|united nations)\b/.test(o)?u=1.5:/\b(india|country|nation|nationwide|federal|central govt|modi|parliament)\b/.test(o)?u=1.3:/\b(state|tamil nadu|kerala|karnataka|region|district)\b/.test(o)&&(u=1.1);let f=1;/\b(billions?|trillions?)\b/.test(o)?f=1.5:/\b(millions?|lakhs?|crores?)\b/.test(o)?f=1.3:/\b(thousands?|hundreds of thousands?)\b/.test(o)&&(f=1.1);let h=1;return r&&r.highImpactKeywords&&Array.isArray(r.highImpactKeywords)&&r.highImpactKeywords.some(p=>p?new RegExp(`\\b${p.toLowerCase()}\\b`,"i").test(o):!1)&&(h=r.rankingWeights?.impact?.highImpactBoost||2.5),u*f*h}const n1={chennai:{lat:13.0827,lon:80.2707,boost:2},trichy:{lat:10.7905,lon:78.7047,boost:1.8},"tamil nadu":{lat:11.1271,lon:78.6569,boost:1.6},muscat:{lat:23.588,lon:58.3829,boost:1.5},india:{lat:20.5937,lon:78.9629,boost:1.3}};function a1(a,i){const r=Le();if(r.enableProximityScoring===!1)return 1;const o=`${a} ${i}`.toLowerCase();let u=1;const f=r.rankingWeights?.geo?.cityMatch||1.5,h=r.rankingWeights?.geo?.maxScore||5;for(const[g,p]of Object.entries(n1))o.includes(g.toLowerCase())&&p.boost>u&&(u=p.boost);if(r.weather?.cities)for(const g of r.weather.cities)o.includes(g.toLowerCase())&&f>u&&(u=f);return Math.min(u,h)}const Um=new Map;function l1(a){return a.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(i=>i.length>3)}function i1(a,i,r){const o=`${a} ${i}`,u=l1(o);if(u.length===0)return 1;let f=0;u.forEach(p=>{const y=Um.get(p)||{count:0};y.count<2&&f++,Um.set(p,{count:y.count+1,lastSeen:Date.now()})});const h=f/u.length;return 1+Math.min(h*.5,.5)}function s1(a,i=[]){const o=Le().followedTopics||[];if(o.length===0)return 1;const u=a.toLowerCase();return o.some(h=>{const g=typeof h=="string"?h:h.name;if(!g)return!1;const p=g.toLowerCase();return u.includes(p)||i&&i.some(y=>y.toLowerCase().includes(p))})?1.5:1}const r1=["hero","rescue","miracle","triumph","tragedy","survival","family","child","mother","father","couple","wedding","journey","struggle","overcome","inspire","brave","courage","heartbreak","reunion","loss","hope","dream","volunteer","charity","donation","help","saved","lifeline","community","spirit","kindness"];function o1(a,i){const r=`${a} ${i}`.toLowerCase();let o=0;r1.forEach(f=>{r.includes(f.toLowerCase())&&o++});const u=1+o*.2;return Math.min(u,2)}function c1(a,i=null){if(!a)return 1;const r=i?.rankingWeights?.visual?.videoBoost||1.3,o=i?.rankingWeights?.visual?.imageBoost||1.15;return/youtube|vimeo|video|youtu\.be/i.test(a)?r:/\.(jpg|jpeg|png|gif|webp|svg)/i.test(a)||/images|img|photo|static/i.test(a)?o:Math.min(o,1.1)}const Bm={world:["UN","NATO","United Nations","international","embassy","foreign","global","war","peace talks","summit","G7","G20","EU","European Union","Middle East","Ukraine","Russia","Gaza","Israel","Palestine","Hamas","Hezbollah","Iran","China","USA","UK","Biden","Trump","Putin","Zelenskyy","Netanyahu","diplomacy","geopolitical","sanctions","treaty","United States","Britain","France","Germany","Australia","Canada","Japan","South Korea","North Korea"],india:["Delhi","New Delhi","Modi","BJP","Congress","Parliament","Supreme Court","India","Indian","Lok Sabha","Rajya Sabha","PM","President","RBI","central government","nationwide","union minister","Amit Shah","Rahul Gandhi","AAP","Kejriwal","Mamata Banerjee","Trinamool","CPM","Elections","ECI","Election Commission","CBI","ED","Enforcement Directorate","UPSC","NEET","census","aadhaar","pan card","railways","vande bharat","isro","chandrayaan","aditya-l1","gaganyaan","defence","army","navy","air force"],chennai:["Chennai","Madras","Marina Beach","TN Assembly","MTC","CMDA","Anna University","Kauvery Hospital","Apollo Chennai","Tambaram","Egmore","T Nagar","Adyar","Velachery","Guindy","Mylapore","Triplicane","Chromepet","Pallavaram","OMR","ECR","Old Mahabalipuram Road","East Coast Road","Koyambedu","Anna Nagar","Besant Nagar","Thiruvanmiyur","IIT Madras","Loyola College","Presidency College","Ripon Building","Greater Chennai Corporation","GCC","Chennai Metro","CMRL","Central Station","Egmore Station","Meenambakkam","Chennai Airport","Nungambakkam","Kodambakkam"],trichy:["Trichy","Tiruchirappalli","Srirangam","BHEL Trichy","NIT Trichy","Rock Fort","Kaveri","Cauvery","Thanjavur","Delta districts","Samayapuram","Manapparai","Thiruverumbur","Lalgudi","Musiri","Thuraiyur","Pudukkottai","Karur","Perambalur","Ariyalur","Kallanai","Mukkombu","Butterfly Park","Tiruchirapalli"],business:["stock","market","economy","GDP","inflation","RBI","Sensex","Nifty","shares","BSE","NSE","earnings","revenue","profit","loss","IPO","merger","acquisition","startup","funding","investment","corporate","CEO","CFO","bank","finance","fiscal","monetary","repo rate","tax","GST","income tax","customs","export","import","trade","rupee","dollar","gold","silver","oil","crude","brent","crypto","bitcoin","ethereum","blockchain","mutual fund","SIP","dividend","quarterly results","Adani","Ambani","Tata","Reliance","Infosys","TCS","Wipro","HDFC","ICICI","SBI"],technology:["AI","tech","technology","Google","Apple","Microsoft","software","hardware","cyber","crypto","blockchain","iPhone","Android","app","cloud","data","algorithm","machine learning","artificial intelligence","ChatGPT","OpenAI","Gemini","LLM","neural network","robotics","automation","5G","6G","telecom","semiconductor","chip","processor","Intel","AMD","Nvidia","Samsung","OnePlus","Xiaomi","cybersecurity","hacker","malware","ransomware","virus","SpaceX","NASA","satellite","rocket","drone","electric vehicle","EV","Tesla","Elon Musk","Mark Zuckerberg","Sundar Pichai","Satya Nadella","Tim Cook"],entertainment:["film","movie","actor","actress","director","box office","OTT","Netflix","Amazon Prime","Disney+","cinema","theatre","Kollywood","Bollywood","Hollywood","music","album","concert","award","Oscar","Emmy","Grammy","celebrity","release","trailer","teaser","review","blockbuster","star","superstar","hero","heroine","villain","script","screenplay","cinematography","Rajinikanth","Kamal Haasan","Vijay","Ajith","Suriya","Dhanush","Vikram","Nayanthara","Trisha","Anirudh","AR Rahman","Shah Rukh Khan","Salman Khan","Aamir Khan","Deepika Padukone","Alia Bhatt","Ranbir Kapoor","Karan Johar","Tollywood","Mollywood"],sports:["cricket","football","IPL","Olympics","match","championship","FIFA","World Cup","player","coach","team","goal","wicket","run","tennis","badminton","hockey","trophy","medal","CSK","MI","RCB","stadium","tournament","league","series","test match","ODI","T20","century","half-century","hat-trick","penalty","corner","free kick","grand slam","Wimbledon","US Open","French Open","Australian Open","F1","Formula 1","racing","driver","athlete","gold medal","silver medal","bronze medal","BCCI","ICC","Virat Kohli","Rohit Sharma","Dhoni","MS Dhoni","Messi","Ronaldo","Neymar","Mbappe"]},Jg={"Narendra Modi":"india","Rahul Gandhi":"india","Amit Shah":"india","Arvind Kejriwal":"india","Mamata Banerjee":"india","Droupadi Murmu":"india","Jagdeep Dhankhar":"india","Nirmala Sitharaman":"india","S. Jaishankar":"india","Rajnath Singh":"india","Nitin Gadkari":"india","Mallikarjun Kharge":"india","MK Stalin":"chennai","Edappadi Palaniswami":"chennai","K. Annamalai":"chennai",Annamalai:"chennai","Udhayanidhi Stalin":"chennai","Thol. Thirumavalavan":"chennai",Seeman:"chennai","Kamal Haasan":"entertainment",Rajinikanth:"entertainment",Vijay:"entertainment","Thalapathy Vijay":"entertainment","Ajith Kumar":"entertainment",Suriya:"entertainment","Shah Rukh Khan":"entertainment","Salman Khan":"entertainment","Alia Bhatt":"entertainment","Deepika Padukone":"entertainment","Taylor Swift":"entertainment",Beyonce:"entertainment","Chennai Super Kings":"sports",CSK:"sports","Mumbai Indians":"sports","Royal Challengers Bangalore":"sports",RCB:"sports","Indian Cricket Team":"sports","Virat Kohli":"sports","MS Dhoni":"sports","Rohit Sharma":"sports","Ravindra Jadeja":"sports","R Ashwin":"sports","Jasprit Bumrah":"sports","Lionel Messi":"sports","Cristiano Ronaldo":"sports","Novak Djokovic":"sports","Rafael Nadal":"sports","Carlos Alcaraz":"sports","PV Sindhu":"sports","Neeraj Chopra":"sports","R Praggnanandhaa":"sports","D Gukesh":"sports",OpenAI:"technology",Tesla:"technology",SpaceX:"technology",Nvidia:"technology","Sam Altman":"technology","Mark Zuckerberg":"technology","Sundar Pichai":"technology","Satya Nadella":"technology","Tim Cook":"technology","Gautam Adani":"business","Mukesh Ambani":"business","Ratan Tata":"business","N Chandrasekaran":"business","Uday Kotak":"business","Nifty 50":"business",Sensex:"business"};function u1(a,i,r=""){const o=`${a} ${i}`.toLowerCase();for(const[p,y]of Object.entries(Jg)){const b=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`\\b${b}\\b`,"i").test(o))return y}const u={};Object.keys(Bm).forEach(p=>u[p]=0);for(const[p,y]of Object.entries(Bm))y.forEach(b=>{const v=b.toLowerCase(),w=["star","hero","mass","play","act","cast","plot","vijay","ajith","suriya","vikram","release"];v.length<=3||w.includes(v)?new RegExp(`\\b${v}\\b`,"i").test(o)&&u[p]++:o.includes(v)&&u[p]++});const h=Object.keys(u).sort((p,y)=>u[y]-u[p])[0];return u[h]>=2?h:null}const d1=300,ut={entries:[],subscribers:new Set,stats:{totalFetches:0,successes:0,failures:0,totalMs:0,byService:{}}};function Hm(){ut.subscribers.forEach(a=>a())}function f1(a){ut.stats.byService[a]||(ut.stats.byService[a]={ok:0,fail:0,totalMs:0,lastStatus:null,lastTime:null})}const nn={add(a,i,r,o={}){const u={ts:Date.now(),level:a,service:i,message:r,...o};ut.entries.push(u),ut.entries.length>d1&&ut.entries.shift(),ut.stats.totalFetches++,f1(i);const f=ut.stats.byService[i];a==="error"?(ut.stats.failures++,f.fail++,f.lastStatus="fail"):(ut.stats.successes++,f.ok++,f.lastStatus="ok"),o.durationMs&&(ut.stats.totalMs+=o.durationMs,f.totalMs+=o.durationMs),f.lastTime=Date.now(),Hm()},info(a,i,r){this.add("info",a,i,r)},warn(a,i,r){this.add("warn",a,i,r)},error(a,i,r){this.add("error",a,i,r)},success(a,i,r){this.add("success",a,i,r)},getEntries(){return ut.entries},getStats(){return ut.stats},subscribe(a){return ut.subscribers.add(a),()=>ut.subscribers.delete(a)},clear(){ut.entries.length=0,ut.stats={totalFetches:0,successes:0,failures:0,totalMs:0,byService:{}},Hm()}},Wc=[{name:"rss2json",url:"https://api.rss2json.com/v1/api.json",format:a=>`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.json();if(i.status==="ok")return{title:i.feed?.title,items:i.items||[]};throw new Error("rss2json status not ok")}},{name:"codetabs",url:"https://api.codetabs.com/v1/proxy",format:a=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.text();if(!i)throw new Error("Empty response from codetabs");return Im(i)}},{name:"allorigins",url:"https://api.allorigins.win/get",format:a=>`https://api.allorigins.win/get?url=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.json();if(!i.contents)throw new Error("No content from allorigins");return Im(i.contents)}}];function Im(a){const r=new DOMParser().parseFromString(a,"text/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("XML Parsing Error");const o=r.querySelector("channel > title")?.textContent||"Unknown Source",u=Array.from(r.querySelectorAll("item")).map(f=>{const h=f.querySelector("title")?.textContent,g=f.querySelector("link")?.textContent,p=f.querySelector("pubDate")?.textContent,y=f.querySelector("description")?.textContent,b=f.querySelector("guid")?.textContent,v=f.querySelector("author")?.textContent||f.querySelector("dc\\:creator")?.textContent,w=f.querySelector("enclosure"),_=w?{url:w.getAttribute("url"),type:w.getAttribute("type")}:null,j=f.querySelector("media\\:content")||f.querySelector("content"),A=j?{url:j.getAttribute("url")}:null,k=f.querySelector("media\\:thumbnail")||f.querySelector("thumbnail"),I=k?k.getAttribute("url"):null;return{title:h,link:g,pubDate:p,description:y,guid:b,author:v,enclosure:_,"media:content":A,thumbnail:I}});return{title:o,items:u}}class h1{constructor(){this.currentIndex=0,this.failureCounts=new Map,this.lastSuccess=new Map}async fetchViaProxy(i){const r=Wc.length;let o=null;for(let u=0;u<r;u++){const f=(this.currentIndex+u)%r,h=Wc[f];try{const g=h.format(i),p=new AbortController,y=setTimeout(()=>p.abort(),8e3);let b;try{b=await fetch(g,{signal:p.signal})}finally{clearTimeout(y)}if(!b.ok)throw new Error(`HTTP ${b.status}`);const v=await h.parse(b);if(!v||!v.items||v.items.length===0)throw new Error("No items returned");return this.failureCounts.set(h.name,0),this.lastSuccess.set(h.name,Date.now()),this.currentIndex=f,nn.info("proxy",`${h.name} OK (${v.items.length} items)`),v}catch(g){console.warn(`[ProxyManager] ${h.name} failed for ${i}:`,g.message),o=g;const p=(this.failureCounts.get(h.name)||0)+1;this.failureCounts.set(h.name,p)}}throw nn.error("proxy",`All proxies failed: ${o?.message}`),new Error(`All proxies failed. Last error: ${o?.message}`)}getProxyHealth(){return Wc.map(i=>({name:i.name,failures:this.failureCounts.get(i.name)||0,lastSuccess:this.lastSuccess.get(i.name)||null}))}}const Pg=new h1,su="news_section_health",qm=3;function Gm(a,i){if(a)try{const r=localStorage.getItem(su),o=r?JSON.parse(r):{},u=o[a]||[];u.unshift(i),u.length>qm&&(u.length=qm),o[a]=u,localStorage.setItem(su,JSON.stringify(o))}catch(r){console.warn("[SectionHealth] Failed to record fetch count:",r)}}function m1(a,i){try{const r=localStorage.getItem(su),u=(r?JSON.parse(r):{})[a]||[];if(u.length===0)return{status:"ok",ratio:1,avg:i,history:[]};const h=u.reduce((y,b)=>y+b,0)/u.length;if(h===0)return{status:"ok",ratio:1,avg:0,history:u};const g=i/h;let p="ok";return g<.1?p="critical":g<.5&&(p="warning"),{status:p,ratio:g,avg:h,history:u}}catch(r){return console.warn("[SectionHealth] Failed to compute health:",r),{status:"ok",ratio:1,avg:0,history:[]}}}function g1(a){if(!a||a.length<=3)return!1;const i=a[0].source;return a.every(r=>r.source===i)}const p1={world:[jl.WORLD_IN,"https://feeds.bbci.co.uk/news/rss.xml","https://feeds.bbci.co.uk/news/world/rss.xml","https://www.aljazeera.com/xml/rss/all.xml",jl.WORLD_US],india:[jl.TAMIL_NADU,"https://feeds.feedburner.com/ndtvnews-top-stories","https://www.thehindu.com/news/national/feeder/default.rss","https://timesofindia.indiatimes.com/rssfeedstopstories.cms"],chennai:[jl.CHENNAI,"https://www.thehindu.com/news/cities/chennai/feeder/default.rss"],trichy:["https://www.thehindu.com/news/cities/Tiruchirapalli/feeder/default.rss"],local:["https://news.google.com/rss/search?q=Muscat+Oman&hl=en-OM&gl=OM&ceid=OM:en","https://www.muscatdaily.com/feed"],business:[jl.BUSINESS_IN_SEARCH,"https://economictimes.indiatimes.com/rssfeedstopstories.cms","https://www.moneycontrol.com/rss/business.xml","https://www.livemint.com/rss/money","https://feeds.bbci.co.uk/news/business/rss.xml","https://www.cnbc.com/id/10001147/device/rss/rss.html"],technology:[jl.TECH_IN_SEARCH,"https://gadgets360.com/rss/news","https://techcrunch.com/feed/","https://www.theverge.com/rss/index.xml"],sports:["https://www.espn.com/espn/rss/news"],entertainment:["https://www.bollywoodhungama.com/rss/news.xml","https://feeds.bbci.co.uk/news/entertainment_and_arts/rss.xml","https://www.hindustantimes.com/feeds/rss/entertainment/tamil-cinema/rssfeed.xml","https://www.hindustantimes.com/feeds/rss/entertainment/telugu-cinema/rssfeed.xml","https://www.pinkvilla.com/rss/feed/entertainment"],social:["https://www.theverge.com/rss/index.xml"]},y1={bbc:"BBC",ndtv:"NDTV",theHindu:"The Hindu",toi:"Times of India",financialExpress:"Financial Express",dtNext:"DT Next",omanObserver:"Oman Observer",moneyControl:"Moneycontrol",indiaToday:"India Today",variety:"Variety",hollywoodReporter:"Hollywood Reporter",bollywoodHungama:"Bollywood Hungama",alJazeera:"Al Jazeera"},v1=["breaking","election","war","crisis","ai","market","inflation","conflict","gold","storm","rain"],x1=new RegExp(v1.join("|"),"i"),b1=300*1e3,cr=new Map;function ep(a,i){if(!a&&!i)return!1;const r=(a||"")+" "+(i||"");return x1.test(r)}function Ym(a,i){if(!a||!i||i.length===0)return 0;const r=a.toLowerCase();let o=0;return i.forEach(u=>{u&&r.includes(u.toLowerCase())&&o++}),o}function Jc(a){return a?a.replace(/<[^>]*>?/gm,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim():""}function S1(a){let i=0;if(!a)return"0";for(let r=0;r<a.length;r++)i=(i<<5)-i+a.charCodeAt(r),i|=0;return i.toString()}function w1(a){if(!a)return"Unknown";if(a.includes(" - Google News"))return"Google News";const i=Object.keys(Al).find(r=>r!=="default"&&a.toLowerCase().includes(r.toLowerCase()));return i?Al[i].name:a}function j1(a,i,r){if(!i)return null;const o=i.match(/(?:["])([^"]{30,150})(?:["])/);if(o&&o[1]){let u=o[1].trim();if(u.length>0)return`"${u}"`}return null}function du(a,i,r=0,o=null){const u=o||Le(),f=u.rankingWeights||{},h=(Date.now()-a.publishedAt)/(1e3*60*60),g=f.freshness?.maxBoost||3;let p;if(u.rankingMode==="smart")p=g/(1+Math.exp(.5*(h-12)));else{const ee=f.freshness?.decayHours||26;p=Math.max(0,(ee-h)/ee)*g}const y=zx(a.source),b=Lx(a.source,i),v=f.source?.tier1Boost||.5,w=y*b,_=f.keyword?.matchBoost||2,j=ep(a.title,a.description)?_:0,A=i==="world"?1.5:i==="business"?1.2:1;let k=0;a.sentiment&&(a.sentiment.label==="positive"?k=f.sentiment?.positiveBoost||.5:a.sentiment.label==="negative"&&(k=f.sentiment?.negativeBoost||.3));const C=/\b(live|updates|ongoing|developing)\b/i.test(a.title)?1.5:1,B=e1.checkBreakingNews(a);a.isBreaking=B.isBreaking,a.breakingScore=B.breakingScore;const Z=B.multiplier;if(u.enableNewScoring===!1)return(p+w+j+k)*A*Z*C;const $=t1(a.title,a.description,u),te=a1(a.title,a.description),P=i1(a.title,a.description),J=s1(a.title,null),re=o1(a.title,a.description),se=c1(a.imageUrl,u),ne=p+j+k,H=1+y*b*v,ie=ne*H,le=$*te*P*J*re*se;let ae=0,z=1;const X=u.buzz?.[i];if(X&&X.enabled){const ee=a.title+" "+a.description,oe=Ym(ee,X.positiveKeywords),de=Ym(ee,X.negativeKeywords),we=oe*(X.positiveMultiplier||1),je=de*(X.negativeMultiplier||1),at=we-je;at<(X.filterThreshold||0)?z=.01:ae=at*2}let Y=1;const W=new Date().getDay(),S=W===0||W===6||W===5;if(["entertainment","social","movies"].includes(i)||a.section==="entertainment"){const ee=u.rankingWeights?.temporal?.entertainmentBoost||2.5;Y*=ee}if(S&&["entertainment","social","local","chennai","trichy","events"].includes(i)){const ee=u.rankingWeights?.temporal?.weekendBoost||2;Y*=ee}const T=f.viewedPenalty||.4;let O=1;r>0&&(O=T,r>3&&(O=T/2));const V=(ie+ae)*le*Y*A*Z*C*O*z;return(u.debugLogs||o)&&(a._scoreBreakdown={freshness:p,sourceScore:y,categoryWeight:b,keywordBoost:j,sentimentBoost:k,impact:$,proximity:te,novelty:P,currency:J,visual:se,sectionPriority:A,breakingBoost:Z,seenPenalty:O,total:V}),V}function _1(a,i){let r=null;for(const[o,u]of Object.entries(y1))if(a.includes(u)||u.includes(a)){r=o;break}return r?i[r]!==!1:!0}async function ru(a,i=10,r=null){const o=Date.now();if(i===0)return[];const u=a;let f=[];const h=Le();if(h.enableCache!==!1){const y=cr.get(u);if(y&&Date.now()-y.timestamp<b1){const b=Math.round((Date.now()-y.timestamp)/1e3);return console.log(`[RSS]  Cache HIT for ${a} (age: ${b}s)`),$m(y.data,a,i,r)}console.log(`[RSS]  Cache MISS for ${a} - Fetching fresh data`)}else console.log(`[RSS]  Cache DISABLED by user settings for ${a}`);if(a==="entertainment"){console.log("[RSS] Using entertainmentService for entertainment section");try{const b=Le()?.entertainment||{},v=await Yx(b);return console.log(`[RSS] Entertainment: Got ${v.length} articles with distribution`),v.slice(0,i)}catch(y){console.error("[RSS] Entertainment service failed:",y)}}const p=p1[a]||[];if(p.length===0)return console.warn(`[RSS] No feeds defined for section: ${a}`),[];try{console.log(`[RSS] Feeds for ${a}:`,p);const y=await Promise.allSettled(p.map(_=>la(_,a))),b=[],v=[];y.forEach((_,j)=>{_.status==="fulfilled"&&_.value?(b.push(_.value),console.log(`[RSS]  Feed ${j+1}/${p.length} succeeded`)):(v.push(p[j]),console.warn(`[RSS]  Feed ${j+1}/${p.length} failed: ${_.reason?.message||"Unknown error"}`))}),v.length>0&&b.length>0&&(console.log(`[RSS] Retrying ${v.length} failed feed(s) for ${a}...`),await new Promise(j=>setTimeout(j,2e3)),(await Promise.allSettled(v.map(j=>la(j,a)))).forEach((j,A)=>{j.status==="fulfilled"&&j.value?(b.push(j.value),console.log(`[RSS]  Retry succeeded: ${v[A]}`)):console.error(`[RSS]  Retry also failed: ${v[A]}`)})),f=b.flat();const w=Date.now()-o;console.log(`[RSS] Section '${a}' stats:`,{totalFeeds:p.length,successCount:b.length,failureCount:p.length-b.length,totalItems:f.length}),nn.success("rss",`${a}: ${f.length} items from ${b.length}/${p.length} feeds`,{durationMs:w}),h.enableCache!==!1&&(cr.set(u,{timestamp:Date.now(),data:f}),console.log(`[RSS]  Cached ${f.length} items for ${a}`))}catch(y){return console.error(`[RSS] Unexpected error fetching section ${a}:`,{errorMessage:y.message,errorStack:y.stack,section:a}),nn.error("rss",`${a}: ${y.message}`,{durationMs:Date.now()-o}),f.length>0?f:[]}try{let y=null;if(a==="social"){const w=Le();w.buzzRankingWeights&&(y={...w,rankingWeights:{...w.rankingWeights,...w.buzzRankingWeights}})}const b=await $m(f,a,i,r,y);b.forEach(w=>{w.sourceCount||(w.sourceCount=1)});const v=m1(a,b.length);return Gm(a,b.length),b.health=v,b.isSingleSource=g1(b),b}catch(y){console.error(`[RSS] Ranking failed for ${a}:`,y);const b=f.slice(0,i);return Gm(a,b.length),b}}async function la(a,i){const{title:r,items:o}=await Pg.fetchViaProxy(a);return o.map(u=>N1(u,r,i))}function N1(a,i,r="general"){const o=a.pubDate||a.created||new Date().toISOString(),u=Date.parse(o)||Date.now();let f=i;a.author&&(f=a.author),f=w1(f);const h=S1(a.link||a.guid||a.title),g=a.description||"",y=u1(a.title||"",g||"",f)||r;let b=null;if(a.enclosure&&a.enclosure.url)b=a.enclosure.url;else if(a.thumbnail)b=a.thumbnail;else if(a["media:content"]&&a["media:content"].url)b=a["media:content"].url;else if(g.includes("<img")){const _=g.match(/<img[^>]+src="([^">]+)"/);_&&(b=_[1])}b&&!b.startsWith("http")&&(b=null);const v=["business","market"].includes(r)||/\b(stock|market|shares|trading|sensex|nifty|bank|economy|crypto|ipo|revenue|profit)\b/i.test(a.title+g);let w=null;return v&&(w=Vx(a.title,Jc(g))),{id:h,title:a.title,headline:a.title,description:g,summary:Jc(g),link:a.link,url:a.link,source:f,publishedAt:u,fetchedAt:Date.now(),time:new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),impactScore:0,section:y,criticsView:j1(a.title,Jc(g)),sentiment:w?{label:w.label,comparative:w.comparative,titleSentiment:w.titleSentiment,descriptionSentiment:w.descriptionSentiment}:null,imageUrl:b}}async function $m(a,i,r,o,u=null){try{const f=new Set,h=Date.now(),g=u||Le(),p=g.hideOlderThanHours||g.freshnessLimitHours||60,y=p*60*60*1e3,b=g.strictFreshness===!1,v=g.rankingMode!=="legacy";console.log(`[RSSDebug] filtering for ${i}: Limit=${p}h. Items=${a.length}`);const w=g.feedBlockedKeywords||[],_=a.filter(A=>{if(w.length>0){const C=(A.title+" "+A.description).toLowerCase();if(w.some(B=>C.includes(B.toLowerCase())))return!1}const I=/\b(live|updates)\b/i.test(A.title)?y*3:y;if(!b&&h-A.publishedAt>I)return!1;if(g.filteringMode==="keyword"){if(!ep(A.title,A.description))return!1}else if(g.topWebsitesOnly){if(!["BBC","Reuters","NDTV","The Hindu","Times of India","Moneycontrol"].some(B=>A.source.includes(B)))return!1}else if(o&&!_1(A.source,o))return!1;return!0}).map(A=>{const k=A.section||i,I=Fg(A.id),C=v?du(A,k,I,g):0;return{...A,section:k,impactScore:C}}).filter(A=>f.has(A.id)?!1:(f.add(A.id),!0)),j=Wx(_,.75);return g.rankingMode==="legacy"?j.sort((A,k)=>k.publishedAt-A.publishedAt):j.sort((A,k)=>k.impactScore-A.impactScore),console.log(`[RSS] Final count for ${i}: ${j.length} (requested ${r})`),j.slice(0,r)}catch(f){throw console.error(`[RSS] Ranking error for ${i}:`,f),f}}function E1(){const a=cr.size;return cr.clear(),console.log(`[RSS]  Cleared ${a} cache entries`),a}function C1(a,i=20,r=40,o=30){const u=[],f=new Map,h=new Map,g=[...a].sort((p,y)=>(y.impactScore||0)-(p.impactScore||0));for(const p of g){if(u.length>=i)break;const y=p.section||"general",b=T1(p.title,p.description),v=f.get(y)||0,w=h.get(b)||0,_=Math.floor(i*(r/100)),j=Math.floor(i*(o/100));v>=_||w>=j||(u.push(p),f.set(y,v+1),h.set(b,w+1))}return console.log("[Composer] Final composition:",{total:u.length,byTopic:Object.fromEntries(f),byGeo:Object.fromEntries(h)}),u}function T1(a,i){const r=`${a||""} ${i||""}`.toLowerCase();return/chennai|madras/i.test(r)?"chennai":/trichy|tiruchirappalli/i.test(r)?"trichy":/tamil nadu|tn /i.test(r)?"tamil-nadu":/india|delhi|mumbai|bangalore/i.test(r)?"india":"global"}const Vm="news_audit_history";function A1(a){if(a.length===0)return 0;const i=[...a].sort((o,u)=>o-u),r=Math.floor(i.length/2);return i.length%2!==0?i[r]:(i[r-1]+i[r])/2}function tp(a){return a.length===0?0:a.reduce((i,r)=>i+r,0)/a.length}function M1(a,i){if(a.length===0)return 0;const r=a.map(u=>Math.pow(u-i,2)),o=tp(r);return Math.sqrt(o)}function R1(a,i){const r={},o=i?.rankingWeights?.audit?.consensusThreshold||2;return a.forEach(u=>{const f=u.sourceCount||1;let h=null;f>=o+1?h="":f>=o&&(h=""),r[u.id]={count:f,sources:u.allSources||[u.source],badge:h}}),r}function k1(a,i){const r={};if(!i)return r;const o=new Set;i.followedTopics&&i.followedTopics.forEach(f=>o.add(f.query.toLowerCase())),i.upAhead&&i.upAhead.keywords&&Object.values(i.upAhead.keywords).flat().forEach(f=>{f&&o.add(f.toLowerCase())});const u=Object.entries(i.newsSources||{}).filter(([f,h])=>h).map(([f])=>f.toLowerCase());return a.forEach(f=>{const h=(f.title||"").toLowerCase(),g=(f.source||"").toLowerCase();let p=[],y=0;o.forEach(w=>{h.includes(w)&&(p.push(w),y+=1)});const b=u.some(w=>g.includes(w)||w.includes(g));let v=null;p.length>0&&(v=b?"":""),r[f.id]={score:y,matches:p,badge:v}}),r}function O1(a,i){const r={};if(a.length<3)return r;const o=Date.now(),u=a.map(g=>(o-new Date(g.publishedAt).getTime())/(1e3*60*60)),f=A1(u),h=i?.rankingWeights?.freshness?.anomalyThreshold||2;return a.forEach((g,p)=>{const y=u[p];let b="none",v=null;y>6&&y>f*h&&(b="age",v=""),r[g.id]={type:b,badge:v}}),r}function D1(a,i){const r={};if(a.length<5)return r;const o=a.map(g=>g.impactScore||0),u=tp(o),f=M1(o,u),h=i?.rankingWeights?.audit?.anomalySigma||2;return a.forEach(g=>{const p=g.impactScore||0;let y="none",b=null;p>u+h*f?(y="score_high",b=""):p<u-1.5*f&&(y="score_low",b=""),r[g.id]={type:y,badge:b}}),r}async function z1(a,i){const r={};let o={};try{const f=localStorage.getItem(Vm);o=f?JSON.parse(f):{}}catch(f){console.warn("Failed to load audit history",f)}const u={};Object.entries(a).forEach(([f,h])=>{if(!Array.isArray(h)||h.length===0)return;const g=R1(h,i),p=k1(h,i),y=O1(h,i),b=D1(h,i),v=h.slice(0,10).map(_=>_.id),w=new Set(o[f]||[]);u[f]=v,h.forEach(_=>{const j=_.id,A=v.includes(j)&&w.has(j)?"":null;let k=null;_.isBreaking&&g[j]?.count>1?k="":_.isBreaking&&(k=""),r[j]={consensus:g[j],relevance:p[j],anomaly:b[j]?.badge?b[j]:y[j]?.badge?y[j]:{type:"none",badge:null},persistenceBadge:A,breakingVerified:k}})});try{localStorage.setItem(Vm,JSON.stringify(u))}catch(f){console.warn("Failed to save audit history",f)}return r}const np=N.createContext(),tr=["world","india","chennai","trichy"];function L1({children:a}){const{settingsVersion:i}=pt(),r=N.useRef(i),[o,u]=N.useState({}),[f,h]=N.useState([]),[g,p]=N.useState(!0),[y,b]=N.useState([]),[v,w]=N.useState({}),[_,j]=N.useState(0),[A,k]=N.useState({}),I=N.useCallback(async B=>{if(!y.includes(B)){console.log(`[NewsContext] Lazy loading section: ${B}`);try{const Z=Le();if(Z.sections[B]&&!Z.sections[B].enabled){console.log(`[NewsContext] Skipping lazy load for disabled section: ${B}`);return}const $=Z.sections[B]?.count||10,te=await ru(B,$+5,Z.newsSources);u(P=>({...P,[B]:te||[]}))}catch(Z){console.error(`[NewsContext] Failed to load section ${B}:`,Z),w($=>({...$,[B]:Z.message}))}finally{b(Z=>[...new Set([...Z,B])])}}},[y]),C=N.useCallback(async(B=null)=>{p(!0);const Z=Date.now();try{const $=Le();if(!$){console.error("[NewsContext] Settings not available");return}const P=B||["world","india","chennai","trichy","local","social","entertainment","business","technology"],J=P.filter(ie=>tr.includes(ie)),re=P.filter(ie=>!tr.includes(ie)),se=[J,re].filter(ie=>ie.length>0);let ne={};for(const ie of se){const le={},ae={};console.log(`[NewsContext] Fetching batch: ${ie.join(", ")}`),await Promise.all(ie.map(async S=>{if($.sections[S]?.enabled!==!1)try{const T=$.sections[S]?.count||10,O=await ru(S,T+5,$.newsSources);O&&Array.isArray(O)?le[S]=O:le[S]=[]}catch(T){console.error(`[NewsContext] Error ${S}:`,T),ae[S]=T.message,le[S]=[]}})),Object.assign(ne,le);const z=Object.values(ne).flat(),X={};Object.keys(ne).forEach(S=>X[S]=[]),z.forEach(S=>{const T=S.section||"uncategorized";X[T]||(X[T]=[]),X[T].push(S)}),Object.keys(X).forEach(S=>{X[S].sort((T,O)=>(O.impactScore||0)-(T.impactScore||0))});const Y=Object.values(X).flat(),M=C1(Y,20,$.maxTopicPercent||40,$.maxGeoPercent||30);if(M&&M.length>0){const S=M.map(T=>T.id);rx(S)}u(S=>({...S,...X,frontPage:M})),w(S=>({...S,...ae})),b(S=>[...new Set([...S,...Object.keys(le)])]);const W=z.filter(S=>S.isBreaking||S.breakingScore&&S.breakingScore>1.5).sort((S,T)=>(T.breakingScore||0)-(S.breakingScore||0)).slice(0,3);h(W)}j(Date.now());const H=Date.now()-Z;console.log(`[NewsContext]  Refresh complete in ${H}ms`)}catch($){console.error("[NewsContext]  Fatal refresh error:",{errorMessage:$.message,errorStack:$.stack,timestamp:new Date().toISOString()})}finally{p(!1)}},[]);return N.useEffect(()=>{if(_===0)return;console.log("[NewsContext] Scheduling audit...");const B=setTimeout(async()=>{try{const Z=Le(),$=await z1(o,Z);k(te=>({...te,...$}))}catch(Z){console.error("[NewsContext] Audit failed:",Z)}},3e3);return()=>clearTimeout(B)},[_]),N.useEffect(()=>{r.current!==i&&(console.log("[NewsContext] Settings changed (v"+i+") - refreshing"),E1(),r.current=i,C())},[i,C]),N.useEffect(()=>{console.log("[NewsContext] Mounting - Initial fetch (Priority Only)"),C(tr);const B=setInterval(()=>{console.log("[NewsContext] Auto-refresh (5min cycle)"),C(tr)},300*1e3);return()=>{clearInterval(B),console.log("[NewsContext] Unmounting")}},[C]),s.jsx(np.Provider,{value:{newsData:o,loading:g,errors:v,refreshNews:C,breakingNews:f,lastFetch:_,loadSection:I,loadedSections:y,auditResults:A},children:a})}function xr(){return N.useContext(np)}function en({id:a,title:i,icon:r,colorClass:o,news:u=[],maxDisplay:f=3,showExpand:h=!0,error:g=null,extraContent:p=null,onArticleClick:y=null,showCritics:b=!0}){const[v,w]=N.useState(!1),[_,j]=N.useState(!1),{auditResults:A}=xr(),I=Le().rankingWeights?.trending?.threshold||12,C=v?u.length:Math.min(f,u.length),B=u.slice(0,C),Z=u.length>f,$=u.health||{status:"ok"},te=u.isSingleSource,P=H=>!H&&H!==0?"":H>15?"":H>10?"":H>6?"":H>3?"":"",J=H=>{switch(H?.toUpperCase()){case"HIGH":return"news-item__confidence--high";case"MEDIUM":return"news-item__confidence--medium";case"LOW":return"news-item__confidence--low";default:return""}},re=H=>{if(!H)return"";const ie=Math.floor((Date.now()-H)/1e3);let le=ie/31536e3;return le>1?Math.floor(le)+"y ago":(le=ie/2592e3,le>1?Math.floor(le)+"mo ago":(le=ie/86400,le>1?Math.floor(le)+"d ago":(le=ie/3600,le>1?Math.floor(le)+"h ago":(le=ie/60,le>1?Math.floor(le)+"m ago":"Just now"))))},se=H=>{Kg(H),y&&y(H),H.url&&window.open(H.url,"_blank","noopener,noreferrer")},ne=()=>g?s.jsxs("div",{className:"empty-state",style:{borderColor:"rgba(255, 87, 87, 0.3)"},children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{style:{color:"#ff5757"},children:g})]}):u.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:"No news available for this section"})]}):s.jsxs(s.Fragment,{children:[p,s.jsx("div",{className:"news-list",children:B.map((H,ie)=>s.jsxs("article",{className:"news-item",onClick:()=>se(H),style:{cursor:H.url?"pointer":"default"},children:[s.jsxs("div",{className:"news-item__badges",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.85rem"},children:[P(H.impactScore)&&s.jsx("span",{title:`Impact Score: ${H.impactScore?.toFixed(1)}`,children:P(H.impactScore)}),H.isBreaking&&s.jsx("span",{title:"Breaking News",children:""}),!H.isBreaking&&H.impactScore>I&&s.jsx("span",{title:"Trending",children:""}),A[H.id]&&s.jsxs("span",{className:"audit-badges",style:{display:"flex",gap:"4px"},children:[A[H.id].consensus?.badge&&s.jsx("span",{title:`Corroborated by ${A[H.id].consensus.count} sources`,children:A[H.id].consensus.badge}),A[H.id].persistenceBadge&&s.jsx("span",{title:"Persistence",children:A[H.id].persistenceBadge}),A[H.id].relevance?.badge&&s.jsx("span",{title:"Relevance",children:A[H.id].relevance.badge}),A[H.id].anomaly?.badge&&s.jsx("span",{title:`Anomaly: ${A[H.id].anomaly.type}`,children:A[H.id].anomaly.badge}),A[H.id].breakingVerified&&s.jsx("span",{title:"Verified",children:A[H.id].breakingVerified})]})]}),s.jsxs("h3",{className:"news-item__headline",children:[" ",H.headline,H.url&&s.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"8px",color:"var(--accent-secondary)"},children:""})]}),H.summary&&s.jsx("p",{className:"news-item__summary",children:H.summary}),b&&H.criticsView&&s.jsxs("div",{className:"news-item__critics",children:[s.jsx("span",{children:""}),s.jsxs("div",{children:[s.jsx("strong",{style:{color:"var(--accent-secondary)",display:"block",marginBottom:"2px"},children:"Critics Take:"}),H.criticsView]})]}),s.jsxs("div",{className:"news-item__meta",children:[H.sentiment&&s.jsx("span",{className:`sentiment-badge sentiment--${H.sentiment.label}`,title:`Sentiment: ${H.sentiment.label}`,children:H.sentiment.label==="positive"?"":H.sentiment.label==="negative"?"":""}),s.jsx("span",{className:"news-item__source",children:H.source}),H.sourceCount>1&&s.jsxs("span",{className:"news-item__consensus",title:`Reported by ${H.sourceCount} sources`,children:[" ",H.sourceCount," sources"]}),s.jsx("span",{children:"|"}),s.jsx("span",{children:re(H.publishedAt)||H.time}),H.sourceCount&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"|"}),s.jsxs("span",{children:["#",H.sourceCount," Sources"]})]}),s.jsx("span",{children:"|"}),s.jsx("span",{className:`news-item__confidence ${J(H.confidence)}`,children:H.confidence})]})]},H.id||ie))}),h&&Z&&s.jsxs("div",{className:"news-more",onClick:()=>w(!v),children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:v?"":""}),s.jsx("span",{children:v?"Collapse":`See ${u.length-f} more stories`})]})]});return s.jsxs("section",{className:"news-section",id:a,children:[s.jsxs("h2",{className:`news-section__title ${o}`,onClick:()=>j(!_),style:{cursor:"pointer"},title:`Tap to fold/unfold. Health: ${$.status.toUpperCase()}`,children:[s.jsx("span",{children:r}),i,$.status==="critical"&&s.jsx("span",{title:"Critical: Feed yield < 10% of average",style:{marginLeft:"8px"},children:""}),$.status==="warning"&&s.jsx("span",{title:"Warning: Feed yield < 50% of average",style:{marginLeft:"8px"},children:""}),te&&u.length>3&&s.jsx("span",{title:"Single Source: Potential echo chamber",style:{marginLeft:"8px"},children:""}),u.length>0&&s.jsxs("span",{style:{opacity:.6,fontSize:"0.9em",marginLeft:"6px"},children:["(",u.length,")"]}),s.jsx("span",{style:{marginLeft:"8px",fontSize:"0.8em",opacity:.5},children:_?"":""}),u.length>0&&u[0].fetchedAt&&s.jsx("span",{style:{fontSize:"0.65rem",marginLeft:"auto",padding:"2px 6px",borderRadius:"4px",background:Date.now()-u[0].fetchedAt<36e5?"rgba(0, 255, 0, 0.2)":"rgba(255, 165, 0, 0.2)",color:Date.now()-u[0].fetchedAt<36e5?"#4caf50":"#ffa726",border:"1px solid currentColor",fontWeight:"normal"},children:Date.now()-u[0].fetchedAt<3e5?"LIVE":re(u[0].fetchedAt)})]}),!_&&ne()]})}const fu=({sections:a})=>{const i=r=>{const o=document.getElementById(r);if(o){const h=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:h,behavior:"smooth"})}};return!a||a.length===0?null:s.jsx("div",{className:"section-navigator",children:a.map(({id:r,icon:o,label:u})=>s.jsx("button",{className:"section-navigator__btn",onClick:()=>i(r),title:u,children:s.jsx("span",{className:"section-navigator__icon",children:o})},r))})},U1=({items:a})=>{const[i,r]=N.useState(0);if(N.useEffect(()=>{if(!a||a.length<2)return;const u=setInterval(()=>{r(f=>(f+1)%a.length)},5e3);return()=>clearInterval(u)},[a]),!a||a.length===0)return null;const o=a[i];return s.jsxs("div",{className:"breaking-news-banner",children:[s.jsxs("div",{className:"breaking-label",children:[s.jsx("span",{className:"pulse-icon",children:""})," BREAKING"]}),s.jsxs("div",{className:"breaking-content",children:[s.jsx("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"breaking-link",children:o.title}),s.jsxs("span",{className:"breaking-time",children:[o.time,"  ",o.source]})]}),a.length>1&&s.jsx("div",{className:"breaking-controls",children:a.map((u,f)=>s.jsx("span",{className:`control-dot ${f===i?"active":""}`,onClick:()=>r(f)},f))})]})},B1=({title:a,icon:i,actions:r,loadingPhase:o})=>{const u=a!=="Market Brief";return s.jsxs("header",{className:"header timeline-header",children:[u&&s.jsx("h1",{className:"header__title",style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"1.1rem"},children:s.jsx("span",{children:a})}),s.jsx(Zg,{loadingPhase:o}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:r})]})};function H1(a){const i=a.filter(p=>p?.precipitation_probability!=null);if(i.length===0)return null;const r=i.map(p=>p.precipitation_probability),o=Math.round(r.reduce((p,y)=>p+y,0)/r.length),u=Math.min(...r),f=Math.max(...r),h=f-u,g=h>30;return{avg:o,min:u,max:f,range:h,isWideRange:g,displayString:`${g?"!":"~"}${o}% (${u}-${f}%)`,symbol:g?"!":"~",models:i.length}}function Fm(a){const i=a.filter(f=>f?.temperature_2m!=null);if(i.length===0)return null;let r=0,o=0;const u={ecmwf:1.2,icon:1,gfs:.8};return i.forEach(f=>{const h=u[f.modelName]||1;o+=f.temperature_2m*h,r+=h}),Math.round(r===0?i.reduce((f,h)=>f+h.temperature_2m,0)/i.length:o/r)}function Km(a){const i=a.filter(o=>o?.apparent_temperature!=null);if(i.length===0)return null;const r=i.map(o=>o.apparent_temperature);return Math.round(r.reduce((o,u)=>o+u,0)/r.length)}function Xm(a){const i=a.filter(h=>h?.weather_code!=null);if(i.length===0)return null;const r=i.map(h=>h.weather_code),o={};r.forEach(h=>{o[h]=(o[h]||0)+1});let u=0,f=r[0];for(const[h,g]of Object.entries(o))g>u&&(u=g,f=parseInt(h));return f}function I1(a){const i=a.filter(f=>f?.precipitation!=null);if(i.length===0)return 0;let r=0,o=0;const u={ecmwf:1.2,icon:1,gfs:.8};return i.forEach(f=>{const h=u[f.modelName]||1;o+=f.precipitation*h,r+=h}),r===0?0:parseFloat((o/r).toFixed(1))}function ap(a){return Object.entries(a).filter(([i,r])=>r!==null).map(([i,r])=>i)}function lp(a){const i={ecmwf:"ECMWF",gfs:"GFS",icon:"ICON"};return a.map(r=>i[r]||r).join(", ")}function q1(a,i,r,o){const u=G1(i),f=Y1(a),h=`${u}_${f}`,g={night_cloudy:"day_overcast",night_overcast:"day_overcast",night_fog:"day_fog",night_drizzle:"day_drizzle",night_lightRain:"day_lightRain",night_rain:"day_rain",night_heavyRain:"day_heavyRain",night_storm:"day_storm",night_snow:"day_snow",night_wind:"day_wind",dawn_partlyCloudy:"day_partlyCloudy",dawn_cloudy:"day_cloudy",dawn_rain:"day_rain",dusk_partlyCloudy:"day_partlyCloudy",dusk_cloudy:"day_cloudy",dusk_rain:"day_rain"};return g[h]?g[h]:h}function G1(a){return a>=6&&a<8?"dawn":a>=8&&a<17?"day":a>=17&&a<19?"dusk":"night"}function Y1(a){return a===0||a<=1?"clear":a===2?"partlyCloudy":a===3?"overcast":a>=45&&a<=48?"fog":a>=51&&a<=55||a>=56&&a<=57?"drizzle":a===61?"lightRain":a===63?"rain":a===65?"heavyRain":a>=66&&a<=67?"rain":a>=71&&a<=77?"snow":a>=80&&a<=82?"rain":a===85||a===86?"snow":a>=95&&a<=99?"storm":"cloudy"}const ip={ecmwf:"https://api.open-meteo.com/v1/ecmwf",gfs:"https://api.open-meteo.com/v1/gfs",icon:"https://api.open-meteo.com/v1/dwd-icon"},Qm={chennai:{lat:13.0827,lon:80.2707},trichy:{lat:10.7905,lon:78.7047},muscat:{lat:23.5859,lon:58.4059}};async function $1(a){const i=a.toLowerCase();if(Qm[i])return Qm[i];try{const r=JSON.parse(localStorage.getItem("weather_geo_cache")||"{}");if(r[i])return r[i]}catch{console.warn("Geocode cache read failed")}try{console.log(`[WeatherService] Geocoding ${a}...`);const o=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(a)}&count=1&language=en&format=json`)).json();if(o.results&&o.results.length>0){const u={lat:o.results[0].latitude,lon:o.results[0].longitude};try{const f=JSON.parse(localStorage.getItem("weather_geo_cache")||"{}");f[i]=u,localStorage.setItem("weather_geo_cache",JSON.stringify(f))}catch{}return u}}catch(r){console.error("Geocoding failed:",r)}throw new Error(`Location not found: ${a}`)}async function V1(a,i,r){const o=ip[a];if(!o)throw new Error(`Unknown model: ${a}`);const u=new URLSearchParams({latitude:i,longitude:r,current:"temperature_2m,weather_code,apparent_temperature,relative_humidity_2m,wind_speed_10m,wind_direction_10m",hourly:"temperature_2m,precipitation_probability,precipitation,weather_code,apparent_temperature,relative_humidity_2m,wind_speed_10m,wind_direction_10m,uv_index,cloud_cover,visibility,dew_point_2m",daily:"precipitation_probability_max,precipitation_sum,uv_index_max",timezone:"auto"}),f=`${o}?${u}`;console.log(`[WeatherService] Fetching ${a.toUpperCase()}...`);const h=await fetch(f);if(!h.ok)throw new Error(`${a.toUpperCase()} API request failed: ${h.status}`);const g=await h.json();return console.log(`[WeatherService]  ${a.toUpperCase()}: Success`),g}async function F1(a){const i=Date.now();let r,o;try{const g=await $1(a);r=g.lat,o=g.lon}catch{throw new Error(`Unknown location: ${a}`)}const f=Le().weather?.models||{ecmwf:!0,gfs:!0,icon:!0},h=Object.keys(ip).filter(g=>f[g]!==!1);h.length===0&&(console.warn("[WeatherService] No models enabled, using all models"),h.push("ecmwf","gfs","icon")),console.log(`[WeatherService] Fetching from models: ${h.join(", ")}`);try{const g=await Promise.allSettled(h.map(v=>V1(v,r,o))),p={};h.forEach((v,w)=>{p[v]=g[w].status==="fulfilled"?g[w].value:null,g[w].status==="rejected"&&console.warn(`[WeatherService]  ${v.toUpperCase()} failed:`,g[w].reason?.message)});const y=ap(p);if(y.length===0)throw new Error("All weather models failed to fetch data");const b=Date.now()-i;return console.log(`[WeatherService]  ${y.length}/${h.length} models succeeded: ${lp(y)}`),nn.success("weather",`${a}: ${y.length}/${h.length} models OK`,{durationMs:b}),K1(p,a)}catch(g){throw console.error(`[WeatherService]  Error fetching weather for ${a}:`,g),nn.error("weather",`${a}: ${g.message}`,{durationMs:Date.now()-i}),g}}function K1(a,i){const r=[a.ecmwf?.current,a.gfs?.current,a.icon?.current].filter(Boolean),o=(Y,M)=>q1(Y,M??new Date().getHours()),u=Y=>Y<=1?"":Y<=3?"":Y<=67?"":Y<=99?"":"",f={0:"Clear",1:"Mainly Clear",2:"Partly Cloudy",3:"Overcast",45:"Fog",48:"Fog",51:"Light Drizzle",61:"Light Rain",63:"Rain",65:"Heavy Rain",80:"Rain Showers",95:"Thunderstorm"},h=Y=>f[Y]||"Unknown",g=(Y,M)=>{const W=[];for(let me=Y;me<=M;me++)W.push(me);const S=[];a.ecmwf?.hourly&&S.push(a.ecmwf.hourly),a.gfs?.hourly&&S.push(a.gfs.hourly),a.icon?.hourly&&S.push(a.icon.hourly);const T={},O=[],V=[],ee=[],oe=[],de=[],we=[],je=[],at=[],Dt=[];W.forEach(me=>{a.ecmwf?.hourly?.precipitation_probability?.[me]!=null&&(T.ecmwf||(T.ecmwf=[]),T.ecmwf.push(a.ecmwf.hourly.precipitation_probability[me])),a.gfs?.hourly?.precipitation_probability?.[me]!=null&&(T.gfs||(T.gfs=[]),T.gfs.push(a.gfs.hourly.precipitation_probability[me])),a.icon?.hourly?.precipitation_probability?.[me]!=null&&(T.icon||(T.icon=[]),T.icon.push(a.icon.hourly.precipitation_probability[me]));const Ie=S.map(xe=>({modelName:xe._modelName,temperature_2m:xe.temperature_2m?.[me],apparent_temperature:xe.apparent_temperature?.[me],precipitation:xe.precipitation?.[me],precipitation_probability:xe.precipitation_probability?.[me],weather_code:xe.weather_code?.[me],relative_humidity_2m:xe.relative_humidity_2m?.[me],wind_speed_10m:xe.wind_speed_10m?.[me],uv_index:xe.uv_index?.[me],cloud_cover:xe.cloud_cover?.[me]})),Cn=Fm(Ie),dt=Km(Ie),et=I1(Ie),Nt=Xm(Ie);Cn!==null&&O.push(Cn),dt!==null&&V.push(dt),et!==null&&ee.push(et),Nt!==null&&de.push(Nt),Ie.forEach(xe=>{xe.precipitation_probability!=null&&oe.push({precipitation_probability:xe.precipitation_probability}),xe.relative_humidity_2m!=null&&we.push(xe.relative_humidity_2m),xe.wind_speed_10m!=null&&je.push(xe.wind_speed_10m),xe.uv_index!=null&&at.push(xe.uv_index),xe.cloud_cover!=null&&Dt.push(xe.cloud_cover)})});const ve=O.length>0?Math.round(O.reduce((me,Ie)=>me+Ie,0)/O.length):null,lt=V.length>0?Math.round(V.reduce((me,Ie)=>me+Ie,0)/V.length):ve,Vt=ee.reduce((me,Ie)=>me+Ie,0),Ml=H1(oe),En=[];Object.values(T).forEach(me=>{if(me.length>0){const Ie=Math.round(me.reduce((Cn,dt)=>Cn+dt,0)/me.length);En.push(Ie)}});let Ui=0,za=0,ra=0;En.length>0&&(za=Math.min(...En),ra=Math.max(...En),Ui=ra-za);let La=Vt.toFixed(1)+"mm";Vt<1&&(La="-");const Ua=de.length>0?de[Math.floor(de.length/2)]:0,jr=u(Ua),_r=Math.floor((Y+M)/2)%24,mt=o(Ua,_r),Nr=we.length>0?Math.round(we.reduce((me,Ie)=>me+Ie,0)/we.length):null,Bi=je.length>0?Math.round(je.reduce((me,Ie)=>me+Ie,0)/je.length):null,Hi=at.length>0?Math.max(...at):null,Ba=Dt.length>0?Math.round(Dt.reduce((me,Ie)=>me+Ie,0)/Dt.length):null,Er=W.map((me,Ie)=>{const Cn=a.ecmwf?"ecmwf":a.gfs?"gfs":"icon",dt=a[Cn]?.hourly;if(!dt)return null;const et=dt.temperature_2m?.[me],Nt=dt.precipitation?.[me],xe=dt.precipitation_probability?.[me],Ii=dt.weather_code?.[me],Rl=me%24,Cr=Rl>=12?"p":"a";return{time:`${Rl%12===0?12:Rl%12}${Cr}`,temp:et,precip:Nt,prob:xe,icon:u(Ii),iconId:o(Ii,me%24)}}).filter(Boolean);return{temp:ve,feelsLike:lt,icon:jr,iconId:mt,rainMm:La,rainProb:Ml||{avg:0,min:0,max:0,displayString:"~0%",isWideRange:!1},probSpread:Ui,minModelAvg:za,maxModelAvg:ra,humidity:Nr,windSpeed:Bi,uvIndex:Hi,cloudCover:Ba,hourly:Er}},p=Y=>{const M=Y*24;return{morning:g(6+M,11+M),noon:g(12+M,16+M),evening:g(17+M,22+M)}},y=p(0),b=p(1),v=Fm(r),w=Km(r),_=Xm(r),j=r.length>0&&r[0].relative_humidity_2m!=null?Math.round(r.reduce((Y,M)=>Y+(M.relative_humidity_2m||0),0)/r.length):null,A=r.length>0&&r[0].wind_speed_10m!=null?Math.round(r.reduce((Y,M)=>Y+(M.wind_speed_10m||0),0)/r.length):null,k=r.length>0&&r[0].wind_direction_10m!=null?Math.round(r.reduce((Y,M)=>Y+(M.wind_direction_10m||0),0)/r.length):null,I=[a.ecmwf?.daily?.precipitation_probability_max?.[0],a.gfs?.daily?.precipitation_probability_max?.[0],a.icon?.daily?.precipitation_probability_max?.[0]].filter(Y=>Y!=null),C=I.length>0?Math.round(I.reduce((Y,M)=>Y+M,0)/I.length):0,B=[a.ecmwf?.daily?.precipitation_sum?.[0],a.gfs?.daily?.precipitation_sum?.[0],a.icon?.daily?.precipitation_sum?.[0]].filter(Y=>Y!=null),Z=B.length>0?(B.reduce((Y,M)=>Y+M,0)/B.length).toFixed(1):0,$=[a.ecmwf?.daily?.uv_index_max?.[0],a.gfs?.daily?.uv_index_max?.[0],a.icon?.daily?.uv_index_max?.[0]].filter(Y=>Y!=null),te=$.length>0?Math.round($.reduce((Y,M)=>Y+M,0)/$.length):null,P=ap(a),J=new Date().getHours(),re=[];a.ecmwf?.hourly&&re.push(a.ecmwf.hourly),a.gfs?.hourly&&re.push(a.gfs.hourly),a.icon?.hourly&&re.push(a.icon.hourly);const se=[],ne=[],H=Y=>{const M=J+Y,W=(J+Y)%24,S=re.map(ve=>ve.temperature_2m?.[M]).filter(ve=>ve!=null),T=re.map(ve=>ve.precipitation?.[M]).filter(ve=>ve!=null),O=re.map(ve=>ve.precipitation_probability?.[M]).filter(ve=>ve!=null),V=re.map(ve=>ve.weather_code?.[M]).filter(ve=>ve!=null),ee=re.map(ve=>ve.cloud_cover?.[M]).filter(ve=>ve!=null),oe=S.length>0?Math.round(S.reduce((ve,lt)=>ve+lt,0)/S.length):null,de=T.length>0?parseFloat((T.reduce((ve,lt)=>ve+lt,0)/T.length).toFixed(1)):0,we=O.length>0?Math.round(O.reduce((ve,lt)=>ve+lt,0)/O.length):0,je=V.length>0?V[Math.floor(V.length/2)]:0,at=ee.length>0?Math.round(ee.reduce((ve,lt)=>ve+lt,0)/ee.length):0;return{hour:W,label:Y===0?"Now":(ve=>{const lt=ve>=12?"p":"a";return`${ve%12===0?12:ve%12}${lt}`})(W),temp:oe,precip:de,prob:we,cloud:at,icon:u(je),iconId:o(je,W),code:je}};for(let Y=0;Y<24;Y+=3)se.push(H(Y));for(let Y=0;Y<8;Y++)ne.push(H(Y));const ie=[a.ecmwf?.daily?.temperature_2m_max?.[0],a.gfs?.daily?.temperature_2m_max?.[0],a.icon?.daily?.temperature_2m_max?.[0]].filter(Y=>Y!=null),le=[a.ecmwf?.daily?.temperature_2m_min?.[0],a.gfs?.daily?.temperature_2m_min?.[0],a.icon?.daily?.temperature_2m_min?.[0]].filter(Y=>Y!=null);let ae=ie.length>0?Math.round(ie.reduce((Y,M)=>Y+M,0)/ie.length):null,z=le.length>0?Math.round(le.reduce((Y,M)=>Y+M,0)/le.length):null;ae===null&&se.length>0&&(ae=Math.max(...se.map(Y=>Y.temp||-999)),ae===-999&&(ae=null)),z===null&&se.length>0&&(z=Math.min(...se.map(Y=>Y.temp||999)),z===999&&(z=null));let X="";return parseFloat(Z)>0&&(X+=`Today's max rain probability: ${C}%. Total precip: ${Z}mm. `),X+=`Condition: ${h(_)}. UV Index: ${te||"N/A"}.`,{name:i.charAt(0).toUpperCase()+i.slice(1),icon:i==="muscat"?"":"",fetchedAt:Date.now(),models:{successful:P,count:P.length,names:lp(P)},current:{temp:v,feelsLike:w,high:ae,low:z,condition:h(_),icon:u(_),iconId:o(_,new Date().getHours()),humidity:j,windSpeed:A,windDirection:k},morning:y.morning,noon:y.noon,evening:y.evening,tomorrow:b,hourly24:se,next8Hours:ne,summary:X}}const sp=N.createContext();function X1({children:a}){const{settingsVersion:i}=pt(),r=N.useRef(i),[o,u]=N.useState(null),[f,h]=N.useState(!0),[g,p]=N.useState(null),[y,b]=N.useState(0),v=N.useCallback(async(w=!1)=>{const _=Le(),j=(_?.weatherFreshnessLimit||4)*60*60*1e3;if(!w&&o){const A=Date.now()-y;if(A<900*1e3)return;_?.strictFreshness&&A>j&&u(null)}if(h(!0),_?.sections?.weather===!1){h(!1);return}try{const A=_?.weather?.cities||["chennai","trichy","muscat"],k=await Promise.allSettled(A.map(C=>F1(C))),I={};A.forEach((C,B)=>{I[C]=k[B].status==="fulfilled"?k[B].value:null}),u(I),b(Date.now()),p(null)}catch(A){console.error("Weather Context Error:",A),p(A),u(null)}finally{h(!1)}},[o,y]);return N.useEffect(()=>{v()},[v]),N.useEffect(()=>{r.current!==i&&(r.current=i,v(!0))},[i,v]),s.jsx(sp.Provider,{value:{weatherData:o,loading:f,error:g,refreshWeather:v},children:a})}function br(){return N.useContext(sp)}const Zm=32,Pc={day_clear:s.jsxs("g",{children:[s.jsx("circle",{cx:"16",cy:"16",r:"6",fill:"#FFD93D"}),[0,45,90,135,180,225,270,315].map(a=>s.jsx("line",{x1:"16",y1:"4",x2:"16",y2:"7",stroke:"#FFD93D",strokeWidth:"2",strokeLinecap:"round",transform:`rotate(${a} 16 16)`},a))]}),night_clear:s.jsxs("g",{children:[s.jsx("path",{d:"M20 6 A10 10 0 1 0 26 20 A7 7 0 1 1 20 6Z",fill:"#B8C5E8"}),s.jsx("circle",{cx:"24",cy:"7",r:"1",fill:"#FFE"}),s.jsx("circle",{cx:"27",cy:"12",r:"0.7",fill:"#FFE"})]}),dawn_clear:s.jsxs("g",{children:[s.jsx("rect",{x:"0",y:"22",width:"32",height:"10",fill:"#FF9F43",opacity:"0.3",rx:"2"}),s.jsx("circle",{cx:"16",cy:"22",r:"6",fill:"#FFD93D"}),[0,30,60,90,120,150,180].map(a=>s.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"12",stroke:"#FFD93D",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 16 22)`},a))]}),dusk_clear:s.jsxs("g",{children:[s.jsx("rect",{x:"0",y:"22",width:"32",height:"10",fill:"#E74C3C",opacity:"0.25",rx:"2"}),s.jsx("circle",{cx:"16",cy:"22",r:"6",fill:"#FF6B6B"}),[0,30,60,90,120,150,180].map(a=>s.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"12",stroke:"#FF6B6B",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 16 22)`},a))]}),day_partlyCloudy:s.jsxs("g",{children:[s.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#FFD93D"}),[0,60,120,180,240,300].map(a=>s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"3",stroke:"#FFD93D",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 12 12)`},a)),s.jsx("ellipse",{cx:"20",cy:"22",rx:"9",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"17",cy:"19",rx:"5",ry:"4",fill:"#DFE6ED"})]}),night_partlyCloudy:s.jsxs("g",{children:[s.jsx("path",{d:"M10 6 A6 6 0 1 0 14 12 A4 4 0 1 1 10 6Z",fill:"#B8C5E8"}),s.jsx("ellipse",{cx:"20",cy:"22",rx:"9",ry:"5",fill:"#636E83"}),s.jsx("ellipse",{cx:"17",cy:"19",rx:"5",ry:"4",fill:"#778CA3"})]}),day_cloudy:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"20",rx:"11",ry:"6",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"15",rx:"6",ry:"5",fill:"#DFE6ED"}),s.jsx("ellipse",{cx:"20",cy:"16",rx:"5",ry:"4",fill:"#DFE6ED"})]}),day_overcast:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"20",rx:"12",ry:"6",fill:"#99A4B2"}),s.jsx("ellipse",{cx:"12",cy:"15",rx:"7",ry:"5",fill:"#A4B0BE"}),s.jsx("ellipse",{cx:"21",cy:"16",rx:"5",ry:"4",fill:"#A4B0BE"})]}),day_fog:s.jsxs("g",{children:[[14,18,22].map((a,i)=>s.jsx("line",{x1:"4",y1:a,x2:"28",y2:a,stroke:"#B0BEC5",strokeWidth:"2.5",strokeLinecap:"round",opacity:.5+i*.15},i)),s.jsx("circle",{cx:"16",cy:"9",r:"4",fill:"#FFD93D",opacity:"0.4"})]}),day_drizzle:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"14",rx:"10",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"11",rx:"5",ry:"4",fill:"#DFE6ED"}),[10,16,22].map((a,i)=>s.jsx("line",{x1:a,y1:"21",x2:a-1,y2:"25",stroke:"#74B9FF",strokeWidth:"1.5",strokeLinecap:"round"},i))]}),day_lightRain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"13",rx:"10",ry:"5",fill:"#B0BEC5"}),s.jsx("ellipse",{cx:"12",cy:"10",rx:"5",ry:"4",fill:"#C8D6E5"}),[9,14,19,24].map((a,i)=>s.jsx("line",{x1:a,y1:"20",x2:a-1.5,y2:"26",stroke:"#74B9FF",strokeWidth:"1.5",strokeLinecap:"round"},i))]}),day_rain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"12",rx:"11",ry:"5",fill:"#99A4B2"}),s.jsx("ellipse",{cx:"12",cy:"9",rx:"6",ry:"4",fill:"#A4B0BE"}),[8,13,18,23].map((a,i)=>s.jsx("line",{x1:a,y1:"19",x2:a-2,y2:"27",stroke:"#0984E3",strokeWidth:"2",strokeLinecap:"round"},i))]}),day_heavyRain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"11",rx:"12",ry:"5",fill:"#636E72"}),s.jsx("ellipse",{cx:"12",cy:"8",rx:"6",ry:"4",fill:"#778CA3"}),[7,12,17,22,27].map((a,i)=>s.jsx("line",{x1:a,y1:"18",x2:a-3,y2:"28",stroke:"#0984E3",strokeWidth:"2.5",strokeLinecap:"round"},i))]}),day_storm:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"10",rx:"12",ry:"5",fill:"#4A4A4A"}),s.jsx("ellipse",{cx:"12",cy:"7",rx:"6",ry:"4",fill:"#636E72"}),s.jsx("polygon",{points:"17,14 13,22 16,22 14,29 21,20 17,20 19,14",fill:"#FDCB6E"}),[8,24].map((a,i)=>s.jsx("line",{x1:a,y1:"17",x2:a-2,y2:"25",stroke:"#0984E3",strokeWidth:"2",strokeLinecap:"round"},i))]}),day_snow:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"13",rx:"10",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"10",rx:"5",ry:"4",fill:"#DFE6ED"}),[10,16,22].map((a,i)=>s.jsx("text",{x:a,y:25,textAnchor:"middle",fontSize:"6",fill:"#74B9FF",children:"*"},i))]}),day_wind:s.jsxs("g",{children:[s.jsx("path",{d:"M4 14 Q12 10, 20 14 Q26 16, 28 12",fill:"none",stroke:"#78909C",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M6 20 Q14 16, 22 20 Q27 22, 29 18",fill:"none",stroke:"#90A4AE",strokeWidth:"1.8",strokeLinecap:"round"}),s.jsx("path",{d:"M8 26 Q15 22, 24 26",fill:"none",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round"})]})},Q1={night_cloudy:"day_overcast",night_overcast:"day_overcast",night_fog:"day_fog",night_drizzle:"day_drizzle",night_lightRain:"day_lightRain",night_rain:"day_rain",night_heavyRain:"day_heavyRain",night_storm:"day_storm",night_snow:"day_snow",night_wind:"day_wind",dawn_partlyCloudy:"day_partlyCloudy",dawn_cloudy:"day_cloudy",dawn_rain:"day_rain",dusk_partlyCloudy:"day_partlyCloudy",dusk_cloudy:"day_cloudy",dusk_rain:"day_rain"};function ur({id:a,size:i=32,className:r=""}){const o=Pc[a]||Pc[Q1[a]]||Pc.day_cloudy;return s.jsx("svg",{viewBox:`0 0 ${Zm} ${Zm}`,width:i,height:i,className:r,"aria-label":a?.replace(/_/g," "),children:o})}const Sr=24,rp=({size:a=Sr,className:i=""})=>s.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"currentColor",className:i,style:{color:"#60a5fa",verticalAlign:"middle"},children:[s.jsx("path",{d:"M12,2 C12,2 7,7 7,10 C7,12.76 9.24,15 12,15 C14.76,15 17,12.76 17,10 C17,7 12,2 12,2 Z",opacity:"0.9"}),s.jsx("path",{d:"M6,12 C6,12 4,14 4,15.5 C4,16.6 4.9,17.5 6,17.5 C7.1,17.5 8,16.6 8,15.5 C8,14 6,12 6,12 Z",opacity:"0.7"}),s.jsx("path",{d:"M18,12 C18,12 16,14 16,15.5 C16,16.6 16.9,17.5 18,17.5 C19.1,17.5 20,16.6 20,15.5 C20,14 18,12 18,12 Z",opacity:"0.7"})]}),op=({size:a=Sr,className:i=""})=>s.jsx("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,style:{color:"#cbd5e1",verticalAlign:"middle"},children:s.jsx("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})}),Z1=({size:a=Sr,className:i="",color:r="currentColor"})=>s.jsxs("svg",{viewBox:"0 0 24 24",width:a,height:a,fill:r,className:i,children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12h20c0-5.52-4.48-10-10-10z",opacity:"1"}),s.jsx("path",{d:"M11 12h2v7c0 1.1.9 2 2 2s2-.9 2-2h-2c0 .55-.45 1-1 1s-1-.45-1-1v-7z",opacity:"0.8"})]}),Wm=({size:a=Sr,className:i="",color:r="currentColor"})=>s.jsx("svg",{viewBox:"0 0 24 24",width:a,height:a,fill:r,className:i,children:s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"})}),Jm=()=>{const{weatherData:a,loading:i,error:r}=br(),[o,u]=N.useState(()=>{try{return localStorage.getItem("weather_active_city")||"chennai"}catch{return"chennai"}});if(N.useEffect(()=>{try{localStorage.setItem("weather_active_city",o)}catch{}},[o]),i)return s.jsx("div",{className:"quick-weather-card qw-bg-day",children:s.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Loading weather..."})});if(r||!a)return s.jsx("div",{className:"quick-weather-card qw-bg-night",children:s.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Weather unavailable"})});const{settings:f}=pt(),h=(f.weather?.cities||["chennai","trichy","muscat"]).map(j=>j.toLowerCase()),g={chennai:"Chennai",trichy:"Trichy",muscat:"Muscat",[h[2]]:h[2].charAt(0).toUpperCase()+h[2].slice(1)},p={chennai:"",trichy:"",muscat:"",[h[2]]:""},y=new Date().getHours();let b="qw-bg-day";y>=6&&y<11?b="qw-bg-morning":y>=11&&y<17?b="qw-bg-day":y>=17&&y<20?b="qw-bg-evening":b="qw-bg-night";const v=a[o],w=J1(v),_=P1(v);return s.jsxs("section",{className:`quick-weather-card ${b}`,children:[s.jsx("div",{className:"qw-cities-grid",children:h.map(j=>{const A=a[j];if(!A?.current)return null;const k=A.current,I=j===o;return s.jsxs("div",{className:`qw-city-card ${I?"qw-city-card--active":""}`,onClick:()=>u(j),children:[s.jsxs("div",{className:"qw-city-header",children:[s.jsx("span",{className:"qw-city-icon",children:p[j]}),s.jsx("span",{className:"qw-city-name",children:g[j]})]}),s.jsxs("div",{className:"qw-city-temp-row",children:[s.jsxs("span",{className:"qw-city-temp",style:{fontSize:"0.9rem"},children:[k.temp,""]}),s.jsx("span",{className:"qw-city-weather-icon",children:k.iconId?s.jsx(ur,{id:k.iconId,size:48}):s.jsx("span",{style:{fontSize:"2.5rem"},children:k.icon})})]}),s.jsx("div",{className:"qw-city-condition",children:k.condition}),s.jsxs("div",{className:"qw-city-meta",children:[s.jsxs("span",{children:[s.jsx(rp,{size:"0.85em"})," ",k.humidity??"--","%"]}),s.jsxs("span",{children:[s.jsx(op,{size:"0.85em"})," ",k.windSpeed??"--"]})]})]},j)})}),v?.hourly24&&s.jsxs("div",{className:"qw-timeline-section",children:[s.jsx("div",{className:"qw-timeline-label",style:{fontWeight:600,fontSize:"0.85rem"},children:W1(v,g[o])}),s.jsx("div",{className:"qw-timeline-strip",children:v.hourly24.map((j,A)=>s.jsxs("div",{className:"qw-timeline-slot",children:[s.jsx("div",{className:"qw-slot-time",children:j.label}),s.jsx("div",{className:"qw-slot-icon",children:j.iconId?s.jsx(ur,{id:j.iconId,size:40}):j.icon}),s.jsxs("div",{className:"qw-slot-temp",style:{fontSize:"0.9rem"},children:[j.temp,""]}),j.precip>.5&&s.jsxs("div",{className:"qw-slot-rain",children:[j.precip,"mm"]})]},A))})]}),w&&s.jsxs("div",{className:"qw-headsup",children:[s.jsx("span",{className:"qw-headsup-icon",children:w.icon}),s.jsx("span",{children:w.message})]}),_&&s.jsxs("div",{className:"qw-severe",style:{background:"rgba(220,38,38,0.15)",border:"1px solid rgba(220,38,38,0.4)",borderRadius:"8px",padding:"8px 12px",margin:"8px 0 0",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.78rem",color:"#fca5a5"},children:[s.jsx("span",{style:{fontSize:"1.1rem"},children:""}),s.jsx("span",{children:_})]})]})};function W1(a,i){if(!a?.hourly24)return`${i}  Forecast`;const o=a.hourly24.filter(f=>f.precip>.5||f.prob>40),u=a.current;return o.length>=3?`${i}  Rainy spells ahead`:o.length>0?`${i}  Scattered showers`:u?.condition?`${i}  ${u.condition}`:`${i}  Clear Skies`}function J1(a){if(!a?.hourly24)return null;const r=a.hourly24.filter(w=>w.precip>.5||w.prob>40);if(r.length===0)return null;const o=r.reduce((w,_)=>w+(_.precip||0),0),u=Math.max(...r.map(w=>w.prob||0)),f=w=>{const _=w>=12?"p":"a";return`${w%12===0?12:w%12}${_}`},h=f(r[0].hour),g=r.length>1?f(r[r.length-1].hour):null;let p="Rain",y="";o>=10||u>=80?(p="Heavy rain",y=""):o<2&&u<50&&(p="Light showers possible",y="");const b=g?`${h}${g}`:`around ${h}`,v=o>.5?` (~${o.toFixed(1)}mm)`:"";return{icon:y,message:`${p} expected ${b}${v}`}}function P1(a){if(!a?.hourly24)return null;const i=a.hourly24,r=i.filter(h=>h.precip>=10),o=i.filter(h=>h.prob>=80),u=i.map(h=>h.temp).filter(h=>h!=null),f=u.length>0?Math.max(...u):null;return r.length>0?`Heavy rainfall warning: ${r.reduce((g,p)=>g+p.precip,0).toFixed(1)}mm expected`:o.length>=2?"Thunderstorm activity likely in the next 24 hours":f!=null&&f>=42?`Extreme heat warning: Temperatures may reach ${f}C`:null}const Pm={MORNING_WEATHER:{id:"morning_weather",name:"Morning Weather",icon:"",startHour:6,startMinute:55,endHour:7,endMinute:0,sections:["weather"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}},MORNING_NEWS:{id:"morning_news",name:"Morning News",icon:"",startHour:7,startMinute:0,endHour:9,endMinute:0,sections:["weather","world","india","chennai","trichy","local","dtNext"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}},MARKET_BRIEF:{id:"market_brief",name:"Market Brief",icon:"",startHour:9,startMinute:0,endHour:11,endMinute:55,sections:["market","india","world"],recommended:{world:!0,india:!0,chennai:!1,trichy:!1,local:!1,social:!1,weather:!1,market:!0}},MIDDAY_BRIEF:{id:"midday_brief",name:"Midday Brief",icon:"",startHour:11,startMinute:55,endHour:14,endMinute:30,sections:["india","world","chennai","trichy"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!1,social:!1,weather:!0,market:!0}},MARKET_MOVERS:{id:"market_movers",name:"Market Movers",icon:"",startHour:14,startMinute:30,endHour:16,endMinute:20,sections:["market","india","world"],recommended:{world:!0,india:!0,chennai:!1,trichy:!1,local:!1,social:!1,weather:!1,market:!0}},EVENING_NEWS:{id:"evening_news",name:"Evening News",icon:"",startHour:16,startMinute:20,endHour:16,endMinute:45,sections:["world","india","chennai","trichy","local","social"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!0}},LOCAL_EVENTS:{id:"local_events",name:"Local Events",icon:"",startHour:16,startMinute:45,endHour:19,endMinute:30,sections:["chennai","trichy","local","social"],recommended:{world:!1,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!1}},NIGHT_WRAP_UP:{id:"night_wrap_up",name:"Night Wrap-Up",icon:"",startHour:19,startMinute:30,endHour:20,endMinute:0,sections:["world","india","chennai","trichy","local","social","market"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!0}},URGENT_ONLY:{id:"urgent_only",name:"Urgent Alerts Only",icon:"",startHour:20,startMinute:0,endHour:6,endMinute:55,sections:["urgent"],recommended:{world:!1,india:!1,chennai:!1,trichy:!1,local:!1,social:!1,weather:!0,market:!1}}};function lr(a=new Date){const i=a.getHours(),r=a.getMinutes(),o=i*60+r,u=Object.values(Pm);for(const f of u){const h=f.startHour*60+f.startMinute;let g=f.endHour*60+f.endMinute;if(f.id==="urgent_only"){if(o>=h||o<g)return f}else if(o>=h&&o<g)return f}return Pm.URGENT_ONLY}function eg(a){return a?.recommended||{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}}function eb(a){if(!a)return"Welcome to Daily Event AI";switch(a.id){case"morning_weather":return"Good Morning! Here's your weather start.";case"morning_news":return"Your Morning Headlines are ready.";case"market_brief":return"Market Open: Sensex & Nifty Updates.";case"midday_brief":return"Midday Update: Top stories so far.";case"market_movers":return"Market Movers: Gainers & Losers.";case"evening_news":return"Evening Wrap: Catch up on the day.";case"local_events":return"How your evening looks around town.";case"night_wrap_up":return"The Day in Review.";case"urgent_only":return"Urgent Updates Only.";default:return"Daily Event AI: Live Updates."}}function tb({breakingNews:a}){const i=lr(),r=new Date;return s.jsxs("div",{className:"newspaper-masthead",children:[s.jsxs("div",{className:"masthead__header",children:[s.jsxs("div",{className:"masthead__title",children:[s.jsx("h1",{className:"masthead__logo",children:"Daily News AI"}),s.jsx("div",{className:"masthead__tagline",children:"Your Intelligent News Digest"})]}),s.jsxs("div",{className:"masthead__meta",children:[s.jsx("div",{className:"masthead__date",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("div",{className:"masthead__segment",children:i.name})]})]}),a?.length>0&&s.jsxs("div",{className:"masthead__breaking",children:[s.jsx("span",{className:"breaking-badge",children:"BREAKING"}),s.jsx("span",{className:"breaking-text",children:a[0].title})]})]})}function ir({article:a,size:i="medium",onClick:r,href:o,badge:u}){const{settings:f}=pt(),[h,g]=N.useState(!1),[p,y]=N.useState(!1),[b,v]=N.useState(!1);`${encodeURIComponent(a.source)}`;const w=a.imageUrl&&!h,_=o?"a":"article",j=o?{href:o,target:"_blank",rel:"noopener noreferrer"}:{};return s.jsxs(_,{className:`image-card image-card--${i}`,onClick:r,...j,style:{position:"relative"},children:[f?.debugLogs&&a._scoreBreakdown&&s.jsxs("div",{className:"debug-badge",onClick:A=>{A.preventDefault(),A.stopPropagation(),v(!b)},style:{position:"absolute",top:"5px",right:"5px",zIndex:20,background:"rgba(0,0,0,0.7)",color:"#00ff41",fontSize:"0.6rem",padding:"2px 4px",borderRadius:"4px",cursor:"help",border:"1px solid #00ff41"},children:[a._scoreBreakdown.total.toFixed(1),b&&s.jsx("div",{style:{position:"absolute",top:"100%",right:0,width:"200px",background:"#111",border:"1px solid #333",padding:"8px",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",pointerEvents:"none"},children:Object.entries(a._scoreBreakdown).map(([A,k])=>A!=="total"&&typeof k=="number"&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[s.jsx("span",{style:{color:"#aaa",textTransform:"capitalize"},children:A}),s.jsx("span",{style:{color:"#fff"},children:k.toFixed(2)})]},A))})]}),w&&s.jsxs("div",{className:"image-card__media",children:[!p&&s.jsx("div",{className:"image-card__skeleton"}),s.jsx("img",{src:a.imageUrl,alt:a.title,className:`image-card__image ${p?"loaded":""}`,onLoad:()=>y(!0),onError:()=>g(!0),loading:"lazy"}),u&&s.jsx("div",{className:"image-card__badge",children:u}),s.jsx("div",{className:"image-card__overlay",children:s.jsx("span",{className:"image-card__source",children:a.source})})]}),s.jsxs("div",{className:"image-card__content",children:[s.jsx("h3",{className:"image-card__headline",children:a.title}),a.summary&&s.jsxs("p",{className:"image-card__summary",children:[a.summary.substring(0,150),"..."]}),s.jsxs("div",{className:"image-card__meta",children:[s.jsx("span",{className:"meta__time",children:a.time}),a.sentiment&&s.jsx("span",{className:`meta__sentiment meta__sentiment--${a.sentiment.label}`,children:a.sentiment.label==="positive"?"":a.sentiment.label==="negative"?"":""})]})]})]})}function nb({newsData:a,breakingNews:i,settings:r}){const{settings:o}=pt(),u=Object.entries(a).filter(([v,w])=>v!=="frontPage"&&o?.sections?.[v]?.enabled!==!1).map(([v,w])=>{const _=o?.sections?.[v]?.count;return typeof _=="number"?w.slice(0,_):w}).flat();let f=u;if(a.frontPage&&Array.isArray(a.frontPage)){const v=new Set(a.frontPage.map(_=>_.title)),w=u.filter(_=>!v.has(_.title));f=[...a.frontPage,...w]}const h=f.filter(v=>v.imageUrl),g=f.filter(v=>!v.imageUrl),p=h.slice(0,r?.headlinesCount||3),y=h.slice(3,3+(r?.leadsCount||6)),b=g.slice(0,r?.briefsCount||12);return s.jsxs("div",{className:"newspaper-layout",children:[s.jsx(tb,{breakingNews:i}),p.length>0&&s.jsxs("section",{className:"headlines-zone",children:[s.jsx("h2",{className:"zone-title",children:" Top Stories"}),s.jsxs("div",{className:"headlines-grid",children:[p[0]&&s.jsx("div",{className:"headline-lead",children:s.jsx(ir,{article:p[0],size:"large",onClick:()=>window.open(p[0].link,"_blank")})}),p.length>1&&s.jsx("div",{className:"headline-supporting",children:p.slice(1).map(v=>s.jsx(ir,{article:v,size:"medium",onClick:()=>window.open(v.link,"_blank")},v.id))})]})]}),y.length>0&&s.jsxs("section",{className:"leads-zone",children:[s.jsx("h2",{className:"zone-title",children:" More From Today"}),s.jsx("div",{className:"leads-scroll",children:y.map(v=>s.jsx(ir,{article:v,size:"medium",onClick:()=>window.open(v.link,"_blank")},v.id))})]}),b.length>0&&s.jsxs("section",{className:"briefs-zone",children:[s.jsx("h2",{className:"zone-title",children:" News Briefs"}),s.jsx("div",{className:"briefs-list",children:b.map(v=>s.jsxs("article",{className:"brief-item",onClick:()=>window.open(v.link,"_blank"),children:[s.jsx("h4",{className:"brief-title",children:v.title}),s.jsxs("div",{className:"brief-meta",children:[s.jsx("span",{className:"brief-source",children:v.source}),s.jsx("span",{className:"brief-time",children:v.time})]})]},v.id))})]})]})}const ab="https://en.wikipedia.org/api/rest_v1/feed/onthisday/selected",lb={fetchDailyFacts:async()=>{const a=new Date,i=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),o=`${ab}/${i}/${r}`;try{console.log(`[QuickFacts] Fetching from ${o}`);const u=await fetch(o);if(!u.ok)throw new Error("Wiki API Failed");const f=await u.json();return!f.selected||f.selected.length===0?[]:f.selected.sort(()=>.5-Math.random()).slice(0,5).map(p=>({text:p.text,year:p.year,pages:p.pages}))}catch(u){return console.warn("[QuickFacts] Fetch failed:",u),[{year:"1969",text:"The internet (ARPANET) sent its first message."},{year:"1990",text:"The first web page was published by Tim Berners-Lee."},{year:"2004",text:"Facebook was launched by Mark Zuckerberg."}]}}},tg=["Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still edible.","Octopuses have three hearts. Two pump blood to the gills, while one pumps it to the rest of the body.","Bananas are berries, but strawberries aren't.","The Eiffel Tower can be 15 cm taller during the summer due to thermal expansion.","A group of flamingos is called a 'flamboyance'.","Wombat poop is cube-shaped.","The shortest war in history lasted 38 minutes between Britain and Zanzibar in 1896.","Cleopatra lived closer in time to the Moon landing than to the construction of the Great Pyramid of Giza.","Sloths can hold their breath longer than dolphins (up to 40 minutes).","A cloud can weigh more than a million pounds.","The first computer bug was an actual moth trapped in a relay of the Harvard Mark II computer in 1947."];async function ib(){try{const a=await lb.fetchDailyFacts();if(a&&a.length>0){const i=a[Math.floor(Math.random()*a.length)];return{text:`On this day in ${i.year}: ${i.text}`,year:i.year,isDynamic:!0}}return null}catch(a){return console.warn("OnThisDay fetch failed:",a),null}}function sb(a){const i=[],r=new Set(["the","and","for","with","that","this","from","dead","kills","says","india","world","chennai","tamil","nadu"]),o=[...a.world||[],...a.india||[],...a.tech||[]];if(o.length===0)return null;o.forEach(g=>{if(!g.title)return;g.title.replace(/[^\w\s]/gi,"").toLowerCase().split(/\s+/).forEach(y=>{y.length>3&&!r.has(y)&&i.push(y)})});const u={};i.forEach(g=>u[g]=(u[g]||0)+1);const h=Object.entries(u).sort((g,p)=>p[1]-g[1]).slice(0,3).map(g=>g[0]);return h.length===0?null:{type:"TRENDING",icon:"",text:`Trending now: #${h.join(", #")}`}}function rb(a){if(!a||Object.keys(a).length===0)return null;const i=Object.keys(a)[0],r=a[i];if(!r||!r.current)return null;const o=r.current.temp,u=r.current.condition.toLowerCase();let f="";return o>35?f=`It's a scorcher today at ${o}C. Stay hydrated!`:o<20?f=`Cooler vibes today at ${o}C.`:u.includes("rain")?f="Rainy skies today. Don't forget your umbrella.":f=`Currently ${o}C and ${u}. A pleasant day ahead?`,{type:"WEATHER INSIGHT",icon:"",text:f}}function ob(a,i,r=null){const o=[];if(r&&r.isDynamic){const h={type:"ON THIS DAY",icon:"",text:r.text};o.push(h),o.push(h),o.push(h)}else o.push({type:"DID YOU KNOW?",icon:"",text:tg[Math.floor(Math.random()*tg.length)]});const u=sb(a);u&&o.push(u);const f=rb(i);return f&&o.push(f),o[Math.floor(Math.random()*o.length)]}const Ea=[{start:"06:55",id:"morning_weather",label:"Morning Weather",name:"Morning Weather",icon:"",focus:"weather"},{start:"07:00",id:"morning_news",label:"Morning News",name:"Morning News",icon:"",focus:"news_top"},{start:"09:00",id:"market_brief",label:"Market Brief",name:"Market Brief",icon:"",focus:"market"},{start:"11:55",id:"midday_brief",label:"Midday Brief",name:"Midday Brief",icon:"",focus:"news_all"},{start:"14:30",id:"market_movers",label:"Market Movers",name:"Market Movers",icon:"",focus:"market"},{start:"16:20",id:"evening_news",label:"Evening News",name:"Evening News",icon:"",focus:"news_all"},{start:"16:45",id:"local_events",label:"Local Events",name:"Local Events",icon:"",focus:"local"},{start:"19:30",id:"night_wrap",label:"Night Wrap-Up",name:"Night Wrap-Up",icon:"",focus:"summary"},{start:"20:00",id:"urgent_only",label:"Urgent Alerts Only",name:"Urgent Alerts Only",icon:"",focus:"breaking"}];function ng(){const a=new Date,i=a.getHours()*60+a.getMinutes();let r=Ea[Ea.length-1];for(let o=0;o<Ea.length;o++){const u=Ea[o],[f,h]=u.start.split(":").map(Number),g=f*60+h;if(i>=g)r=u;else break}return r}function cb(){const a=new Date,i=a.getHours()*60+a.getMinutes();let r=null;for(const u of Ea){const[f,h]=u.start.split(":").map(Number);if(f*60+h>i){r=u;break}}let o=new Date(a);if(r){const[u,f]=r.start.split(":").map(Number);o.setHours(u,f,0,0)}else{const[u,f]=Ea[0].start.split(":").map(Number);o.setDate(o.getDate()+1),o.setHours(u,f,0,0)}return Math.max(0,o.getTime()-a.getTime())}function cp(a,i={}){Notification.permission==="granted"&&(navigator.serviceWorker&&navigator.serviceWorker.ready?navigator.serviceWorker.ready.then(r=>{r.showNotification(a,{icon:"./vite.svg",badge:"./vite.svg",vibrate:[200,100,200],requireInteraction:!0,...i})}):new Notification(a,{icon:"./vite.svg",...i}))}const up=N.createContext();function ub({children:a}){const[i,r]=N.useState(()=>ng());return N.useEffect(()=>{let o;const u=()=>{const f=cb()+2e3;console.log(`[Segment] Next switch in ${(f/6e4).toFixed(1)} min`),o=setTimeout(()=>{const h=ng();console.log(`[Segment] Switching to ${h.label}`),r(h),cp(`${h.icon} ${h.label}`,{body:"New content available. Tap to refresh.",tag:"segment-update",renotify:!0}),u()},f)};return u(),()=>clearTimeout(o)},[]),s.jsx(up.Provider,{value:{currentSegment:i,SEGMENTS:Ea},children:a})}function db(){return N.useContext(up)}function wr(){const[a,i]=N.useState(!1),[r,o]=N.useState(!1),[u,f]=N.useState(!1),[h,g]=N.useState(typeof window<"u"?window.innerWidth:0);return N.useEffect(()=>{const p=()=>{const y=window.innerWidth;g(y);const b=y>=1024,v=y>=768&&y<1024;i(b),o(v),f(b),console.log(`[Layout] Width: ${y}px, Mode: ${b?"desktop":v?"tablet":"mobile"}`)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),{isDesktop:a,isTablet:r,isWebView:u,screenWidth:h}}const fb=({threshold:a=0,root:i=null,rootMargin:r="0px",freezeOnceVisible:o=!0}={})=>{const[u,f]=N.useState(null),h=u?.isIntersecting&&o,g=N.useRef(null),p=([y])=>{f(y)};return N.useEffect(()=>{const y=g.current;if(!!!window.IntersectionObserver||h||!y)return;const v={threshold:a,root:i,rootMargin:r},w=new IntersectionObserver(p,v);return w.observe(y),()=>w.disconnect()},[g,a,i,r,h]),[g,u]},hb=({children:a,onVisible:i,isLoaded:r,placeholderHeight:o="200px"})=>{const[u,f]=fb({threshold:.1,rootMargin:"200px",freezeOnceVisible:!0});return N.useEffect(()=>{f?.isIntersecting&&i&&i()},[f,i]),r?s.jsx("div",{children:a}):s.jsx("div",{ref:u,style:{minHeight:o,display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},children:f?.isIntersecting?s.jsxs("div",{className:"loading-state",style:{opacity:.6},children:[s.jsx("div",{className:"loading-spinner",style:{border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid var(--accent-primary)",width:"24px",height:"24px",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Loading section..."}),s.jsx("style",{children:`
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    `})]}):null})};var dp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ag=tn.createContext&&tn.createContext(dp),mb=["attr","size","title"];function gb(a,i){if(a==null)return{};var r=pb(a,i),o,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(u=0;u<f.length;u++)o=f[u],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(r[o]=a[o])}return r}function pb(a,i){if(a==null)return{};var r={};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)){if(i.indexOf(o)>=0)continue;r[o]=a[o]}return r}function dr(){return dr=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},dr.apply(this,arguments)}function lg(a,i){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);i&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),r.push.apply(r,o)}return r}function fr(a){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?lg(Object(r),!0).forEach(function(o){yb(a,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(r,o))})}return a}function yb(a,i,r){return i=vb(i),i in a?Object.defineProperty(a,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[i]=r,a}function vb(a){var i=xb(a,"string");return typeof i=="symbol"?i:i+""}function xb(a,i){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var o=r.call(a,i);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function fp(a){return a&&a.map((i,r)=>tn.createElement(i.tag,fr({key:r},i.attr),fp(i.child)))}function Da(a){return i=>tn.createElement(bb,dr({attr:fr({},a.attr)},i),fp(a.child))}function bb(a){var i=r=>{var{attr:o,size:u,title:f}=a,h=gb(a,mb),g=u||r.size||"1em",p;return r.className&&(p=r.className),a.className&&(p=(p?p+" ":"")+a.className),tn.createElement("svg",dr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,h,{className:p,style:fr(fr({color:a.color||r.color},r.style),a.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),f&&tn.createElement("title",null,f),a.children)};return ag!==void 0?tn.createElement(ag.Consumer,null,r=>i(r)):i(dp)}function Sb(a){return Da({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(a)}function wb(a){return Da({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(a)}function jb(a){return Da({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function _b(a){return Da({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(a)}function Nb(a){return Da({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(a)}function Eb(a){return Da({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(a)}function Cb(a){return Da({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(a)}const Tb=({news:a=[],title:i="Global Headlines"})=>{if(!a||a.length===0)return null;const r=a.slice(0,10);return s.jsxs("div",{className:"card",style:{padding:"var(--spacing-md)",background:"var(--bg-card)",border:"1px solid var(--border-default)"},children:[s.jsx("h3",{style:{fontFamily:"'Playfair Display', serif",fontSize:"1.2rem",marginBottom:"var(--spacing-md)",paddingBottom:"var(--spacing-sm)",borderBottom:"2px solid var(--accent-primary)",color:"var(--text-primary)"},children:i}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:r.map((o,u)=>s.jsx("article",{style:{paddingBottom:"var(--spacing-sm)",borderBottom:"1px solid var(--border-default)"},children:s.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",display:"block"},children:[s.jsx("h4",{style:{fontSize:"0.95rem",fontWeight:"600",lineHeight:"1.4",marginBottom:"4px",color:"var(--text-primary)"},children:o.headline||o.title}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-muted)"},children:[s.jsx("span",{children:o.source}),s.jsx("span",{children:o.time||new Date(o.publishedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},u))}),s.jsx("div",{style:{marginTop:"var(--spacing-md)",textAlign:"center",fontSize:"0.8rem",color:"var(--accent-secondary)"},children:"Top Stories"})]})},Ab=()=>{const{settings:a}=pt(),{currentSegment:i}=db(),[r,o]=N.useState(Notification.permission),[u,f]=N.useState(null),[h,g]=N.useState(null),{isWebView:p,isDesktop:y}=wr(),{weatherData:b,loading:v,refreshWeather:w}=br(),{newsData:_,loading:j,errors:A,breakingNews:k,refreshNews:I,loadSection:C,loadedSections:B}=xr(),{sections:Z,uiMode:$="timeline"}=a,[te,P]=N.useState([]);N.useEffect(()=>{if(!_.frontPage){P([]);return}if(a.customSortTopStories){let Y=_.frontPage.filter(W=>!(ox(W.id)||Fg(W.id)>3));Y.sort((W,S)=>(S.impactScore||0)-(W.impactScore||0));const M=10;if(Y.length<M){const W=new Set(Y.map(O=>O.id)),S=_.frontPage.filter(O=>!W.has(O.id));S.sort((O,V)=>(V.impactScore||0)-(O.impactScore||0));const T=M-Y.length;Y=[...Y,...S.slice(0,T)]}P(Y)}else P(_.frontPage)},[_.frontPage,a.customSortTopStories]),N.useEffect(()=>{w(),I()},[i.id,I,w]),N.useEffect(()=>{ib().then(Y=>{Y&&g(Y)})},[]),N.useEffect(()=>{const Y=_&&Object.keys(_).length>0,M=b&&Object.keys(b).length>0;(Y||M||h)&&f(ob(_,b,h))},[j,v,_,b,h]);const[J,re]=N.useState(!1);N.useEffect(()=>{const Y=()=>{window.scrollY>400?re(!0):re(!1)};return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]);const se=()=>{window.scrollTo({top:0,behavior:"smooth"})};N.useEffect(()=>{let Y=0,M=!1;const W=O=>{window.scrollY===0&&(Y=O.touches[0].clientY,M=!0)},S=O=>{M&&O.touches[0].clientY},T=O=>{if(!M)return;O.changedTouches[0].clientY-Y>150&&window.scrollY===0&&(I(),w()),M=!1};return y||(document.addEventListener("touchstart",W),document.addEventListener("touchmove",S),document.addEventListener("touchend",T)),()=>{document.removeEventListener("touchstart",W),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",T)}},[I,w,y]);const ne=v&&!b||j&&Object.keys(_).length===0,H=ne?1:3,ie=$==="timeline",le=$==="newspaper",ae=i.id==="urgent_only",z=[{id:"world-news",icon:"",label:"World"},Z.india?.enabled&&{id:"india-news",icon:"",label:"India"},Z.chennai?.enabled&&{id:"chennai-news",icon:"",label:"Tamil Nadu"},Z.local?.enabled&&{id:"local-news",icon:"",label:"Muscat"}].filter(Boolean),X=s.jsxs("div",{className:"header__actions",children:[s.jsx(Ta,{to:"/refresh",className:"header__action-btn",children:""}),s.jsx(Ta,{to:"/settings",className:"header__action-btn",children:""})]});return s.jsxs("div",{className:`page-container mode-${$} ${p?"page-container--desktop":""}`,children:[ie?s.jsx(B1,{title:i.id==="market_brief"?"":i.label,icon:i.icon,actions:X,loadingPhase:H}):s.jsx(Aa,{title:i.label,icon:i.icon,actions:X,loadingPhase:H}),s.jsxs("main",{className:`main-content ${p?"main-content--desktop":""}`,children:[p&&s.jsxs("div",{className:"desktop-sidebar",children:[s.jsx(Jm,{}),s.jsx(Tb,{news:_.world&&_.world.length>0?_.world:_.chennai&&_.chennai.length>0?_.chennai:_.frontPage,title:"Global Headlines"})]}),s.jsxs("div",{className:"content-wrapper",children:[ne&&s.jsxs("div",{className:"loading",style:{padding:"40px"},children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Updates..."})]}),!ie&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"topline",children:[s.jsxs("div",{className:"topline__label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:u?.icon||""}),s.jsx("span",{children:u?.type||"TOPLINE"})]}),s.jsx("div",{className:"topline__text",children:u?.text||eb(i)})]}),s.jsx(U1,{items:k})]}),!p&&s.jsx(Jm,{}),le?s.jsx(nb,{newsData:_,breakingNews:k,settings:a.newspaper}):s.jsxs("div",{className:"news-sections news-sections--grid",children:[(!ae||k.length===0)&&s.jsxs(s.Fragment,{children:[te.length>0?s.jsx(en,{id:"top-stories",title:"Top Stories",icon:"",colorClass:"news-section__title--world",news:te,maxDisplay:10}):a.customSortTopStories&&_.frontPage?.length>0&&s.jsxs("div",{className:"empty-state",style:{padding:"20px",marginBottom:"20px",background:"var(--bg-card)",borderRadius:"12px"},children:[s.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),s.jsx("p",{style:{color:"var(--text-muted)"},children:"You're all caught up with top stories!"}),s.jsx("button",{onClick:()=>I(),className:"btn btn--secondary",style:{marginTop:"10px",fontSize:"0.8rem",padding:"6px 12px"},children:"Check for new updates"})]}),s.jsx(en,{id:"world-news",title:"Global Updates",icon:"",colorClass:"news-section__title--world",news:_.world,maxDisplay:Z.world?.count||5}),Z.india?.enabled&&s.jsx(en,{id:"india-news",title:ie?"India":"India News",icon:"",colorClass:"news-section__title--india",news:_.india,maxDisplay:Z.india.count||5,error:A.india}),Z.chennai?.enabled&&s.jsx(en,{id:"chennai-news",title:"Tamil Nadu",icon:"",colorClass:"news-section__title--chennai",news:_.chennai,maxDisplay:Z.chennai.count||5,error:A.chennai}),Z.trichy?.enabled&&s.jsx(en,{id:"trichy-news",title:"Trichy",icon:"",colorClass:"news-section__title--trichy",news:_.trichy,maxDisplay:Z.trichy.count||5,error:A.trichy}),Z.local?.enabled&&s.jsx(hb,{id:"local-news",onVisible:()=>C("local"),isLoaded:B.includes("local"),children:s.jsx(en,{id:"local-news",title:"Local  Muscat",icon:"",colorClass:"news-section__title--local",news:_.local,maxDisplay:Z.local.count||5,error:A.local})})]}),ae&&k.length===0&&s.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:[s.jsx("h3",{children:"Urgent Alerts Mode"}),s.jsx("p",{children:"Monitoring for critical updates..."})]})]}),a.debugLogs&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"var(--spacing-md)",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:"var(--radius-sm)",fontSize:"0.7rem",color:"var(--text-muted)",flexWrap:"wrap"},children:[s.jsxs("span",{title:"Segment",children:[i.icon," ",i.label]}),s.jsx("span",{title:"Notifications",children:r==="granted"?"":""}),s.jsxs("span",{title:"UI Mode",children:[" ",$]}),s.jsx("span",{title:"Strict Mode",children:a.strictFreshness?"":""}),s.jsx(Ta,{to:"/settings",onClick:()=>{},style:{marginLeft:"auto",color:"var(--accent-primary)",fontSize:"0.7rem"},children:"Debug "})]})]})]}),s.jsx(fu,{sections:z}),s.jsx("button",{onClick:se,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:J?1:0,pointerEvents:J?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},className:"back-to-top",children:""})]})};function Mb(a="ua_watchlist"){const[i,r]=N.useState(()=>{try{return JSON.parse(localStorage.getItem(a))||[]}catch{return[]}});return{watchlist:i,toggleWatchlist:f=>{let h;i.includes(f)?h=i.filter(g=>g!==f):h=[...i,f],r(h),localStorage.setItem(a,JSON.stringify(h))},isWatched:f=>i.includes(f)}}const Rb=(a,i)=>{const r=new Date,o=r.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",u=new Date(r.getTime()+3600*1e3).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",f=`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${a}
DESCRIPTION:${i}
DTSTART:${o}
DTEND:${u}
END:VEVENT
END:VCALENDAR`,h=new Blob([f],{type:"text/calendar"}),g=URL.createObjectURL(h),p=document.createElement("a");p.href=g,p.download=`${a.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,p.click(),URL.revokeObjectURL(g)},hp={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},eu=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ma=Object.keys(hp).filter(a=>a.length>2).join("|"),kb=/\b(\d{4})-(\d{1,2})-(\d{1,2})\b/,Ob=/\b(\d{1,2})[/-](\d{1,2})[/-](\d{4})\b/,Db=new RegExp(`\\b(${Ma})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?(?:[,\\s-]+(\\d{4}))?\\b`,"i"),zb=new RegExp(`\\b(\\d{1,2})(?:st|nd|rd|th)?[-\\s]+(${Ma})(?:[-\\s,]+(\\d{4}))?\\b`,"i"),Lb=new RegExp(`\\b(${Ma})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-|through)\\s*(${Ma})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\b`,"i"),Ub=new RegExp(`\\b(${Ma})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-|through)\\s*(\\d{1,2})(?:st|nd|rd|th)?\\b`,"i"),Bb=new RegExp(`\\b(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-)\\s*(\\d{1,2})(?:st|nd|rd|th)?[-\\s]+(${Ma})\\b`,"i"),Hb=/\bnext\s+(\d+)\s+(day|week)s?\b/,Ib=new RegExp(`\\b(?:ends?|last date|deadline|valid (?:till|until)|expires?|before)\\s+(?:on\\s+)?(${Ma})\\s+(\\d{1,2})(?:st|nd|rd|th)?(?:[,\\s]+(\\d{4}))?\\b`,"i");function Ca(a){return hp[a.toLowerCase().slice(0,3)]??null}function Nn(a,i,r){const o=new Date(r.getFullYear(),a,i);return o<r&&r-o>30*864e5&&o.setFullYear(o.getFullYear()+1),o}function qb(a,i){const r=a.match(kb);if(r)return{start:new Date(+r[1],+r[2]-1,+r[3]),end:null,type:"iso"};const o=a.match(Ob);return o?{start:new Date(+o[3],+o[2]-1,+o[1]),end:null,type:"numeric"}:null}function Gb(a,i){const r=a.match(Db);if(r){const u=Ca(r[1]),f=+r[2],h=r[3]?+r[3]:null;return{start:h?new Date(h,u,f):Nn(u,f,i),end:null,type:"named"}}const o=a.match(zb);if(o){const u=Ca(o[2]),f=+o[1],h=o[3]?+o[3]:null;return{start:h?new Date(h,u,f):Nn(u,f,i),end:null,type:"named"}}return null}function Yb(a,i){const r=a.match(Lb);if(r)return{start:Nn(Ca(r[1]),+r[2],i),end:Nn(Ca(r[3]),+r[4],i),type:"range"};const o=a.match(Ub);if(o){const f=Ca(o[1]);return{start:Nn(f,+o[2],i),end:Nn(f,+o[3],i),type:"range"}}const u=a.match(Bb);if(u){const f=Ca(u[3]);return{start:Nn(f,+u[1],i),end:Nn(f,+u[2],i),type:"range"}}return null}function $b(a,i){const r=a.toLowerCase();if(!/tomorrow|today|next|this|week|weekend/.test(r))return null;if(/\btomorrow\b/.test(r)){const u=new Date(i);return u.setDate(u.getDate()+1),{start:u,end:null,type:"relative"}}if(/\btoday\b/.test(r))return{start:new Date(i),end:null,type:"relative"};const o=r.match(Hb);if(o){const u=+o[1],f=o[2]==="week"?7:1,h=new Date(i);return h.setDate(h.getDate()+u*f),{start:new Date(i),end:h,type:"relative"}}if(/\bnext week\b/.test(r)){const u=new Date(i);u.setDate(u.getDate()+(7-u.getDay()+1));const f=new Date(u);return f.setDate(f.getDate()+6),{start:u,end:f,type:"relative"}}for(let u=0;u<eu.length;u++){if(!r.includes(eu[u]))continue;if(new RegExp(`\\b(?:this|next|coming)\\s+${eu[u]}\\b`,"i").test(a)){const h=new Date(i);let g=(u-h.getDay()+7)%7;return g===0&&(g=7),h.setDate(h.getDate()+g),{start:h,end:null,type:"relative"}}}if(/\bthis weekend\b/.test(r)){const u=new Date(i);u.setDate(u.getDate()+(6-u.getDay()+7)%7);const f=new Date(u);return f.setDate(f.getDate()+1),{start:u,end:f,type:"relative"}}return null}function Vb(a,i){const r=a.match(Ib);if(r){const o=Ca(r[1]),u=+r[2],f=r[3]?+r[3]:null,h=f?new Date(f,o,u):Nn(o,u,i);return{start:new Date(i),end:h,type:"deadline"}}return null}function hu(a,i){if(!a)return null;const r=i?new Date(i):new Date;return isNaN(r.getTime())?null:qb(a)||Yb(a,r)||Vb(a,r)||Gb(a,r)||$b(a,r)}function Fb(a,i=14){if(!a?.start)return[];const r=[],o=new Date(a.start);o.setHours(0,0,0,0);const u=a.end?new Date(a.end):new Date(o);u.setHours(0,0,0,0);let f=new Date(o);for(;f<=u&&r.length<i;)r.push(f.toISOString().slice(0,10)),f.setDate(f.getDate()+1);return r}const wn="upAhead_planner",nr="upAhead_blacklist",ar="/api",_t={sync:async()=>{try{const a=await fetch(`${ar}/blacklist`);if(a.ok){const r=await a.json(),o=_t.getBlacklist(),u=new Set([...o,...r]);localStorage.setItem(nr,JSON.stringify([...u]))}const i=await fetch(`${ar}/user_plan`);if(i.ok){const r=await i.json(),o=localStorage.getItem(wn),f={...o?JSON.parse(o):{},...r};localStorage.setItem(wn,JSON.stringify(f))}console.log("[PlannerStorage] Synced with server")}catch(a){console.warn("[PlannerStorage] Sync failed",a)}},getUpcomingDays:(a=14)=>{try{const i=localStorage.getItem(wn);if(!i)return[];const r=JSON.parse(i),o=new Date().toISOString().split("T")[0];return Object.entries(r).filter(([f])=>f>=o).sort((f,h)=>f[0].localeCompare(h[0])).slice(0,a).map(([f,h])=>({date:f,items:h}))}catch(i){return console.error("Failed to read planner storage",i),[]}},addItem:(a,i)=>{try{const r=localStorage.getItem(wn),o=r?JSON.parse(r):{};return o[a]||(o[a]=[]),o[a].some(u=>u.id===i.id)?!1:(o[a].push(i),localStorage.setItem(wn,JSON.stringify(o)),_t.savePlanToApi(o),!0)}catch(r){return console.error("Failed to add item to planner",r),!1}},removeItem:(a,i)=>{try{const r=localStorage.getItem(wn),o=r?JSON.parse(r):{};return o[a]?(o[a]=o[a].filter(u=>u.id!==i),o[a].length===0&&delete o[a],localStorage.setItem(wn,JSON.stringify(o)),_t.savePlanToApi(o),!0):!1}catch(r){return console.error("Failed to remove item",r),!1}},merge:(a,i)=>{try{const r=localStorage.getItem(wn),o=r?JSON.parse(r):{};let u=!1;a.forEach(f=>{o[f]||(o[f]=[]);const h=new Set(o[f].map(g=>g.id));i.forEach(g=>{h.has(g.id)||(o[f].push(g),u=!0)})}),u&&(localStorage.setItem(wn,JSON.stringify(o)),_t.savePlanToApi(o))}catch(r){console.error("Merge failed",r)}},savePlanToApi:async a=>{try{await fetch(`${ar}/user_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(i){console.warn("API save plan error:",i)}},addToBlacklist:a=>{try{const i=JSON.parse(localStorage.getItem(nr)||"[]");i.includes(a)||(i.push(a),localStorage.setItem(nr,JSON.stringify(i)),_t.saveBlacklistToApi(i))}catch(i){console.error("Failed to blacklist",i)}},getBlacklist:()=>{try{return new Set(JSON.parse(localStorage.getItem(nr)||"[]"))}catch{return new Set}},saveBlacklistToApi:async a=>{try{await fetch(`${ar}/blacklist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(i){console.warn("API save blacklist error:",i)}}},mp="upAhead_cache";function Kb(){try{const a=localStorage.getItem(mp);if(a){const i=JSON.parse(a);return Date.now()-new Date(i.lastUpdated||0).getTime()>480*60*1e3&&console.log("[UpAheadService] Cache is older than 8 hours."),i}}catch(a){console.warn("Cache read error",a)}return null}function Xb(a){try{localStorage.setItem(mp,JSON.stringify(a))}catch(i){console.warn("Cache write error",i)}}const ig=new Map;function Qb(a,i){let r=ig.get(i);if(!r){const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=new RegExp(`\\b${o}\\b`,"i"),ig.set(i,r)}return r.test(a)}function Zb(a){let i=0;if(!a)return"0";for(let r=0;r<a.length;r++)i=(i<<5)-i+a.charCodeAt(r),i|=0;return i.toString()}function Wb(a,i){const r=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return Zb(`${r}-${i}`)}function Ti(a,i){const r=a.toLowerCase(),o=i.toLowerCase();return i.includes(" ")?r.includes(o):Qb(r,o)}const Jb={movies:["Tamil movie release this week","new movie release OTT","BookMyShow Chennai movies","upcoming movies Kollywood","movie tickets showtimes"],events:["Chennai events this week","LiveChennai events","concert tickets Chennai","standup comedy show Chennai","exhibition workshops Chennai","things to do Chennai weekend","Muscat events this week","Muscat concerts exhibitions","theatre shows Chennai this week","art exhibition Chennai","food festival Chennai","cultural event Chennai","music sabha Chennai","Muscat Royal Opera House events"],festivals:["Maha Shivaratri 2025 date","upcoming festivals Tamil Nadu 2025","bank holidays India upcoming","public holidays Tamil Nadu","religious festivals this month India","Oman festivals holidays"],alerts:["TANGEDCO power cut Chennai tomorrow","TNEB power shutdown schedule","Chennai traffic advisory today","Chennai metro maintenance","water supply disruption Chennai","road closure Chennai"],weather_alerts:["IMD Chennai weather warning","Tamil Nadu heavy rain alert","cyclone warning Chennai","heat wave advisory Tamil Nadu","Oman weather warning Muscat"],sports:["IPL 2026 schedule matches","cricket match Chennai CSK","ISL football match schedule","Pro Kabaddi schedule","sports events Chennai this week"],shopping:["Chennai sale offers discount today","exhibition sale Chennai","Pongal sale Tamil Nadu","Diwali offers Chennai","end of season sale Chennai mall","Muscat shopping festival offers"],airlines:["Oman Air flight offers","Indigo Airlines offers","Salam Air ticket offers","Air India sale","flight ticket offers India"],civic:["VIP visit Chennai road closure","minister visit Tamil Nadu traffic","protest bandh Chennai tomorrow","Chennai corporation announcement","Muscat road closure traffic"]},sg={movies:["https://www.hindustantimes.com/feeds/rss/entertainment/tamil-cinema/rssfeed.xml","https://www.hindustantimes.com/feeds/rss/entertainment/bollywood/rssfeed.xml"],sports:["https://www.espn.com/espn/rss/news"],festivals:["https://www.timeanddate.com/holidays/india/feed"],events:["https://www.thehindu.com/news/cities/chennai/feeder/default.rss"]};async function Pb(){try{const r=`${"./".endsWith("/")?"./":".//"}data/up_ahead.json`,o=await fetch(r);if(!o.ok)return console.warn(`[UpAheadService] Static fetch failed: ${o.status}`),null;const u=await o.json();return u.error?(console.warn(`[UpAheadService] Static data has error: ${u.error}`),null):u}catch(a){return console.error("[UpAheadService] Static fetch exception:",a),null}}function rg(a,i){if(!a)return i;if(!i)return a;const r={...a},o=new Map;return a.timeline&&a.timeline.forEach(u=>{o.set(u.date,{...u,items:[...u.items||[]]})}),i.timeline&&i.timeline.forEach(u=>{if(!o.has(u.date))o.set(u.date,u);else{const f=o.get(u.date),h=new Set(f.items.map(g=>g.id));u.items.forEach(g=>{h.has(g.id)||(f.items.push(g),h.add(g.id))})}}),r.timeline=Array.from(o.values()).sort((u,f)=>u.date.localeCompare(f.date)),i.sections&&(r.sections||(r.sections={}),Object.keys(i.sections).forEach(u=>{const f=r.sections[u]||[],h=i.sections[u]||[],g=new Set(f.map(y=>y.title)),p=[...f];h.forEach(y=>{g.has(y.title)||(p.push(y),g.add(y.title))}),r.sections[u]=p})),r.weekly_plan=pp(r.timeline,new Set),r.lastUpdated=i.lastUpdated||a.lastUpdated,r}async function eS(a){const i=Date.now();console.log("[UpAheadService] Fetching LIVE data with settings:",a);const r=a?.categories||{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0},o=a?.locations&&a.locations.length>0?a.locations:["Chennai","India"],u=a?.keywords||Ot.upAhead.keywords;let f=[];const h=[],g=j=>{const A=encodeURIComponent(j);h.push({url:`https://news.google.com/rss/search?q=${A}+when:7d&hl=en-IN&gl=IN&ceid=IN:en`,type:"search",originalQuery:j})};for(const[j,A]of Object.entries(r)){if(!A)continue;sg[j]&&sg[j].forEach(I=>{h.push({url:I,type:"static",category:j})}),(Jb[j]||[]).forEach(I=>{j==="events"||j==="alerts"||j==="movies"?o.forEach(C=>{C.toLowerCase()==="india"&&(j==="alerts"||j==="events")||g(`${I} ${C}`)}):j==="shopping"||j==="airlines"?o.forEach(C=>{g(`${I} ${C}`)}):g(`${I}`)})}const p=[...new Map(h.map(j=>[j.url,j])).values()];console.log(`[UpAheadService] Prepared ${p.length} feeds to fetch.`);const y=p.map(async j=>{try{const{items:A}=await Pg.fetchViaProxy(j.url);return A.map(k=>tS(k,j,u))}catch(A){return console.warn(`[UpAheadService] Failed to fetch ${j.url}:`,A.message),[]}}),b=await Promise.allSettled(y);for(let j=0;j<b.length;j++)b[j].status==="fulfilled"?f.push(...b[j].value):console.warn("[UpAheadService] A feed failed to load:",b[j].reason);const v=lS(f,a);try{for(const j of f)if(j.extractedDate){const A=hu(`${j.title} ${j.description||""}`,j.pubDate);if(A){const k=Fb(A);k.length>0&&_t.merge(k,[{id:j.id,title:j.title,category:j.category,link:j.link}])}}}catch(j){console.warn("[UpAhead] Planner storage write failed",j)}const w=Date.now()-i,_=v?.timeline?.reduce((j,A)=>j+(A.items?.length||0),0)||0;return nn.success("upAhead",`LIVE: ${_} items from ${p.length} feeds`,{durationMs:w}),v}function ou(a){if(!a)return"";let i=a.toString();const r={"&nbsp;":" ","&amp;":"&","&quot;":'"',"&#39;":"'","&lt;":"<","&gt;":">"};return i=i.replace(/&[a-z0-9#]+;/gi,o=>r[o]||o),i=i.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),i=i.replace(/<style[^>]*>([\S\s]*?)<\/style>/gmi,""),i=i.replace(/<\/?[^>]+(>|$)/g,""),i.trim()}function tS(a,i,r=null){const o=ou(a.title||""),u=a.description||"",f=ou(u),h=`${o} ${f}`;let g=a.pubDate?new Date(a.pubDate):null;g&&isNaN(g.getTime())&&(g=null);let p=i.category;(!p||i.type==="search")&&(p=aS(h,r));let y=null;const b=hu(h,g);b?.start?p==="shopping"&&b.end?y=b.end:y=b.start:y=gp(h,g);let v=[],w=!1;/ott|releases|week/i.test(o)&&/\d+ new/i.test(o)&&(w=!0),w&&p==="movies"&&(v=nS(u,g));const _=y?y.toISOString().slice(0,10):g?g.toISOString().slice(0,10):"nodate",j=Wb(o,_);return{id:a.guid||a.link||o,canonicalId:j,title:o,link:a.link,description:f,pubDate:g,extractedDate:y,category:p,rawSource:i.originalQuery||"feed",isRoundup:w,subItems:v}}function nS(a,i){const r=[],o=a.split(/<br\s*\/?>|\n|<\/li>|<\/p>|/i),u=["netflix","prime","prime video","hotstar","sony liv","zee5","jiocinema","aha","sunnxt","hulu","disney"],f=new RegExp(`\\b(${u.sort((h,g)=>g.length-h.length).join("|")})\\b`,"i");return o.forEach(h=>{const g=ou(h).trim();if(g.length<5)return;const p=f.test(g),y=gp(g,i);if(p||y){let b=g.replace(/^\d+\.\s*/,"").replace(/^[-\u2013\u2014]\s*/,"").replace(/\(.*\)/g,"").trim();if(b.length<3)return;const v=g.match(f),w=v?v[0]:"OTT";r.push({title:b,date:y,originalText:g,platform:w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()})}}),r}function aS(a,i=null){const r=a.toLowerCase(),o=i||Ot.upAhead.keywords,u=f=>f&&f.some(h=>Ti(r,h));return r.includes("arrest")||r.includes("held for")||r.includes("police")||r.includes("seized")||r.includes("murder")||r.includes("crime")||r.includes("jail")||r.includes("court")||r.includes("bail")||r.includes("clinic")&&r.includes("unregistered")?"general":u(o.weather_alerts)?"weather_alerts":u(o.alerts)?"alerts":u(o.movies)?(o.movies_negative||[]).some(h=>Ti(r,h))?"general":"movies":u(o.sports)?(o.sports_negative||[]).some(h=>Ti(r,h))?"general":"sports":u(o.airlines)?"airlines":u(o.shopping)?"shopping":u(o.festivals)?"festivals":u(o.civic)?"civic":u(o.events)?"events":"general"}function gp(a,i){return hu(a,i)?.start||null}function lS(a,i){const r=new Date;r.setHours(0,0,0,0);const o=new Map,u={movies:[],festivals:[],alerts:[],events:[],sports:[],shopping:[],civic:[],weather_alerts:[],airlines:[]},f=new Set,g=(i?.hideOlderThanHours||336)*60*60*1e3,p={weather_alerts:6,alerts:12,festivals:336},y=i?.keywords||i?.upAhead?.keywords||Ot.upAhead.keywords,b=C=>{let B=y.negative&&y.negative.length>0?y.negative:Ot.upAhead.keywords.negative;const Z=`${C}_negative`,$=y[Z]&&y[Z].length>0?y[Z]:Ot.upAhead.keywords[Z]||[];return[...new Set([...B,...$])]},v=i?.signals||Ot.upAhead.signals,w={};["movies","events","festivals","alerts","sports","shopping","civic","weather_alerts","airlines"].forEach(C=>{w[C]=y[C]&&y[C].length>0?y[C]:Ot.upAhead.keywords[C]||[]});const j=(i?.locations||i?.upAhead?.locations||["Chennai","Muscat","Trichy"]).map(C=>C.toLowerCase());a.forEach(C=>{if(f.has(C.id)||(f.add(C.id),!C.pubDate||isNaN(C.pubDate.getTime())))return;const B=Date.now()-C.pubDate.getTime();let Z=g;if(p[C.category]){const O=p[C.category]*60*60*1e3;Z=Math.min(g,O)}const $=["movies","events","sports","shopping","civic","festivals","airlines"].includes(C.category),te=C.extractedDate&&C.extractedDate>=r;if(!$&&!te&&B>Z)return;const P=(C.title+" "+C.description).toLowerCase(),J=/(?:|-|published)\s*(\d+)\s*(mo|month|months|w|week|weeks|y|year|years)\s*(?:ago)?/i,re=P.match(J);if(re){const O=parseInt(re[1]),V=re[2].toLowerCase();if(V.startsWith("mo")||V.startsWith("y")||V.startsWith("w")&&O>=1)return}const se=/ott|releases|week|weekend/i.test(P)&&/\d+ new/i.test(P);let ne=0;const H=i?.ranking?.[C.category]||i?.upAhead?.ranking?.[C.category]||{},ie=H.positiveMultiplier||1,le=H.negativeMultiplier||1,ae=H.filterThreshold||0,z=w[C.category]||[],X=b(C.category),Y=z.reduce((O,V)=>Ti(P,V.toLowerCase())?O+1:O,0),M=X.reduce((O,V)=>Ti(P,V.toLowerCase())?O+1:O,0);ne=Y*ie-M*le;const W=v.reduce((O,V)=>P.includes(V)?O+1:O,0);if(ne+=W*.5,["movies","events","shopping","airlines","sports","festivals"].includes(C.category)&&ne<ae||!se&&M>0&&ne<=0||$&&!C.extractedDate&&!C.isRoundup&&Y===0&&W===0||(C.category==="alerts"||C.category==="civic")&&!j.some(V=>P.includes(V)))return;if(C._forwardScore=ne,C.category&&u[C.category]){if((C.category==="movies"||C.category==="events"||C.category==="festivals")&&!C.extractedDate&&!C.isRoundup||$&&!C.extractedDate&&!C.isRoundup&&ne<=0)return;if(C.category==="festivals"&&C.extractedDate){if((C.extractedDate.getTime()-r.getTime())/(1e3*3600*24)<-3)return}else if($&&C.extractedDate&&C.extractedDate<r)return;let O=null;!C.extractedDate&&["shopping","alerts","weather_alerts","civic"].includes(C.category)&&(O=C.pubDate?C.pubDate.toDateString():null);const V={title:C.title,link:C.link,releaseDate:C.extractedDate?C.extractedDate.toDateString():O,date:C.extractedDate?C.extractedDate.toDateString():O,text:C.title,severity:"medium",language:"Unknown",isRoundup:C.isRoundup,subItemsCount:C.subItems?C.subItems.length:0};u[C.category].push(V)}let T=C.extractedDate;if(!T&&(C.category==="alerts"||C.category==="weather_alerts")){const O=C.category==="weather_alerts"?12:24;if(C.pubDate&&Date.now()-C.pubDate.getTime()<O*60*60*1e3)T=r;else return}if(!T&&C.isRoundup&&(T=r),!T&&ne>0&&$&&["shopping","airlines","alerts","weather_alerts","civic"].includes(C.category)&&C.pubDate&&Date.now()-C.pubDate.getTime()<2880*60*1e3&&(T=r),T&&T>=r){const O=T.toISOString().split("T")[0];o.has(O)||o.set(O,{date:O,dayLabel:iS(T),items:[]});const V={id:C.id,type:sS(C.category),title:C.title,subtitle:C.isRoundup?`${C.subItems?.length||"Multiple"} ITEMS`:C.category.toUpperCase(),description:C.description,tags:[C.category],link:C.link,isRoundup:C.isRoundup,subItems:C.subItems,_forwardScore:C._forwardScore||0};o.get(O).items.push(V)}});const A=Array.from(o.values()).sort((C,B)=>C.date.localeCompare(B.date));A.forEach(C=>{C.items.sort((B,Z)=>(Z._forwardScore||0)-(B._forwardScore||0)),C.items.forEach(B=>delete B._forwardScore)}),Object.keys(u).forEach(C=>{u[C].sort((B,Z)=>B.date&&Z.date?new Date(B.date)-new Date(Z.date):0),u[C]=u[C].slice(0,10)});const k=_t.getBlacklist?_t.getBlacklist():new Set,I=pp(A,k);return{timeline:A,sections:u,weekly_plan:I,lastUpdated:new Date().toISOString()}}function iS(a){const i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(r.getDate()+1);const o=new Date(a);return o.setHours(0,0,0,0),o.getTime()===i.getTime()?"Today":o.getTime()===r.getTime()?"Tomorrow":o.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}function sS(a){return{movies:"movie",events:"event",festivals:"festival",alerts:"alert",sports:"sport",shopping:"shopping",civic:"civic",weather_alerts:"weather_alert",airlines:"airline"}[a]||"event"}function pp(a,i=new Set){const r=[],o=new Date,u=f=>{const h=["th","st","nd","rd"],g=f%100;return f+(h[(g-20)%10]||h[g]||h[0])};for(let f=0;f<7;f++){const h=new Date(o);h.setDate(o.getDate()+f);const g=h.toISOString().split("T")[0],p=h.toLocaleDateString("en-US",{weekday:"long"}),y=h.toLocaleDateString("en-US",{month:"short"}),b=h.getDate(),v=`${u(b)} ${y}`,w=a.find(j=>j.date===g);let _=[];w&&w.items.length>0&&(_=w.items.filter(A=>!(A.type==="festival"||i.has(A.id))).slice(0,10).map(A=>({id:A.id,title:A.title,type:A.type,icon:rS(A.type),link:A.link,description:A.description,isOffer:A.type==="shopping"||A.type==="airline"}))),r.push({day:p,date:v,items:_})}return r}function rS(a){return{movie:"",event:"",festival:"",alert:"",sport:"",shopping:"",civic:"",entertainment:"",weather_alert:"",airline:"",general:""}[a]||""}function oS(){const{settings:a}=pt(),[i,r]=N.useState(null),[o,u]=N.useState(!0),[f,h]=N.useState(!1),[g,p]=N.useState(0),[y,b]=N.useState("plan"),[,v]=N.useState(_t.getBlacklist?_t.getBlacklist():new Set),{toggleWatchlist:w,isWatched:_}=Mb(),j=N.useCallback(async(se=!1)=>{if(se?(h(!0),p(1)):(u(!0),p(0)),!se){const ne=Kb();ne&&(r(ne),u(!1),p(1))}try{const ne=await Pb();ne&&(r(H=>rg(H,ne)),se||p(2),u(!1))}catch(ne){console.warn("Static fetch failed",ne)}h(!0);try{const ne=a.upAhead||{categories:{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0,shopping:!0,civic:!0,weather_alerts:!0,airlines:!0},locations:["Chennai"]},H=await eS(ne);r(ie=>{const le=rg(ie,H);return Xb(le),le}),p(3)}catch(ne){console.error("Failed to load Live Up Ahead data",ne)}finally{h(!1),u(!1)}},[a.upAhead]);N.useEffect(()=>{j(!1)},[j]);const A=se=>{se&&_t.addToBlacklist&&(_t.addToBlacklist(se),v(_t.getBlacklist()),j(!1))},k=(se,ne)=>{_t.addItem(ne,{id:se.id,title:se.title,category:se.tags?.[0]||"event",link:se.link,description:se.description}),alert("Added to Plan!")},I=se=>{if(!se)return"Coming Soon";const ne=new Date(se);if(isNaN(ne.getTime()))return se;const H=ne.toLocaleDateString("en-US",{weekday:"short"}),ie=ne.getDate().toString().padStart(2,"0"),le=ne.toLocaleDateString("en-US",{month:"short"});return`${H}, ${ie} ${le}`},C=({items:se,colorClass:ne,emptyMessage:H,isOffer:ie=!1})=>!se||se.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:H})}):s.jsx("div",{className:"ua-wk-card",style:{border:"none",background:"transparent",padding:0},children:s.jsx("ul",{className:"ua-wk-list",children:se.map((le,ae)=>{const z=I(le.date||le.releaseDate);return s.jsxs("li",{className:"ua-wk-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",background:"var(--bg-secondary)",padding:"12px",borderRadius:"12px",marginBottom:"8px"},children:[s.jsxs("a",{href:le.link,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",flex:1,overflow:"hidden",display:"flex",alignItems:"center",gap:"8px"},children:[ie&&s.jsx("span",{style:{fontSize:"1.2rem"},children:""}),s.jsx("span",{className:"ua-wk-text",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.95rem",fontWeight:500},children:le.title})]}),s.jsx("span",{className:`ua-wk-date ${ne}`,style:{whiteSpace:"nowrap",flexShrink:0,fontSize:"0.8rem",fontWeight:600},children:z})]},ae)})})});if(o&&!i)return s.jsxs("div",{className:"page-container",children:[s.jsx(Aa,{title:"Up Ahead",icon:"",loadingPhase:g}),s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Scanning horizon..."})]})]});if(!i||!i.timeline||i.timeline.length===0)return s.jsxs("div",{className:"page-container",children:[s.jsx(Aa,{title:"Up Ahead",icon:"",loadingPhase:g}),s.jsxs("div",{className:"empty-state",children:[s.jsx("span",{style:{fontSize:"3rem"},children:""}),s.jsx("h3",{children:"Nothing on the radar"}),s.jsx("p",{children:"No upcoming events found."}),s.jsx("button",{onClick:()=>j(!0),className:"btn btn--primary",style:{marginTop:"1rem"},children:"Retry Scan"}),s.jsx("div",{style:{marginTop:"0.75rem"},children:s.jsxs("small",{children:["Try adding more locations or categories in ",s.jsx(Ta,{to:"/settings",style:{color:"var(--accent-primary)"},children:"Settings"}),"."]})})]})]});const B=i.sections?.weather_alerts||[],Z=i.sections?.alerts||[],$=i.sections?.civic||[],te=[...B,...Z,...$],P=B[0]||Z[0]||null,J=B.length>0?"":"",re=B.length>0?"Weather Warning":"Worth Knowing";return s.jsxs("div",{className:"page-container up-ahead-page",children:[s.jsx(Aa,{title:"Up Ahead",icon:"",loadingPhase:g,rightElement:f?s.jsx("div",{className:"scanning-indicator",style:{fontSize:"0.7rem",color:"var(--accent-primary)"},children:"Scanning..."}):null}),s.jsx("div",{style:{textAlign:"center",fontSize:"0.7rem",color:"var(--text-muted)",padding:"6px",background:"var(--bg-secondary)",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"loading__spinner",style:{width:"12px",height:"12px",borderWidth:"2px"}}),s.jsx("span",{children:"Scanning horizon..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Live Feed  ",a.upAhead?.locations?.join(", ")||"All Locations"]}),s.jsx("button",{onClick:()=>j(!0),style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.8rem"},children:""})]})}),P&&s.jsxs("div",{className:`ua-alert-banner ${B.length>0?"weather-alert":""}`,children:[s.jsx("span",{className:"ua-alert-icon",children:J}),s.jsxs("div",{className:"ua-alert-content",children:[s.jsx("h4",{children:re}),s.jsx("p",{children:P.text})]})]}),s.jsxs("div",{className:"ua-view-toggle scrollable-tabs",children:[s.jsx("button",{className:`ua-toggle-btn ${y==="plan"?"active":""}`,onClick:()=>b("plan"),children:"Plan My Week"}),s.jsx("button",{className:`ua-toggle-btn ${y==="offers"?"active":""}`,onClick:()=>b("offers"),children:"Offers"}),s.jsx("button",{className:`ua-toggle-btn ${y==="movies"?"active":""}`,onClick:()=>b("movies"),children:"Releasing Soon"}),s.jsx("button",{className:`ua-toggle-btn ${y==="events"?"active":""}`,onClick:()=>b("events"),children:"Upcoming Events"}),s.jsx("button",{className:`ua-toggle-btn ${y==="alerts"?"active":""}`,onClick:()=>b("alerts"),children:"Alerts"}),s.jsx("button",{className:`ua-toggle-btn ${y==="festivals"?"active":""}`,onClick:()=>b("festivals"),children:"Festivals"}),s.jsx("button",{className:`ua-toggle-btn ${y==="feed"?"active":""}`,onClick:()=>b("feed"),children:"Timeline"})]}),y==="plan"&&s.jsx("div",{className:"ua-weekly-plan",children:i.weekly_plan&&Array.isArray(i.weekly_plan)?i.weekly_plan.map((se,ne)=>s.jsxs("div",{className:"ua-plan-day-row",children:[s.jsx("div",{className:"ua-plan-ribbon",children:s.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:800,whiteSpace:"nowrap"},children:[se.day," ",s.jsx("span",{style:{opacity:.8,fontWeight:400},children:se.date})]})}),s.jsx("div",{className:"ua-plan-day-content",children:se.items&&se.items.length>0?se.items.map((H,ie)=>s.jsxs("div",{className:"ua-plan-event-item",children:[s.jsx("button",{className:"ua-plan-delete-btn",onClick:le=>{le.preventDefault(),A(H.id)},"aria-label":"Remove event",style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)",fontSize:"0.9rem",padding:"0 8px 0 0"},children:""}),s.jsxs("a",{href:H.link,target:"_blank",rel:"noopener noreferrer",style:{flex:1,display:"flex",alignItems:"center",gap:"10px",textDecoration:"none",color:"inherit"},children:[s.jsx("span",{className:"ua-event-icon",children:H.icon}),s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[s.jsx("span",{className:"ua-event-title",children:H.title}),H.isOffer&&s.jsx("span",{className:"ua-offer-badge",children:" Ends Today"})]})]}),s.jsx("div",{style:{display:"flex",gap:"8px"},children:s.jsx("button",{className:"ua-plan-action-btn",onClick:le=>{le.preventDefault(),Rb(H.title,H.description||H.title)},title:"Add to Calendar",style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.1rem"},children:""})})]},ie)):s.jsx("span",{className:"ua-plan-empty",style:{padding:"10px",color:"var(--text-muted)",fontSize:"0.9rem"},children:"-"})})]},ne)):s.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Data unavailable."})}),y==="movies"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(C,{items:i.sections?.movies,colorClass:"text-accent-info",emptyMessage:"No upcoming movie releases found."})}),y==="offers"&&s.jsxs("div",{className:"ua-tab-view",children:[s.jsx(C,{items:[...i.sections?.shopping||[],...i.sections?.airlines||[]],colorClass:"text-accent-success",emptyMessage:"No offers found.",isOffer:!0}),s.jsx("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Including Airline Offers"})]}),y==="events"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(C,{items:[...i.sections?.events||[],...i.sections?.sports||[]],colorClass:"text-accent-primary",emptyMessage:"No upcoming events found."})}),y==="alerts"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(C,{items:te,colorClass:"text-accent-error",emptyMessage:"No alerts found."})}),y==="festivals"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(C,{items:i.sections?.festivals,colorClass:"text-accent-warning",emptyMessage:"No festivals found."})}),y==="feed"&&s.jsx("div",{className:"ua-timeline",children:i.timeline.map(se=>s.jsxs("div",{className:"ua-day-section",children:[s.jsxs("div",{className:"ua-day-header",children:[s.jsx("div",{className:"ua-day-label",children:se.dayLabel}),s.jsx("div",{className:"ua-date-sub",children:se.date})]}),se.items?.map(ne=>s.jsx("div",{className:"ua-media-card",children:s.jsxs("div",{className:"ua-media-content",children:[s.jsxs("div",{className:"ua-media-header",children:[s.jsx("span",{className:`ua-badge type-${ne.type}`,children:ne.type.toUpperCase()}),s.jsx("button",{className:`ua-watch-btn ${_(ne.id)?"active":""}`,onClick:()=>w(ne.id),children:_(ne.id)?"":""})]}),s.jsx("h3",{className:"ua-media-title",children:ne.title}),s.jsx("p",{className:"ua-media-desc",children:ne.description?ne.description.length>100?ne.description.substring(0,100)+"...":ne.description:""}),s.jsxs("div",{className:"ua-media-footer",children:[ne.link&&s.jsx("a",{href:ne.link,target:"_blank",rel:"noopener noreferrer",className:"ua-source-link",children:"Read Source "}),s.jsx("button",{className:"ua-cal-btn",onClick:()=>k(ne,se.date),title:"Add to Plan My Week",children:" Plan"})]})]})},ne.id))]},se.date))})]})}const cS=({weatherData:a,activeCity:i,onRefresh:r,loading:o,isDesktop:u})=>{const f=i||Object.keys(a)[0]||"chennai",h=a[f]||a[f.toLowerCase()],g=N.useMemo(()=>{if(!h)return"Loading weather data...";const p=h.current||{},y=h.next8Hours||[],b=h.hourly24||[];let v=p.high;if((v==null||v===void 0)&&b.length>0){const k=Math.max(...b.map(I=>I.temp||-999));k!==-999&&(v=k)}const w=v!=null?`${v}`:"--";let _="";const j=y.slice(0,4).find(k=>k.precip>.5||k.prob>=40);j?_=`Rain likely at ${j.label}`:p.windSpeed>25?_=`Windy (${p.windSpeed} km/h)`:p.temp>38||v>38?_="Heatwave Alert":p.humidity>85&&p.temp>30?_="High Humidity":p.condition&&p.condition.toLowerCase().includes("rain")&&(_="Raining Now");let A=`${p.condition||"Clear"}  High ${w}`;return _?`${A}  ${_}`:A},[h]);return s.jsxs("div",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(to bottom, var(--bg-card), var(--bg-primary))",borderBottom:"1px solid var(--border-default)",boxShadow:"0 4px 20px rgba(0,0,0,0.4)",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("h2",{style:{fontSize:"1.4rem",margin:0,fontWeight:800,background:"linear-gradient(135deg, #fff 0%, #aaa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textTransform:"capitalize",letterSpacing:"-0.02em",lineHeight:1.1},children:f}),o&&s.jsx("span",{className:"pulse-dot",style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-primary)",display:"inline-block",boxShadow:"0 0 10px var(--accent-primary)"}})]}),s.jsx("div",{style:{fontSize:"0.95rem",color:"var(--accent-info)",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:u?"auto":"280px",opacity:.9},children:g})]}),s.jsx("button",{onClick:r,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-primary)",opacity:o?.7:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},title:"Refresh Weather",children:s.jsx("span",{style:{display:"block",transform:o?"rotate(360deg)":"none",transition:"transform 1s linear infinite",fontSize:"18px"},children:o?"":""})})]})};function uS({weatherData:a,activeCity:i,setActiveCity:r}){const{settings:o}=pt(),u=(o.weather?.cities||["chennai","trichy","muscat"]).map(_=>_.toLowerCase()),f={chennai:"Chennai",trichy:"Trichy",muscat:"Muscat",[u[2]]:u[2].charAt(0).toUpperCase()+u[2].slice(1)},h={chennai:"",trichy:"",muscat:"",[u[2]]:""},[g,p]=N.useState(null);if(!a)return null;const y=a[i]||a.chennai;if(!y)return s.jsx("div",{className:"dw-container",children:"Data unavailable"});const b=new Date().getHours();let v=[];const w=(_,j,A=null)=>{_==="today"||y.tomorrow;const k=_==="today"?y[j]:y.tomorrow?.[j];let I=A;return I||(j==="morning"?I="Morning":j==="noon"?I="Afternoon":I="Evening",_==="tomorrow"&&(I="Tomorrow "+I)),{id:`${_}-${j}`,label:I,data:k}};return b<11?v=[w("today","morning","This Morning"),w("today","noon"),w("today","evening")]:b<17?v=[w("today","noon","This Afternoon"),w("today","evening"),w("tomorrow","morning")]:b<21?v=[w("today","evening","Tonight"),w("tomorrow","morning"),w("tomorrow","noon")]:v=[w("tomorrow","morning","Tomorrow Morning"),w("tomorrow","noon"),w("tomorrow","evening")],s.jsxs("div",{className:"dw-container",children:[s.jsx("div",{className:"dw-sidebar",children:u.map(_=>s.jsxs("button",{className:`dw-city-tab ${_===i?"active":""}`,onClick:()=>r(_),"aria-label":`Select ${f[_]}`,children:[s.jsx("span",{className:"dw-city-icon",children:h[_]||""}),s.jsx("span",{className:"dw-city-name",children:f[_]||_})]},_))}),s.jsxs("div",{className:"dw-content",children:[s.jsxs("div",{className:"dw-header",children:[s.jsxs("div",{className:"dw-header-main",children:[s.jsx("h2",{className:"dw-city-title",children:y.name}),s.jsxs("span",{className:"dw-current-temp",children:[y.current?.temp,""]})]}),s.jsx("div",{className:"dw-header-sub",children:y.summary})]}),s.jsx("div",{className:"dw-cards-list",children:v.map((_,j)=>_.data?s.jsx(dS,{segment:_,isExpanded:g===j,onToggle:()=>p(g===j?null:j)},_.id):null)}),s.jsxs("div",{className:"dw-footer",children:["Forecast based on ",y.models?.count," models (",y.models?.names,")."]})]})]})}function dS({segment:a,isExpanded:i,onToggle:r}){const{label:o,data:u}=a,f=parseFloat(u.rainMm==="-"?0:u.rainMm),h=u.rainProb?.avg||0,g=f>=1,p=f>0||h>0;let y=Wm,b="var(--text-secondary)",v="No significant rain";p&&(g?(y=Z1,b="#3b82f6"):(y=Wm,b="#94a3b8"),v=`${f>0?f.toFixed(1)+"mm":"Trace"} (${h}%)`);const w=fS(u);return s.jsxs("div",{className:`dw-card ${i?"expanded":""}`,onClick:r,children:[s.jsxs("div",{className:"dw-card-header",children:[s.jsx("span",{className:"dw-period-badge",children:o}),s.jsx("span",{className:"dw-expand-hint",children:i?"Collapse":"Touch for Hourly"})]}),s.jsxs("div",{className:"dw-card-main",children:[s.jsx("div",{className:"dw-main-icon",children:u.iconId?s.jsx(ur,{id:u.iconId,size:56}):s.jsx("span",{style:{fontSize:"3rem"},children:u.icon})}),s.jsxs("div",{className:"dw-main-temp",children:[s.jsxs("div",{className:"dw-temp-val",children:[u.temp,""]}),s.jsxs("div",{className:"dw-temp-feels",children:["Feels like ",u.feelsLike,""]})]})]}),s.jsxs("div",{className:"dw-details-grid",children:[s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:s.jsx(y,{size:20,color:b})}),s.jsx("div",{className:"dw-detail-text",children:v})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:s.jsx(rp,{size:20})}),s.jsxs("div",{className:"dw-detail-text",children:[u.humidity,"% ",s.jsx("span",{className:"dw-sep",children:"|"})," ",s.jsx(op,{size:16})," ",u.windSpeed," km/h"]})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:""}),s.jsxs("div",{className:"dw-detail-text",children:["UV: ",u.uvIndex||"-"," ",s.jsx("span",{className:"dw-sep",children:"|"})," PM 2.5: -"]})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:""}),s.jsx("div",{className:"dw-detail-text dw-desc",children:w})]})]}),i&&u.hourly&&s.jsx("div",{className:"dw-hourly-container hide-scrollbar",onClick:_=>_.stopPropagation(),children:u.hourly.map((_,j)=>s.jsxs("div",{className:"dw-hourly-slot",children:[s.jsx("span",{className:"dw-slot-time",children:_.time}),s.jsx("div",{className:"dw-slot-icon",children:_.iconId?s.jsx(ur,{id:_.iconId,size:28}):_.icon}),s.jsxs("strong",{className:"dw-slot-temp",children:[_.temp,""]}),_.precip>0&&s.jsxs("span",{className:"dw-slot-precip",children:[_.precip>=1&&s.jsx("span",{style:{fontSize:"0.7rem"},children:""}),_.precip,"mm"]})]},j))})]})}function fS(a){const i=[];return a.rainProb?.avg>40?i.push("Rain expected."):a.cloudCover>70?i.push("Cloudy."):a.cloudCover<20&&i.push("Clear skies."),a.windSpeed>20&&i.push("Breezy."),a.uvIndex>8&&i.push("High UV."),i.length===0?"Pleasant conditions.":i.join(" ")}function hS(){const{weatherData:a,loading:i,error:r,refreshWeather:o}=br(),{settings:u}=pt(),{isDesktop:f}=wr(),h=a,g=(u.weather?.cities||["chennai","trichy","muscat"]).map(v=>v.toLowerCase()),[p,y]=N.useState(()=>localStorage.getItem("dw_active_city")||"chennai");N.useEffect(()=>{localStorage.setItem("dw_active_city",p)},[p]);const b=()=>{o(!0)};return i&&!a?s.jsx("div",{className:"page-container",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Forecast..."})]})}):s.jsxs("div",{className:"page-container",style:{padding:0},children:[h&&s.jsx(cS,{weatherData:h,activeCity:p,cities:g,onRefresh:b,loading:i,isDesktop:f}),s.jsxs("main",{className:"main-content",style:{padding:0,marginTop:0},children:[r&&s.jsxs("div",{className:"topline",style:{borderLeftColor:"var(--accent-danger)",margin:"16px"},children:[s.jsx("div",{className:"topline__label",style:{color:"var(--accent-danger)"},children:"Error"}),s.jsx("div",{className:"topline__text",children:"Failed to update weather. Showing cached data."})]}),h?s.jsx(uS,{weatherData:h,activeCity:p,setActiveCity:y}):s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:"Weather data unavailable."}),s.jsx("button",{onClick:b,className:"btn btn--secondary mt-md",children:"Retry"})]})]})]})}const mS=({indices:a,onRefresh:i,loading:r,lastUpdated:o})=>{const f=["NIFTY 50","SENSEX","NIFTY BANK"].map(p=>a?.find(y=>y.name.toUpperCase().includes(p))).filter(Boolean),h=f.length>0?f:a?.slice(0,3)||[],g=p=>p?new Date(p).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{style:{position:"sticky",top:0,zIndex:100,background:"var(--bg-primary)",paddingBottom:"8px",borderBottom:"1px solid var(--border-default)",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--gradient-header)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:""}),s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:"1.1rem",margin:0,fontWeight:700,color:"var(--text-primary)",lineHeight:1.2},children:"Indian Markets"}),o&&s.jsxs("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.7)",fontWeight:400},children:["Updated ",g(o)]})]})]}),s.jsx("button",{onClick:i,style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem",padding:"4px",color:"var(--text-primary)",opacity:r?.5:1,transition:"transform 0.3s"},title:"Refresh Markets",className:r?"spin":"",children:r?"":""})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${h.length}, 1fr)`,gap:"1px",background:"var(--border-default)",marginTop:"0"},children:h.map((p,y)=>{const b=p.direction==="up"||p.change>0,v=b?"var(--accent-success)":"var(--accent-danger)",w=b?"":"";return s.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"10px 4px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",fontWeight:600,marginBottom:"2px",textTransform:"uppercase"},children:p.name.replace("NIFTY","").replace("SENSEX","SENSEX").trim()||p.name}),s.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--text-primary)",marginBottom:"2px"},children:p.value}),s.jsxs("div",{style:{fontSize:"0.75rem",color:v,fontWeight:600,display:"flex",alignItems:"center",gap:"2px"},children:[s.jsx("span",{children:w}),s.jsx("span",{children:Math.abs(p.change).toFixed(2)}),s.jsxs("span",{style:{opacity:.8},children:["(",Math.abs(p.changePercent).toFixed(2),"%)"]})]})]},y)})}),s.jsx("style",{children:`
                .spin { animation: spin 1s linear infinite; }
                @keyframes spin { 100% { transform: rotate(360deg); } }
            `})]})};function gS({funds:a}){const[i,r]=N.useState(!1);if(!a||a.length===0)return s.jsxs("div",{className:"mf-card mf-card--empty",children:[s.jsxs("div",{className:"mf-card__header",children:[s.jsx("span",{children:""})," Mutual Funds"]}),s.jsx("p",{className:"mf-card__empty-text",children:"NAV data unavailable"})]});const o=i?a:a.slice(0,4);return s.jsxs("div",{className:"mf-card",children:[s.jsxs("div",{className:"mf-card__header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:""})," Mutual Fund NAVs"]}),s.jsx("span",{className:"mf-card__date",children:a[0]?.navDate||"Latest"})]}),s.jsx("div",{className:"mf-card__list",children:o.map((u,f)=>s.jsxs("div",{className:"mf-fund",children:[s.jsxs("div",{className:"mf-fund__info",children:[s.jsx("div",{className:"mf-fund__name",children:u.name}),s.jsx("div",{className:"mf-fund__category",children:u.category})]}),s.jsxs("div",{className:"mf-fund__nav",children:[s.jsxs("div",{className:"mf-fund__value",children:["",u.nav]}),s.jsxs("div",{className:`mf-fund__change mf-fund__change--${u.direction}`,children:[u.direction==="up"?"":""," ",u.changePercent,"%"]})]})]},u.code||f))}),a.length>4&&s.jsx("button",{className:"mf-card__toggle",onClick:()=>r(!i),children:i?"Show Less ":`Show All (${a.length}) `})]})}function pS({ipoData:a}){const[i,r]=N.useState("upcoming");if(!a)return s.jsxs("div",{className:"ipo-card ipo-card--empty",children:[s.jsxs("div",{className:"ipo-card__header",children:[s.jsx("span",{children:""})," IPO Tracker"]}),s.jsx("p",{children:"IPO data unavailable"})]});const o=[{key:"upcoming",label:"Upcoming",icon:""},{key:"live",label:"Live",icon:""},{key:"recent",label:"Recent",icon:""}],u=a[i]||[];return s.jsxs("div",{className:"ipo-card",children:[s.jsxs("div",{className:"ipo-card__header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:""})," IPO Tracker"]}),a.isFallback&&s.jsx("span",{className:"ipo-card__fallback-badge",children:"Demo Data"})]}),s.jsx("div",{className:"ipo-card__tabs",children:o.map(f=>s.jsxs("button",{className:`ipo-tab ${i===f.key?"ipo-tab--active":""}`,onClick:()=>r(f.key),children:[f.icon," ",f.label,s.jsx("span",{className:"ipo-tab__count",children:a[f.key]?.length||0})]},f.key))}),s.jsx("div",{className:"ipo-card__list",children:u.length===0?s.jsxs("div",{className:"ipo-card__empty",children:["No ",i," IPOs at the moment"]}):u.map((f,h)=>s.jsxs("div",{className:"ipo-item",children:[s.jsxs("div",{className:"ipo-item__header",children:[s.jsxs("div",{className:"ipo-item__name",children:[f.name,f.isSME&&s.jsx("span",{style:{fontSize:"0.6rem",marginLeft:"6px",background:"#333",padding:"2px 4px",borderRadius:"4px"},children:"SME"})]}),s.jsx("div",{className:`ipo-item__status ipo-item__status--${f.status||i}`,children:f.status||i})]}),s.jsxs("div",{className:"ipo-item__details",children:[f.issuePrice&&s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Price Band:"}),s.jsx("span",{className:"ipo-item__value",children:f.issuePrice})]}),s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Open:"}),s.jsx("span",{className:"ipo-item__value",children:f.openDate})]}),s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Close:"}),s.jsx("span",{className:"ipo-item__value",children:f.closeDate})]}),f.issueSize&&f.issueSize!=="-"&&s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Size:"}),s.jsx("span",{className:"ipo-item__value",children:f.issueSize})]})]})]},h))})]})}function yS(){const{marketData:a,loading:i,error:r,refreshMarket:o,lastFetch:u}=Qg(),{settings:f}=pt(),h=f?.market||{},[g,p]=N.useState(()=>Date.now());N.useEffect(()=>{const J=setInterval(()=>p(Date.now()),6e4);return()=>clearInterval(J)},[]);const y=()=>{o()},b=J=>{const re=J?.timestamp||u;return re?g-re:1/0},v=J=>{const re=b(J),se=re>900*1e3;return re>14400*1e3?{opacity:.3,filter:"grayscale(1) brightness(0.7)",transition:"all 0.3s ease"}:se?{opacity:.6,filter:"grayscale(0.5)",transition:"all 0.3s ease"}:{opacity:1,filter:"none",transition:"all 0.3s ease"}},[w,_]=N.useState(!1);N.useEffect(()=>{const J=()=>{_(window.scrollY>400)};return window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)},[]);const j=[(h.showGainers!==!1||h.showLosers!==!1)&&{id:"market-movers",icon:"",label:"Top Movers"},h.showSectorals!==!1&&{id:"sectoral-indices",icon:"",label:"Sectorals"},h.showCommodities!==!1&&{id:"commodities",icon:"",label:"Commodities"},h.showCurrency!==!1&&{id:"currency",icon:"",label:"Currency"},h.showFIIDII!==!1&&{id:"fiidii",icon:"",label:"FII/DII"},h.showMutualFunds!==!1&&{id:"mutual-funds",icon:"",label:"Mutual Funds"},h.showIPO!==!1&&{id:"ipo-tracker",icon:"",label:"IPO Watch"}].filter(Boolean);if(i&&!a)return s.jsx("div",{className:"page-container",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Market Data..."})]})});const{indices:A,mutualFunds:k,ipo:I,movers:C,sectorals:B,commodities:Z,currencies:$,fiidii:te}=a||{},P=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsxs("div",{className:"page-container",style:{padding:0},children:[s.jsx(mS,{indices:A,onRefresh:y,loading:i,lastUpdated:u}),s.jsxs("main",{className:"main-content market-page",style:{padding:"16px",marginTop:0},children:[r&&s.jsx("div",{className:"error-state",style:{marginBottom:"16px",padding:"12px",background:"rgba(255, 71, 87, 0.1)",border:"1px solid var(--accent-danger)",borderRadius:"8px",color:"var(--accent-danger)"},children:s.jsx("p",{style:{margin:0},children:"Failed to load market data. Showing cached data."})}),(h.showGainers!==!1||h.showLosers!==!1)&&s.jsxs("section",{id:"market-movers",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Top Movers"]}),s.jsxs("div",{className:"movers-grid",children:[h.showGainers!==!1&&s.jsxs("div",{className:"movers-column movers-column--gainers",children:[s.jsx("h3",{className:"movers-column__title",children:" Top Gainers"}),C?.gainers?.slice(0,5).map((J,re)=>s.jsxs("div",{className:"mover-item",style:v(J),children:[s.jsx("div",{className:"mover-item__symbol",children:J.symbol}),s.jsxs("div",{className:"mover-item__price",children:["",J.price]}),s.jsxs("div",{className:"mover-item__change text-success",children:["+",J.changePercent,"%"]})]},re))]}),h.showLosers!==!1&&s.jsxs("div",{className:"movers-column movers-column--losers",children:[s.jsx("h3",{className:"movers-column__title",children:" Top Losers"}),C?.losers?.slice(0,5).map((J,re)=>s.jsxs("div",{className:"mover-item",style:v(J),children:[s.jsx("div",{className:"mover-item__symbol",children:J.symbol}),s.jsxs("div",{className:"mover-item__price",children:["",J.price]}),s.jsxs("div",{className:"mover-item__change text-danger",children:[J.changePercent,"%"]})]},re))]})]})]}),h.showSectorals!==!1&&s.jsxs("section",{id:"sectoral-indices",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Sectoral Indices"]}),s.jsx("div",{className:"sectoral-grid",children:B?.map((J,re)=>s.jsxs("div",{className:"sectoral-card",style:v(J),children:[s.jsx("div",{className:"sectoral-card__name",children:J.name}),s.jsx("div",{className:"sectoral-card__value",children:J.value}),s.jsxs("div",{className:`sectoral-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"":""," ",J.changePercent,"%"]})]},re))})]}),h.showCommodities!==!1&&s.jsxs("section",{id:"commodities",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Commodity Watch"]}),s.jsx("div",{className:"commodity-grid",children:Z?.map((J,re)=>s.jsxs("div",{className:"commodity-card",style:v(J),children:[s.jsx("div",{className:"commodity-card__name",children:J.name}),s.jsxs("div",{className:"commodity-card__value",children:[J.value," ",s.jsx("span",{className:"commodity-card__unit",children:J.unit})]}),s.jsxs("div",{className:`commodity-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"+":"",J.changePercent,"%"]})]},re))})]}),h.showCurrency!==!1&&s.jsxs("section",{id:"currency",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Currency Rates"]}),s.jsx("div",{className:"currency-grid",children:$?.map((J,re)=>s.jsxs("div",{className:"currency-card",style:v(J),children:[s.jsx("div",{className:"currency-card__name",children:J.name}),s.jsxs("div",{className:"currency-card__value",children:["",J.value]}),s.jsxs("div",{className:`currency-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"+":"",J.changePercent,"%"]})]},re))})]}),h.showFIIDII!==!1&&s.jsxs("section",{id:"fiidii",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," FII/DII Activity"]}),s.jsxs("div",{className:"fiidii-container",children:[s.jsxs("div",{className:"fiidii-block",children:[s.jsx("h3",{className:"fiidii-block__title",children:"FII (Foreign Investors)"}),s.jsxs("div",{className:"fiidii-stats",children:[s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Buy:"}),s.jsxs("span",{className:"fiidii-stat__value text-success",children:["",te?.fii?.buy," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Sell:"}),s.jsxs("span",{className:"fiidii-stat__value text-danger",children:["",te?.fii?.sell," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Net:"}),s.jsxs("span",{className:`fiidii-stat__value ${te?.fii?.net>=0?"text-success":"text-danger"}`,children:["",te?.fii?.net," Cr"]})]})]})]}),s.jsxs("div",{className:"fiidii-block",children:[s.jsx("h3",{className:"fiidii-block__title",children:"DII (Domestic Investors)"}),s.jsxs("div",{className:"fiidii-stats",children:[s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Buy:"}),s.jsxs("span",{className:"fiidii-stat__value text-success",children:["",te?.dii?.buy," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Sell:"}),s.jsxs("span",{className:"fiidii-stat__value text-danger",children:["",te?.dii?.sell," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Net:"}),s.jsxs("span",{className:`fiidii-stat__value ${te?.dii?.net>=0?"text-success":"text-danger"}`,children:["",te?.dii?.net," Cr"]})]})]})]}),s.jsxs("div",{className:"fiidii-date",children:["As of: ",te?.date]})]})]}),h.showMutualFunds!==!1&&s.jsxs("section",{id:"mutual-funds",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Mutual Fund NAVs"]}),s.jsx(gS,{funds:k})]}),h.showIPO!==!1&&s.jsxs("section",{id:"ipo-tracker",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," IPO Tracker"]}),s.jsx(pS,{ipoData:I})]}),s.jsxs("div",{className:"market-disclaimer",children:[s.jsx("div",{children:"* Data is for informational purposes only. Not investment advice."}),a?.fetchedAt&&s.jsxs("div",{style:{fontSize:"0.7rem",opacity:.7,marginTop:"4px"},children:["Last Updated: ",new Date(a.fetchedAt).toLocaleString()]})]})]}),s.jsx(fu,{sections:j}),s.jsx("button",{onClick:P,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:w?1:0,pointerEvents:w?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:""})]})}const og="buzz_page_cache";function vS(){const{newsData:a,refreshNews:i,loading:r,loadSection:o}=xr(),{settings:u}=pt(),[f,h]=N.useState("tamil"),[g,p]=N.useState(null),[y,b]=N.useState(0);N.useEffect(()=>{try{const $=localStorage.getItem(og);if($){const te=JSON.parse($);Date.now()-(te.timestamp||0)<480*60*1e3?(p(te),b(1)):(console.log("[Buzz] Cache expired, showing anyway until live loads"),p(te),b(1))}}catch($){console.warn("Buzz Cache read error",$)}},[]),N.useEffect(()=>{["entertainment","social","technology","local","world","india","chennai"].forEach(te=>o(te))},[o]);const v=tn.useCallback($=>{if(!$)return[];const te=(u.freshnessLimitHours||72)*36e5,P=Date.now();return $.filter(J=>P-(J.publishedAt||0)<te)},[u.freshnessLimitHours]),w=a.entertainment&&a.entertainment.length>0;N.useEffect(()=>{w&&b(3)},[w]);const _=w?a:g?.data||{},j=N.useMemo(()=>{const $=_.entertainment||[],te={tamil:["vijay","ajith","rajini","kamal","dhanush","suriya","vikram","simbu","siva karthikeyan","trisha","nayanthara","anirudh","ar rahman","kollywood","thalapathy","thala","udhayanidhi","vetri maaran","lokesh","nelson","jailer","leo","kanguva","indian 2","vettaiyan","goat","viduthalai","karthi","sethupathi","tamil","chennai"],hindi:["shah rukh","srk","salman","aamir","ranbir","alia","deepika","ranveer","kareena","akshay","bachchan","bollywood","hrithik","katrina","vicky kaushal","karan johar","yrf","dharma","pathaan","jawan","tiger 3","animal","dunki","war 2","singham","hindi","mumbai"],hollywood:["oscar","grammy","emmy","golden globe","marvel","dc","disney","warner bros","universal","tom cruise","dicaprio","nolan","avengers","spider-man","batman","superman","taylor swift","beyonce","kim kardashian","kanye","justin bieber","selena gomez","zendaya","hollywood","bad bunny","rihanna","drake"],ott:["netflix","prime video","hotstar","sonyliv","zee5","aha","streaming","web series","season","episode","ott"]};return $.map(P=>{const J=(P.title+" "+(P.summary||"")).toLowerCase();return te.tamil.some(re=>J.includes(re))?{...P,region:"tamil"}:te.hindi.some(re=>J.includes(re))?{...P,region:"hindi"}:te.hollywood.some(re=>J.includes(re))?{...P,region:"hollywood"}:te.ott.some(re=>J.includes(re))?{...P,region:"ott"}:P})},[_.entertainment]),A=N.useMemo(()=>{const $={india:["india","indian","bollywood","cricket","modi","delhi","mumbai","bangalore","hyderabad","ipl","bcci"],tamilnadu:["chennai","tamil","tamilnadu","kollywood","rajini","kamal","vijay","trichy","coimbatore","madurai","tn"],muscat:["muscat","oman","gulf","gcc","uae","dubai","arab","middle east","expat","omani"]},te=ae=>{const z=(ae.title+" "+(ae.summary||"")).toLowerCase();return $.tamilnadu.some(X=>z.includes(X))?"tamilnadu":$.muscat.some(X=>z.includes(X))?"muscat":$.india.some(X=>z.includes(X))?"india":"world"},P=v(_.social||[]),J=v(_.world||[]),re=v(_.india||[]),se=v(_.chennai||[]),ne=v(_.local||[]),H={world:[],india:[],tamilnadu:[],muscat:[]};P.forEach(ae=>{const z=te(ae);H[z].push({...ae,source:"social"})}),J.filter(ae=>ae.title?.toLowerCase().includes("trend")||ae.title?.toLowerCase().includes("viral")||ae.title?.toLowerCase().includes("social")).forEach(ae=>H.world.push({...ae,source:"world"})),re.filter(ae=>ae.title?.toLowerCase().includes("trend")||ae.title?.toLowerCase().includes("viral")||ae.title?.toLowerCase().includes("social")).forEach(ae=>H.india.push({...ae,source:"india"})),se.forEach(ae=>{H.tamilnadu.push({...ae,source:"chennai"})}),ne.forEach(ae=>{H.muscat.push({...ae,source:"local"})});const ie={world:u.socialTrends?.worldCount??8,india:u.socialTrends?.indiaCount??8,tamilnadu:u.socialTrends?.tamilnaduCount??5,muscat:u.socialTrends?.muscatCount??4},le=[];return Object.entries(ie).forEach(([ae,z])=>{const X=H[ae];X.sort((M,W)=>(W.publishedAt||0)-(M.publishedAt||0)),X.slice(0,z).forEach(M=>{le.push({...M,region:ae,regionLabel:ae==="world"?" World":ae==="india"?" India":ae==="tamilnadu"?" Tamil Nadu":" Muscat"})})}),le.sort((ae,z)=>(z.publishedAt||0)-(ae.publishedAt||0)),le},[_,u.freshnessLimitHours,u.socialTrends,v]);N.useEffect(()=>{if(w)try{const $={timestamp:Date.now(),data:{entertainment:a.entertainment,social:a.social,technology:a.technology,world:a.world,india:a.india,chennai:a.chennai,local:a.local}};localStorage.setItem(og,JSON.stringify($))}catch($){console.warn("Buzz Cache write error",$)}},[w,a]);const k=()=>{b(3),i(["technology","social","world","india","chennai","local"])},I=[{id:"entertainment",icon:"",label:"Entertainment"},{id:"social-trends",icon:"",label:"Social Trends"},{id:"tech-news",icon:"",label:"Tech & Startups"},{id:"ai-innovation",icon:"",label:"AI & Innovation"}],[C,B]=N.useState(!1);N.useEffect(()=>{const $=()=>{window.scrollY>400?B(!0):B(!1)};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[]);const Z=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsxs("div",{className:"page-container",children:[s.jsx(Aa,{title:"Buzz Hub",icon:"",onRefresh:k,loadingPhase:y||(r?3:0)}),s.jsxs("main",{className:"main-content",children:[s.jsxs("section",{id:"entertainment",className:"news-section entertainment-hub",children:[s.jsxs("h2",{className:"news-section__title news-section__title--entertainment",children:[s.jsx("span",{children:""})," Entertainment"]}),s.jsxs("div",{className:"entertainment-tabs",children:[s.jsx("button",{className:`ent-tab ${f==="tamil"?"ent-tab--active":""}`,onClick:()=>h("tamil"),children:" Tamil"}),s.jsx("button",{className:`ent-tab ${f==="hindi"?"ent-tab--active":""}`,onClick:()=>h("hindi"),children:" Hindi"}),s.jsx("button",{className:`ent-tab ${f==="hollywood"?"ent-tab--active":""}`,onClick:()=>h("hollywood"),children:" Hollywood"}),s.jsx("button",{className:`ent-tab ${f==="ott"?"ent-tab--active":""}`,onClick:()=>h("ott"),children:" OTT"})]}),s.jsx("div",{className:"entertainment-content",children:s.jsx(en,{title:f==="tamil"?"Tamil Cinema":f==="hindi"?"Hindi Cinema":f==="hollywood"?"Hollywood":"OTT & Streaming",icon:f==="tamil"?"":f==="hindi"?"":f==="hollywood"?"":"",news:v(j.filter($=>$.region===f)),maxDisplay:f==="tamil"?u.entertainment?.tamilCount??5:f==="hindi"?u.entertainment?.hindiCount??5:f==="hollywood"?u.entertainment?.hollywoodCount??3:u.entertainment?.ottCount??2,hideTitle:!0,showCritics:!1})})]}),s.jsxs("section",{id:"social-trends",className:"news-section",children:[s.jsxs("h2",{className:"news-section__title news-section__title--social",children:[s.jsx("span",{children:""})," Social Trends"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",padding:"0 16px"},children:[A.map(($,te)=>s.jsx(ir,{article:{...$,time:$.time||"Recently"},href:$.link,badge:$.regionLabel,size:"medium"},te)),A.length===0&&s.jsx("div",{className:"empty-state",style:{gridColumn:"1/-1"},children:s.jsx("p",{children:"No social trends available"})})]})]}),s.jsx(en,{id:"tech-news",title:"Tech & Startups",icon:"",colorClass:"news-section__title--world",news:v(_.technology),maxDisplay:u.sections?.technology?.count||5,showCritics:!1}),s.jsx(en,{id:"ai-innovation",title:"AI & Innovation",icon:"",colorClass:"news-section__title--entertainment",news:v(_.technology?.filter($=>$.title?.toLowerCase().includes("ai")||$.title?.toLowerCase().includes("innovation")||$.title?.toLowerCase().includes("machine learning")||$.title?.toLowerCase().includes("chatgpt")||$.title?.toLowerCase().includes("gemini"))),maxDisplay:6,showCritics:!1})]}),s.jsx(fu,{sections:I}),s.jsx("button",{onClick:Z,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(var(--bg-card), 0.6)",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:C?1:0,pointerEvents:C?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},className:"back-to-top",children:""})]})}const xS=({article:a,sourceName:i,isTranslated:r})=>{const o=r&&a.title_en?a.title_en:a.title;return s.jsxs("article",{className:"newspaper-card",children:[i&&s.jsx("div",{className:"newspaper-card__source",children:i}),s.jsx("h3",{className:"newspaper-card__title",children:s.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",children:o})}),s.jsx("div",{className:"newspaper-card__footer",children:s.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"newspaper-card__link",children:["Read Full Story ",s.jsx(jb,{size:10})]})})]})};var cg;(function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"})(cg||(cg={}));var ug;(function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"})(ug||(ug={}));var dg;(function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(dg||(dg={}));const fg=["user","model","function","system"];var hg;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hg||(hg={}));var mg;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(mg||(mg={}));var gg;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(gg||(gg={}));var pg;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"})(pg||(pg={}));var Ai;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"})(Ai||(Ai={}));var yg;(function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"})(yg||(yg={}));var vg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(vg||(vg={}));var xg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(xg||(xg={}));class ht extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class _l extends ht{constructor(i,r){super(i),this.response=r}}class yp extends ht{constructor(i,r,o,u){super(i),this.status=r,this.statusText=o,this.errorDetails=u}}class na extends ht{}class vp extends ht{}const bS="https://generativelanguage.googleapis.com",SS="v1beta",wS="0.24.1",jS="genai-js";var Ra;(function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ra||(Ra={}));class _S{constructor(i,r,o,u,f){this.model=i,this.task=r,this.apiKey=o,this.stream=u,this.requestOptions=f}toString(){var i,r;const o=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||SS;let f=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||bS}/${o}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function NS(a){const i=[];return a?.apiClient&&i.push(a.apiClient),i.push(`${jS}/${wS}`),i.join(" ")}async function ES(a){var i;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",NS(a.requestOptions)),r.append("x-goog-api-key",a.apiKey);let o=(i=a.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(u){throw new na(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${u.message}`)}for(const[u,f]of o.entries()){if(u==="x-goog-api-key")throw new na(`Cannot set reserved header name ${u}`);if(u==="x-goog-api-client")throw new na(`Header name ${u} can only be set using the apiClient field`);r.append(u,f)}}return r}async function CS(a,i,r,o,u,f){const h=new _S(a,i,r,o,f);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},RS(f)),{method:"POST",headers:await ES(h),body:u})}}async function Li(a,i,r,o,u,f={},h=fetch){const{url:g,fetchOptions:p}=await CS(a,i,r,o,u,f);return TS(g,p,h)}async function TS(a,i,r=fetch){let o;try{o=await r(a,i)}catch(u){AS(u,a)}return o.ok||await MS(o,a),o}function AS(a,i){let r=a;throw r.name==="AbortError"?(r=new vp(`Request aborted when fetching ${i.toString()}: ${a.message}`),r.stack=a.stack):a instanceof yp||a instanceof na||(r=new ht(`Error fetching from ${i.toString()}: ${a.message}`),r.stack=a.stack),r}async function MS(a,i){let r="",o;try{const u=await a.json();r=u.error.message,u.error.details&&(r+=` ${JSON.stringify(u.error.details)}`,o=u.error.details)}catch{}throw new yp(`Error fetching from ${i.toString()}: [${a.status} ${a.statusText}] ${r}`,a.status,a.statusText,o)}function RS(a){const i={};if(a?.signal!==void 0||a?.timeout>=0){const r=new AbortController;a?.timeout>=0&&setTimeout(()=>r.abort(),a.timeout),a?.signal&&a.signal.addEventListener("abort",()=>{r.abort()}),i.signal=r.signal}return i}function mu(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),sr(a.candidates[0]))throw new _l(`${Pn(a)}`,a);return kS(a)}else if(a.promptFeedback)throw new _l(`Text not available. ${Pn(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sr(a.candidates[0]))throw new _l(`${Pn(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),bg(a)[0]}else if(a.promptFeedback)throw new _l(`Function call not available. ${Pn(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sr(a.candidates[0]))throw new _l(`${Pn(a)}`,a);return bg(a)}else if(a.promptFeedback)throw new _l(`Function call not available. ${Pn(a)}`,a)},a}function kS(a){var i,r,o,u;const f=[];if(!((r=(i=a.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const h of(u=(o=a.candidates)===null||o===void 0?void 0:o[0].content)===null||u===void 0?void 0:u.parts)h.text&&f.push(h.text),h.executableCode&&f.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&f.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function bg(a){var i,r,o,u;const f=[];if(!((r=(i=a.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const h of(u=(o=a.candidates)===null||o===void 0?void 0:o[0].content)===null||u===void 0?void 0:u.parts)h.functionCall&&f.push(h.functionCall);if(f.length>0)return f}const OS=[Ai.RECITATION,Ai.SAFETY,Ai.LANGUAGE];function sr(a){return!!a.finishReason&&OS.includes(a.finishReason)}function Pn(a){var i,r,o;let u="";if((!a.candidates||a.candidates.length===0)&&a.promptFeedback)u+="Response was blocked",!((i=a.promptFeedback)===null||i===void 0)&&i.blockReason&&(u+=` due to ${a.promptFeedback.blockReason}`),!((r=a.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(u+=`: ${a.promptFeedback.blockReasonMessage}`);else if(!((o=a.candidates)===null||o===void 0)&&o[0]){const f=a.candidates[0];sr(f)&&(u+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(u+=`: ${f.finishMessage}`))}return u}function ki(a){return this instanceof ki?(this.v=a,this):new ki(a)}function DS(a,i,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(a,i||[]),u,f=[];return u={},h("next"),h("throw"),h("return"),u[Symbol.asyncIterator]=function(){return this},u;function h(w){o[w]&&(u[w]=function(_){return new Promise(function(j,A){f.push([w,_,j,A])>1||g(w,_)})})}function g(w,_){try{p(o[w](_))}catch(j){v(f[0][3],j)}}function p(w){w.value instanceof ki?Promise.resolve(w.value.v).then(y,b):v(f[0][2],w)}function y(w){g("next",w)}function b(w){g("throw",w)}function v(w,_){w(_),f.shift(),f.length&&g(f[0][0],f[0][1])}}const Sg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function zS(a){const i=a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=BS(i),[o,u]=r.tee();return{stream:US(o),response:LS(u)}}async function LS(a){const i=[],r=a.getReader();for(;;){const{done:o,value:u}=await r.read();if(o)return mu(HS(i));i.push(u)}}function US(a){return DS(this,arguments,function*(){const r=a.getReader();for(;;){const{value:o,done:u}=yield ki(r.read());if(u)break;yield yield ki(mu(o))}})}function BS(a){const i=a.getReader();return new ReadableStream({start(o){let u="";return f();function f(){return i.read().then(({value:h,done:g})=>{if(g){if(u.trim()){o.error(new ht("Failed to parse stream"));return}o.close();return}u+=h;let p=u.match(Sg),y;for(;p;){try{y=JSON.parse(p[1])}catch{o.error(new ht(`Error parsing JSON response: "${p[1]}"`));return}o.enqueue(y),u=u.substring(p[0].length),p=u.match(Sg)}return f()}).catch(h=>{let g=h;throw g.stack=h.stack,g.name==="AbortError"?g=new vp("Request aborted when reading from the stream"):g=new ht("Error reading from the stream"),g})}}})}function HS(a){const i=a[a.length-1],r={promptFeedback:i?.promptFeedback};for(const o of a){if(o.candidates){let u=0;for(const f of o.candidates)if(r.candidates||(r.candidates=[]),r.candidates[u]||(r.candidates[u]={index:u}),r.candidates[u].citationMetadata=f.citationMetadata,r.candidates[u].groundingMetadata=f.groundingMetadata,r.candidates[u].finishReason=f.finishReason,r.candidates[u].finishMessage=f.finishMessage,r.candidates[u].safetyRatings=f.safetyRatings,f.content&&f.content.parts){r.candidates[u].content||(r.candidates[u].content={role:f.content.role||"user",parts:[]});const h={};for(const g of f.content.parts)g.text&&(h.text=g.text),g.functionCall&&(h.functionCall=g.functionCall),g.executableCode&&(h.executableCode=g.executableCode),g.codeExecutionResult&&(h.codeExecutionResult=g.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),r.candidates[u].content.parts.push(h)}u++}o.usageMetadata&&(r.usageMetadata=o.usageMetadata)}return r}async function xp(a,i,r,o){const u=await Li(i,Ra.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(r),o);return zS(u)}async function bp(a,i,r,o){const f=await(await Li(i,Ra.GENERATE_CONTENT,a,!1,JSON.stringify(r),o)).json();return{response:mu(f)}}function Sp(a){if(a!=null){if(typeof a=="string")return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)return a.role?a:{role:"system",parts:a.parts}}}function Oi(a){let i=[];if(typeof a=="string")i=[{text:a}];else for(const r of a)typeof r=="string"?i.push({text:r}):i.push(r);return IS(i)}function IS(a){const i={role:"user",parts:[]},r={role:"function",parts:[]};let o=!1,u=!1;for(const f of a)"functionResponse"in f?(r.parts.push(f),u=!0):(i.parts.push(f),o=!0);if(o&&u)throw new ht("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!u)throw new ht("No content is provided for sending chat message.");return o?i:r}function qS(a,i){var r;let o={model:i?.model,generationConfig:i?.generationConfig,safetySettings:i?.safetySettings,tools:i?.tools,toolConfig:i?.toolConfig,systemInstruction:i?.systemInstruction,cachedContent:(r=i?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const u=a.generateContentRequest!=null;if(a.contents){if(u)throw new na("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=a.contents}else if(u)o=Object.assign(Object.assign({},o),a.generateContentRequest);else{const f=Oi(a);o.contents=[f]}return{generateContentRequest:o}}function wg(a){let i;return a.contents?i=a:i={contents:[Oi(a)]},a.systemInstruction&&(i.systemInstruction=Sp(a.systemInstruction)),i}function GS(a){return typeof a=="string"||Array.isArray(a)?{content:Oi(a)}:a}const jg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],YS={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function $S(a){let i=!1;for(const r of a){const{role:o,parts:u}=r;if(!i&&o!=="user")throw new ht(`First content should be with role 'user', got ${o}`);if(!fg.includes(o))throw new ht(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(fg)}`);if(!Array.isArray(u))throw new ht("Content should have 'parts' property with an array of Parts");if(u.length===0)throw new ht("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of u)for(const p of jg)p in g&&(f[p]+=1);const h=YS[o];for(const g of jg)if(!h.includes(g)&&f[g]>0)throw new ht(`Content with role '${o}' can't contain '${g}' part`);i=!0}}function _g(a){var i;if(a.candidates===void 0||a.candidates.length===0)return!1;const r=(i=a.candidates[0])===null||i===void 0?void 0:i.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const o of r.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}const Ng="SILENT_ERROR";class VS{constructor(i,r,o,u={}){this.model=r,this.params=o,this._requestOptions=u,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,o?.history&&($S(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,r={}){var o,u,f,h,g,p;await this._sendPromise;const y=Oi(i),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,y]},v=Object.assign(Object.assign({},this._requestOptions),r);let w;return this._sendPromise=this._sendPromise.then(()=>bp(this._apiKey,this.model,b,v)).then(_=>{var j;if(_g(_.response)){this._history.push(y);const A=Object.assign({parts:[],role:"model"},(j=_.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(A)}else{const A=Pn(_.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}w=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,w}async sendMessageStream(i,r={}){var o,u,f,h,g,p;await this._sendPromise;const y=Oi(i),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,y]},v=Object.assign(Object.assign({},this._requestOptions),r),w=xp(this._apiKey,this.model,b,v);return this._sendPromise=this._sendPromise.then(()=>w).catch(_=>{throw new Error(Ng)}).then(_=>_.response).then(_=>{if(_g(_)){this._history.push(y);const j=Object.assign({},_.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=Pn(_);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(_=>{_.message!==Ng&&console.error(_)}),w}}async function FS(a,i,r,o){return(await Li(i,Ra.COUNT_TOKENS,a,!1,JSON.stringify(r),o)).json()}async function KS(a,i,r,o){return(await Li(i,Ra.EMBED_CONTENT,a,!1,JSON.stringify(r),o)).json()}async function XS(a,i,r,o){const u=r.requests.map(h=>Object.assign(Object.assign({},h),{model:i}));return(await Li(i,Ra.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:u}),o)).json()}class Eg{constructor(i,r,o={}){this.apiKey=i,this._requestOptions=o,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Sp(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(i,r={}){var o;const u=wg(i),f=Object.assign(Object.assign({},this._requestOptions),r);return bp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},u),f)}async generateContentStream(i,r={}){var o;const u=wg(i),f=Object.assign(Object.assign({},this._requestOptions),r);return xp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},u),f)}startChat(i){var r;return new VS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),this._requestOptions)}async countTokens(i,r={}){const o=qS(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),u=Object.assign(Object.assign({},this._requestOptions),r);return FS(this.apiKey,this.model,o,u)}async embedContent(i,r={}){const o=GS(i),u=Object.assign(Object.assign({},this._requestOptions),r);return KS(this.apiKey,this.model,o,u)}async batchEmbedContents(i,r={}){const o=Object.assign(Object.assign({},this._requestOptions),r);return XS(this.apiKey,this.model,i,o)}}class QS{constructor(i){this.apiKey=i}getGenerativeModel(i,r){if(!i.model)throw new ht("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Eg(this.apiKey,i,r)}getGenerativeModelFromCachedContent(i,r,o){if(!i.name)throw new na("Cached content must contain a `name` field.");if(!i.model)throw new na("Cached content must contain a `model` field.");const u=["model","systemInstruction"];for(const h of u)if(r?.[h]&&i[h]&&r?.[h]!==i[h]){if(h==="model"){const g=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,p=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(g===p)continue}throw new na(`Different value for "${h}" specified in modelParams (${r[h]}) and cachedContent (${i[h]})`)}const f=Object.assign(Object.assign({},r),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new Eg(this.apiKey,f,o)}}let Cg=null,cu=null;const Tg=a=>{if(!a)return!1;try{return Cg=new QS(a),cu=Cg.getGenerativeModel({model:"gemini-1.5-flash"}),!0}catch(i){return console.error("Failed to initialize Gemini AI:",i),!1}},tu={generateSummary:async(a,i,r=!1)=>{if(!Tg(i))throw new Error("Invalid or missing API Key");let u=`You are a professional news editor. Summarize the following news headlines into a concise, insightful daily briefing (3-4 bullet points).

Headlines:
${a.slice(0,15).map(f=>`- ${f.title}`).join(`
`)}`;r?u+=`

REQUIREMENTS:
1. Provide the summary in TWO languages: English and Tamil.
2. SEPARATE the English summary and Tamil summary with the exact delimiter "|||".

OUTPUT FORMAT:
<English Summary>
|||
<Tamil Summary>`:u+=`

REQUIREMENTS:
1. Language: English ONLY.
2. No introductory text.`;try{const g=(await(await cu.generateContent(u)).response).text().trim();if(r&&g.includes("|||")){const p=g.split("|||");return{summary:p[0].trim(),summary_ta:p[1].trim()}}return{summary:g}}catch(f){throw console.error("Summary generation failed:",f),new Error("AI Generation Failed. Check your API Key or Quota.")}},translateTexts:async(a,i)=>{if(!Tg(i))throw new Error("Invalid or missing API Key");const o=`Translate the following news headlines to English. Maintain journalistic style. Return ONLY the translated list, numbered exactly as input.

${a.map((u,f)=>`${f+1}. ${u}`).join(`
`)}`;try{const g=(await(await cu.generateContent(o)).response).text().split(`
`),p=new Array(a.length).fill(null);return g.forEach(y=>{const b=y.match(/^(\d+)\.\s+(.*)/);if(b){const v=parseInt(b[1])-1;v>=0&&v<a.length&&(p[v]=b[2].trim())}}),p}catch(u){throw console.error("Translation failed:",u),u}}},ZS="https://api.allorigins.win/raw?url=";async function WS(a){if(!a)return"";try{const i=ZS+encodeURIComponent(a),r=await fetch(i,{signal:AbortSignal.timeout(12e3)});if(!r.ok)return"";const o=await r.text();return JS(o)}catch{return""}}function JS(a){const r=new DOMParser().parseFromString(a,"text/html");r.querySelectorAll("script, style, nav, footer, header, aside, .ad, .advertisement, .social-share, .comments").forEach(h=>h.remove());const o=["article",'[itemprop="articleBody"]',".article-body",".story-content",".article-content",".post-content",".entry-content",".td-post-content","#article-body",".story-element","main"];for(const h of o){const g=r.querySelector(h);if(g){const p=g.textContent.trim();if(p.length>200)return p.slice(0,5e3)}}return Array.from(r.querySelectorAll("p")).map(h=>h.textContent.trim()).filter(h=>h.length>40).join(`

`).slice(0,5e3)}async function PS(a,i=5){if(!a||a.length<100)return a||"";const r=await ew(a);return r||tw(a,i)}async function ew(a){try{if(!("ai"in self)||!("summarizer"in self.ai)||(await self.ai.summarizer.capabilities()).available==="no")return null;const r=await self.ai.summarizer.create({type:"key-points",format:"plain-text",length:"medium"}),o=await r.summarize(a);return r.destroy(),o}catch{return null}}function tw(a,i=5){const r=a.replace(/([.!?])\s+/g,`$1
`).split(`
`).map(g=>g.trim()).filter(g=>g.length>20&&g.length<500);if(r.length<=i)return r.join(" ");const o=a.toLowerCase().split(/\W+/).filter(g=>g.length>3),u={};for(const g of o)u[g]=(u[g]||0)+1;const f=r.map((g,p)=>{const y=g.toLowerCase().split(/\W+/).filter(v=>v.length>3);let b=0;for(const v of y)b+=u[v]||0;return b=b/Math.max(y.length,1),p<3&&(b*=1.3),p===r.length-1&&(b*=1.1),{sentence:g,score:b,index:p}});f.sort((g,p)=>p.score-g.score);const h=f.slice(0,i);return h.sort((g,p)=>g.index-p.index),h.map(g=>g.sentence).join(" ")}const nw={THE_HINDU:{sections:[{id:"india",title:"Front Page",limit:10},{id:"world",title:"International",limit:6},{id:"business",title:"Business",limit:5},{id:"sports",title:"Sport",limit:5}]},INDIAN_EXPRESS:{sections:[{id:"india",title:"Front Page",limit:10},{id:"world",title:"World",limit:5},{id:"technology",title:"Explained / Tech",limit:5}]},DINAMANI:{sections:[{id:"chennai",title:"Tamil Nadu",limit:10},{id:"entertainment",title:"Cinema",limit:5}]},DAILY_THANTHI:{sections:[{id:"chennai",title:"Headlines",limit:10},{id:"local",title:"District News",limit:5}]}},aw={getVirtualPaper:async a=>{const i=nw[a];if(!i)return console.warn(`[VirtualPaper] No config for ${a}`),[];console.log(`[VirtualPaper] Generating for ${a}...`);const r=i.sections.map(async u=>{try{const f=await ru(u.id,u.limit);return{page:u.title,articles:f.map(h=>({title:h.title,link:h.link,description:h.description,source:h.source,publishedAt:h.publishedAt}))}}catch(f){return console.error(`[VirtualPaper] Failed to fetch section ${u.id}`,f),{page:u.title,articles:[],error:"Failed to load section"}}});return(await Promise.all(r)).filter(u=>u.articles.length>0)}},lw="./data/epaper_data.json",jn={THE_HINDU:{id:"THE_HINDU",label:"The Hindu",lang:"en"},INDIAN_EXPRESS:{id:"INDIAN_EXPRESS",label:"Indian Express",lang:"en"},DINAMANI:{id:"DINAMANI",label:"Dinamani",lang:"ta"},DAILY_THANTHI:{id:"DAILY_THANTHI",label:"Daily Thanthi",lang:"ta"}},iw=()=>{const{settings:a}=pt(),{isWebView:i}=wr(),[r,o]=N.useState(jn.THE_HINDU.id),[u,f]=N.useState(null),[h,g]=N.useState(null),[p,y]=N.useState(!0),[b,v]=N.useState(null),[w,_]=N.useState(!1),[j,A]=N.useState({}),[k,I]=N.useState({}),[C,B]=N.useState(!1),[Z,$]=N.useState(!1),[te,P]=N.useState(!1),[J,re]=N.useState({}),[se,ne]=N.useState(!1),H=a.newspaper?.summaryLineLimit||50,ie=N.useCallback(async()=>{y(!0),v(null);try{const S=await fetch(`${lw}?t=${Date.now()}`);if(!S.ok)throw new Error("Failed to fetch data");const T=await S.json();if(!T||!T.sources)throw new Error("Invalid data format");f(T.sources),g(T.lastUpdated)}catch(S){console.warn("JSON fetch failed, trying RSS fallback...",S);try{const T=await le();f(T),g(new Date().toISOString())}catch(T){console.error("Fallback failed:",T),v("Failed to load today's paper. Please check your internet connection.")}}finally{y(!1)}},[]),le=async()=>{const S={},T=new Promise((V,ee)=>setTimeout(()=>ee(new Error("Timeout")),15e3)),O=Object.keys(jn).map(async V=>{try{const ee=await aw.getVirtualPaper(V);ee&&ee.length>0&&(S[V]=ee)}catch(ee){console.warn(`Virtual Paper failed for ${V}:`,ee.message)}});try{await Promise.race([Promise.all(O),T])}catch(V){console.warn("Virtual Paper fetch timed out or failed:",V)}if(Object.keys(S).length===0)throw new Error("Failed to generate Virtual Paper. Please check connection.");return S};N.useEffect(()=>{ie()},[ie]),N.useEffect(()=>{(async()=>{if(!u||!u[r]||!a.geminiKey)return;const T=u[r],O=jn[r].lang==="ta";for(const V of T){const ee=!V.summary&&!V.summary_ta||V.error,oe=j[V.page];if(ee&&!oe&&!C){B(!0);try{console.log(`Generating fallback summary for ${V.page}...`);const de=await tu.generateSummary(V.articles,a.geminiKey,O);A(we=>({...we,[V.page]:de}))}catch(de){console.error(`Failed to generate summary for ${V.page}:`,de)}finally{B(!1)}}}})()},[u,r,a.geminiKey,j,C]);const ae=N.useCallback(async(S,T)=>{const O=`${r}_${S}`;if(J[O])return;const V=T?.[0];if(V?.link)try{const ee=await WS(V.link);if(ee&&ee.length>200){const oe=await PS(ee,6);oe&&re(de=>({...de,[O]:oe}))}}catch{}},[r,J]);N.useEffect(()=>{(async()=>{if(!w||!u||!u[r]||jn[r].lang==="en"||!a.geminiKey)return;const T=u[r];let O=[],V=[];if(T.forEach(ee=>{ee.articles.forEach(oe=>{const de=oe.title_en,we=k[oe.link];!de&&!we&&(O.push(oe.title),V.push(oe.link))})}),O.length>0&&!Z){$(!0);try{console.log(`Translating ${O.length} titles...`);const ee=15;for(let oe=0;oe<O.length;oe+=ee){const de=O.slice(oe,oe+ee),we=await tu.translateTexts(de,a.geminiKey);I(je=>{const at={...je};return we.forEach((Dt,ve)=>{const lt=oe+ve;V[lt]&&(at[V[lt]]=Dt)}),at})}}catch(ee){console.error("Translation failed:",ee)}finally{$(!1)}}})()},[w,u,r,a.geminiKey,k,Z]);const z=S=>{const T=j[S.page];if(T){if(w&&T.summary)return{text:T.summary,method:"gemini"};if(!w&&T.summary_ta)return{text:T.summary_ta,method:"gemini"};if(T.summary)return{text:T.summary,method:"gemini"}}if(w){if(S.summary)return{text:S.summary,method:S.summary_method||"server"};if(S.summary_ta)return{text:S.summary_ta,method:S.summary_method||"server"}}else{if(S.summary_ta)return{text:S.summary_ta,method:S.summary_method||"server"};if(S.summary)return{text:S.summary,method:S.summary_method||"server"}}const O=`${r}_${S.page}`;return J[O]?{text:J[O],method:"extractive"}:null},X=async()=>{if(!u||!u[r])return;ne(!0);const T=u[r].map(async O=>{const V=`${r}_${O.page}`,ee=j[O.page],oe=J[V],de=jn[r].lang==="ta"&&!w?O.summary_ta:O.summary;if(!(ee||oe||de))if(a.geminiKey)try{const we=await tu.generateSummary(O.articles,a.geminiKey,jn[r].lang==="ta");A(je=>({...je,[O.page]:we}))}catch(we){console.error(`Gemini Gen Failed for ${O.page}:`,we)}else try{await ae(O.page,O.articles)}catch(we){console.error(`Client Summary Failed for ${O.page}:`,we)}});await Promise.allSettled(T),ne(!1)};N.useEffect(()=>{if(!u||!u[r])return;const S=u[r][0];S&&!S.summary&&!S.summary_ta&&!a.geminiKey&&ae(S.page,S.articles)},[u,r,a.geminiKey,ae]);const Y=u?u[r]:[],W=jn[r].lang==="ta";return s.jsxs("div",{className:`page-container mode-newspaper ${i?"page-container--desktop":""}`,children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"header__title",children:[s.jsx(Eb,{className:"header__title-icon"}),s.jsx("span",{children:"Daily Brief"})]}),s.jsxs("div",{className:"header__actions",style:{gap:"8px"},children:[s.jsx("button",{onClick:X,className:`btn-icon ${se?"pulse":""}`,title:"Generate All Summaries",disabled:se,style:{color:se?"var(--accent-primary)":"var(--text-secondary)"},children:s.jsx(Sb,{size:18})}),s.jsx("button",{onClick:()=>P(!te),className:`btn-icon ${te?"active":""}`,title:te?"Card View":"Digest View",style:{color:te?"var(--accent-primary)":"var(--text-secondary)",fontSize:"1.1rem"},children:te?"":""}),W&&s.jsx("button",{onClick:()=>_(!w),className:`btn-icon ${w?"active":""}`,title:w?"Show Original (Tamil)":"Translate to English",style:{color:w?"var(--accent-primary)":"var(--text-secondary)"},children:s.jsx(_b,{size:24})}),s.jsx("button",{onClick:ie,className:"btn-icon","aria-label":"Refresh",children:s.jsx(Cb,{className:p?"spin":""})})]})]}),s.jsxs("div",{className:"topline",style:{borderRadius:0,margin:0,borderLeft:"none",borderBottom:"1px solid var(--border-default)",overflowX:"auto"},children:[s.jsx("div",{style:{display:"flex",gap:"8px",minWidth:"max-content"},children:Object.values(jn).map(S=>s.jsx("button",{onClick:()=>{o(S.id),_(!1)},className:`btn ${r===S.id?"btn--primary":"btn--secondary"}`,style:{padding:"8px 12px",fontSize:"0.85rem",whiteSpace:"nowrap"},children:S.label},S.id))}),h&&s.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"8px",textAlign:"center"},children:["Updated: ",new Date(h).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("div",{className:"main-content",style:{padding:"16px"},children:p&&!u?s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Fetching Today's Brief..."})]}):b?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:b}),s.jsx("button",{onClick:ie,className:"btn btn--primary mt-md",children:"Retry"})]}):s.jsxs("div",{className:"newspaper-content",children:[!Y||Y.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"No content available for this source today."})}):Y.map((S,T)=>{const O=z(S),V={gemini:"AI Summary",server:"Summary",extractive:"Auto-Summary",headlines:"Headlines"};return s.jsxs("div",{className:"newspaper-section",style:{marginBottom:"32px"},children:[s.jsxs("h2",{className:"zone-title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("span",{children:S.page}),Z&&w&&s.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-primary)",fontWeight:"normal"},children:"Translating..."})]}),O?s.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"16px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid var(--accent-primary)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--accent-primary)",fontWeight:"bold",marginBottom:"8px"},children:[s.jsx(Nb,{}),s.jsx("span",{children:V[O.method]||"Summary"}),O.method==="extractive"&&s.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"normal",color:"var(--text-muted)",marginLeft:"4px"},children:"(no API key needed)"})]}),s.jsx("div",{style:{whiteSpace:"pre-line",fontSize:"0.95rem",lineHeight:"1.6",fontFamily:"serif",display:"-webkit-box",WebkitLineClamp:H,WebkitBoxOrient:"vertical",overflow:"hidden"},children:O.text})]}):s.jsxs("div",{style:{padding:"12px",marginBottom:"20px",background:"rgba(255, 0, 0, 0.05)",borderLeft:"4px solid var(--accent-danger)",borderRadius:"4px",fontSize:"0.85rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(wb,{color:"var(--accent-danger)"}),s.jsx("span",{children:S.error==="Quota Exceeded"?"Daily AI Limit Reached.":S.error==="API Key Missing"?"AI Summary Unavailable.":"Summary not generated."})]}),!a.geminiKey&&s.jsx(Ta,{to:"/settings",style:{color:"var(--accent-primary)",fontWeight:"bold"},children:"Add Key to Enable"}),a.geminiKey&&C&&s.jsx("span",{style:{color:"var(--accent-primary)"},children:"Generating..."})]}),te?s.jsx("div",{style:{fontSize:"0.9rem",lineHeight:"1.7"},children:S.articles.map((ee,oe)=>{const de=w&&(k[ee.link]||ee.title_en)||ee.title;return s.jsx("div",{style:{padding:"8px 0",borderBottom:"1px solid var(--border-default)"},children:s.jsx("a",{href:ee.link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text-primary)",textDecoration:"none",fontWeight:500},children:de})},oe)})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:S.articles.map((ee,oe)=>{const de={...ee,title_en:k[ee.link]||ee.title_en};return s.jsx(xS,{article:de,sourceName:jn[r].label,isTranslated:w},oe)})})]},T)}),s.jsx("div",{className:"market-disclaimer",style:{marginTop:"32px"},children:"Content aggregated from official sources. Summaries generated by AI. Verify important details from original articles."})]})})]})};function _n({checked:a,onChange:i,recommended:r=!1,disabled:o=!1}){return s.jsxs("label",{className:`toggle ${r?"toggle--recommended":""}`,children:[s.jsx("input",{type:"checkbox",className:"toggle__input",checked:a,onChange:u=>i(u.target.checked),disabled:o}),s.jsx("span",{className:"toggle__slider"})]})}const sw="https://api.allorigins.win/get?url=",rw=a=>/\.(xml|rss|atom)$/i.test(a)||/feed|rss|atom/i.test(a),ow=async a=>{try{if(!a)return[];if(rw(a))return[{title:"Custom Feed",url:a}];const i=encodeURIComponent(a),o=await(await fetch(`${sw}${i}`)).json();if(!o.contents)throw new Error("Failed to fetch page content");const f=new DOMParser().parseFromString(o.contents,"text/html"),h=[];if(f.querySelectorAll('link[rel="alternate"][type="application/rss+xml"], link[rel="alternate"][type="application/atom+xml"]').forEach(p=>{let y=p.getAttribute("href");const b=p.getAttribute("title")||"RSS Feed";if(y&&!y.startsWith("http")){const v=new URL(a);y=new URL(y,v.origin).href}y&&h.push({title:b,url:y})}),h.length===0){const p=["/feed","/rss","/rss.xml","/atom.xml"],y=new URL(a).origin;p.forEach(b=>{h.push({title:`Possible Feed (${b})`,url:`${y}${b}`})})}return h}catch(i){return console.error("Feed discovery failed:",i),[]}},cw="ver.12-02-26 time 17.41",uw=()=>{const{settings:a}=pt(),[i,r]=N.useState([]),[o,u]=N.useState(null);N.useEffect(()=>{try{nn&&typeof nn.getLogs=="function"?r(nn.getLogs()):r([])}catch(h){console.error("Failed to load logs",h),u(h.message)}},[]);const f=h=>{if(typeof h=="object")try{return JSON.stringify(h)}catch{return"[Circular Object]"}return String(h)};return o?s.jsxs("div",{className:"error-state",children:["Debug Error: ",o]}):s.jsxs("div",{className:"settings-tab-content",children:[s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:""})," Debug Info"]}),s.jsxs("div",{className:"settings-card",children:[s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"App Version:"})," ",a?.appVersion||"Unknown"]}),s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"User Agent:"})," ",navigator.userAgent]}),s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"Screen:"})," ",window.innerWidth,"x",window.innerHeight]})]}),s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:""})," Recent Logs"]}),s.jsx("div",{className:"settings-card",style:{maxHeight:"300px",overflowY:"auto",background:"black",color:"#0f0",fontFamily:"monospace",fontSize:"0.7rem",padding:"10px"},children:i.length===0?s.jsx("div",{children:"No logs available."}):i.map((h,g)=>s.jsxs("div",{style:{marginBottom:"4px",borderBottom:"1px solid #333",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:[s.jsxs("span",{style:{color:"#888"},children:["[",new Date(h.timestamp).toLocaleTimeString(),"]"]})," ",s.jsxs("span",{style:{color:h.level==="error"?"red":h.level==="warn"?"orange":"#0f0"},children:[h.level.toUpperCase(),":"]})," ",f(h.message),h.details&&s.jsx("div",{style:{marginLeft:"15px",color:"#aaa",fontSize:"0.65rem"},children:f(h.details)})]},g))}),s.jsx("div",{className:"settings-card",children:s.jsx("button",{className:"btn btn--danger",onClick:()=>{window.confirm("Clear all data?")&&(localStorage.clear(),window.location.reload())},style:{width:"100%"},children:"Clear All Local Storage & Reload"})})]})},dw=a=>{const i=a||{},r=i.freshness?.maxBoost||3,o=i.source?.tier1Boost||5,u=i.visual?.videoBoost||1.3,f=i.geo?.cityMatch||1.5;let h=0;return r>=2.5&&r<=4?h+=1.5:r>1&&(h+=1),o>=4&&o<=7?h+=1.5:o>=2&&(h+=1),u>=1.2&&u<=1.5?h+=1:h+=.5,f>=1.3&&f<=2?h+=1:h+=.5,Math.min(5,Math.max(1,Math.round(h)))};function fw(){const{settings:a,updateSettings:i,reloadSettings:r}=pt(),[o,u]=N.useState("general"),[f,h]=N.useState(!1),[g,p]=N.useState(""),[y,b]=N.useState(!1),[v,w]=N.useState(null),[_,j]=N.useState({}),[A,k]=N.useState(null),[I,C]=N.useState({tier1:"",tier2:"",tier3:""}),[B,Z]=N.useState({title:"Breaking: Major Economic Reforms Announced",description:"Government unveils new policy to boost GDP growth by 2%. Markets rally on the news.",source:"BBC News",age:2,section:"business",result:null});if(N.useEffect(()=>{if(!a?.rankingWeights)return;const M={title:B.title,description:B.description,source:B.source,publishedAt:Date.now()-B.age*60*60*1e3,section:B.section,imageUrl:null},W={...a,debugLogs:!0},S=du(M,B.section,0,W);Z(T=>({...T,result:{score:S,breakdown:M._scoreBreakdown}}))},[B.title,B.description,B.source,B.age,B.section,a]),!a)return s.jsx("div",{className:"loading",children:"Loading..."});const $=(M,W)=>{const S=M.split("."),T={...a};let O=T;for(let V=0;V<S.length-1;V++)O[S[V]]={...O[S[V]]},O=O[S[V]];O[S[S.length-1]]=W,i(T)},te=()=>{h(!0),setTimeout(()=>h(!1),2e3),r()},P=()=>{window.confirm("Reset all settings to defaults?")&&(i({...Ot}),r())},J=(M,W)=>{if(!W||!W.trim())return;const S=M.split(".");let T=a;for(const O of S)T=T?.[O]||[];Array.isArray(T)||(T=[]),T.includes(W.trim())||$(M,[...T,W.trim()])},re=(M,W)=>{const S=M.split(".");let T=a;for(const O of S)T=T?.[O]||[];Array.isArray(T)&&$(M,T.filter(O=>O!==W))},se=(M,W)=>{J(M,W),j({..._,[M]:""})},ne=(M,W)=>{if(!W||!W.trim())return;const S=a.sourceTiers?.[M]||[];S.some(T=>T.toLowerCase()===W.trim().toLowerCase())||$(`sourceTiers.${M}`,[...S,W.trim()]),C({...I,[M]:""})},H=(M,W)=>{const S=a.sourceTiers?.[M]||[];$(`sourceTiers.${M}`,S.filter(T=>T!==W))},ie=async()=>{if(g){b(!0),w(null);try{const M=await ow(g);if(M.length>0){const W=M[0];i({...a,customFeeds:[...a.customFeeds||[],{title:W.title,url:W.url}]}),p("")}else w("No feeds found.")}catch{w("Error discovering feeds.")}finally{b(!1)}}},le=M=>{const W=[...a.customFeeds||[]];W.splice(M,1),i({...a,customFeeds:W})},ae=()=>{const M={settings:a,hiddenEvents:JSON.parse(localStorage.getItem("upAhead_hiddenEvents")||"[]"),watchlist:JSON.parse(localStorage.getItem("upAhead_watchlist")||"[]"),readingHistory:a.readingHistory||[]},W="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(M,null,2)),S=document.createElement("a");S.setAttribute("href",W),S.setAttribute("download","news_app_full_backup.json"),document.body.appendChild(S),S.click(),S.remove()},z=M=>{const W=M.target.files[0];if(!W)return;const S=new FileReader;S.onload=T=>{try{const O=JSON.parse(T.target.result);window.confirm("Replace current settings, hidden events, and watchlist with imported data?")&&(O.settings?(i(O.settings),O.hiddenEvents&&localStorage.setItem("upAhead_hiddenEvents",JSON.stringify(O.hiddenEvents)),O.watchlist&&localStorage.setItem("upAhead_watchlist",JSON.stringify(O.watchlist))):i(O),r())}catch{alert("Invalid backup file")}},S.readAsText(W)},X=[{id:"general",label:"General",icon:""},{id:"ranking",label:"Ranking & Logic",icon:""},{id:"weather",label:"Weather",icon:""},{id:"sources",label:"Sources",icon:""},{id:"market",label:"Market",icon:""},{id:"sandbox",label:"Sandbox",icon:""},{id:"advanced",label:"Advanced",icon:""},{id:"debug",label:"Debug",icon:""}],Y=()=>{switch(o){case"general":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"Interface"}),s.jsxs(Je,{children:[s.jsx(Fe,{label:"Home Layout",subLabel:"Timeline / Classic / Newspaper",children:s.jsxs("select",{value:a.uiMode||"timeline",onChange:M=>i({...a,uiMode:M.target.value}),className:"settings-select",children:[s.jsx("option",{value:"timeline",children:" Timeline"}),s.jsx("option",{value:"classic",children:" Classic"}),s.jsx("option",{value:"newspaper",children:" Newspaper"})]})}),s.jsx(Fe,{label:"Font Size",subLabel:`${a.fontSize||26}px`,children:s.jsx("input",{type:"range",min:"14",max:"34",step:"1",value:a.fontSize||26,onChange:M=>i({...a,fontSize:parseInt(M.target.value)}),style:{width:"100%"}})})]}),s.jsx(We,{icon:"",title:"AI Configuration"}),s.jsx(Je,{children:s.jsxs("div",{className:"settings-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsxs("div",{className:"settings-item__label",children:[s.jsx("span",{children:"Gemini API Key"}),s.jsx("small",{style:{display:"block",color:"var(--text-muted)",fontSize:"0.65rem"},children:"Required for client-side fallback."})]}),s.jsx("input",{type:"password",value:a.geminiKey||"",onChange:M=>i({...a,geminiKey:M.target.value}),className:"settings-input",placeholder:"Enter API Key"})]})}),s.jsx(We,{icon:"",title:"Market Data"}),s.jsx(Je,{children:s.jsxs("div",{className:"settings-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsx("div",{className:"settings-item__label",children:s.jsx("span",{children:"Alpha Vantage API Key"})}),s.jsx("input",{type:"password",value:a.alphaVantageKey||"",onChange:M=>i({...a,alphaVantageKey:M.target.value}),className:"settings-input",placeholder:"Enter AV Key"})]})})]});case"ranking":return s.jsx(hw,{settings:a,updateNested:$,updateSettings:i,addToList:J,removeFromList:re});case"weather":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"Locations"}),s.jsxs(Je,{children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"10px"},children:"Active Cities"}),s.jsxs("div",{style:{display:"grid",gap:"10px",marginBottom:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"1."}),s.jsx("input",{type:"text",value:"Chennai",disabled:!0,className:"settings-input",style:{opacity:.7}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"2."}),s.jsx("input",{type:"text",value:"Trichy",disabled:!0,className:"settings-input",style:{opacity:.7}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"3."}),s.jsx("input",{type:"text",value:a.weather?.cities?.[2]||"Muscat",onChange:M=>{const W=[...a.weather?.cities||["chennai","trichy","muscat"]];W[2]=M.target.value,$("weather.cities",W)},className:"settings-input",placeholder:"Enter city..."})]})]})]}),s.jsx(We,{icon:"",title:"Weather Models"}),s.jsxs(Je,{children:[s.jsx(Fe,{label:"ECMWF (European)",children:s.jsx(_n,{checked:a.weather?.models?.ecmwf!==!1,onChange:M=>$("weather.models.ecmwf",M)})}),s.jsx(Fe,{label:"GFS (NOAA)",children:s.jsx(_n,{checked:a.weather?.models?.gfs!==!1,onChange:M=>$("weather.models.gfs",M)})}),s.jsx(Fe,{label:"ICON (DWD)",children:s.jsx(_n,{checked:a.weather?.models?.icon!==!1,onChange:M=>$("weather.models.icon",M)})})]})]});case"sources":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"News Sources"}),s.jsxs(Je,{children:[s.jsxs("div",{className:"settings-item",style:{borderBottom:"1px solid var(--accent-danger)",background:"rgba(220, 38, 38, 0.15)",padding:"10px"},children:[s.jsxs("div",{className:"settings-item__label",style:{color:"var(--accent-danger)"},children:[s.jsx("span",{children:" Top Websites Only"}),s.jsx("small",{style:{display:"block",color:"var(--text-muted)"},children:"BBC, Reuters, NDTV, Hindu, TOI..."})]}),s.jsx(_n,{checked:a.topWebsitesOnly===!0,onChange:M=>i({...a,topWebsitesOnly:M})})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",padding:"10px"},children:Object.keys(a.newsSources||{}).map(M=>s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.8rem"},children:[s.jsx("input",{type:"checkbox",checked:a.newsSources?.[M]!==!1,onChange:W=>$(`newsSources.${M}`,W.target.checked),disabled:a.topWebsitesOnly}),M]},M))})]}),s.jsx(We,{icon:"",title:"Source Tiers"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:"Classify sources to boost their ranking score."}),s.jsx(Nl,{label:`Tier 1 (High Boost: ${a.rankingWeights?.source?.tier1Boost||.5}x)`,placeholder:"e.g. BBC, Reuters",value:I.tier1,onChange:M=>C({...I,tier1:M}),onAdd:()=>ne("tier1",I.tier1),items:a.sourceTiers?.tier1||[],onRemove:M=>H("tier1",M)}),s.jsx(Nl,{label:`Tier 2 (Medium Boost: ${a.rankingWeights?.source?.tier2Boost||.2}x)`,placeholder:"e.g. NDTV, Hindu",value:I.tier2,onChange:M=>C({...I,tier2:M}),onAdd:()=>ne("tier2",I.tier2),items:a.sourceTiers?.tier2||[],onRemove:M=>H("tier2",M)}),s.jsx(Nl,{label:`Tier 3 (No Boost: ${a.rankingWeights?.source?.tier3Boost||0}x)`,placeholder:"e.g. Local Blogs",value:I.tier3,onChange:M=>C({...I,tier3:M}),onAdd:()=>ne("tier3",I.tier3),items:a.sourceTiers?.tier3||[],onRemove:M=>H("tier3",M)})]}),s.jsx(We,{icon:"",title:"Custom Feeds"}),s.jsxs(Je,{children:[s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[s.jsx("input",{type:"text",value:g,onChange:M=>p(M.target.value),placeholder:"RSS URL...",className:"settings-input"}),s.jsx("button",{className:"btn btn--primary",onClick:ie,disabled:y,children:y?"...":"Add"})]}),v&&s.jsx("div",{style:{color:"red",fontSize:"0.75rem"},children:v}),a.customFeeds?.map((M,W)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",padding:"5px 0"},children:[s.jsx("span",{children:M.title||M.url}),s.jsx("button",{onClick:()=>le(W),style:{color:"red"},children:""})]},W))]})]});case"upahead":return null;case"market":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"Market Display"}),s.jsx(Je,{children:Object.keys(a.market||{}).filter(M=>M.startsWith("show")).map(M=>s.jsx(Fe,{label:M.replace("show",""),children:s.jsx(_n,{checked:a.market?.[M]!==!1,onChange:W=>$(`market.${M}`,W)})},M))})]});case"logic":return null;case"sandbox":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"Ranking Sandbox"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:`Simulate how the current settings affect an article's score. Change settings in the "Custom Ranking" tab to see impact here.`}),s.jsx(Je,{children:s.jsxs("div",{style:{display:"grid",gap:"10px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Title"}),s.jsx("input",{className:"settings-input",value:B.title,onChange:M=>Z({...B,title:M.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Description"}),s.jsx("textarea",{className:"settings-input",style:{resize:"vertical",minHeight:"60px"},value:B.description,onChange:M=>Z({...B,description:M.target.value})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Source"}),s.jsxs("select",{className:"settings-select",value:B.source,onChange:M=>Z({...B,source:M.target.value}),style:{width:"100%"},children:[s.jsx("option",{value:"BBC News",children:"BBC (Tier 1)"}),s.jsx("option",{value:"Unknown Blog",children:"Blog (Tier 3)"}),s.jsx("option",{value:"NDTV",children:"NDTV (Tier 2)"}),s.jsx("option",{value:"TechCrunch",children:"TechCrunch"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Section"}),s.jsxs("select",{className:"settings-select",value:B.section,onChange:M=>Z({...B,section:M.target.value}),style:{width:"100%"},children:[s.jsx("option",{value:"world",children:"World (High Priority)"}),s.jsx("option",{value:"business",children:"Business"}),s.jsx("option",{value:"technology",children:"Technology"}),s.jsx("option",{value:"general",children:"General"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:["Age: ",B.age," hours"]}),s.jsx("input",{type:"range",min:"0",max:"72",step:"1",value:B.age,onChange:M=>Z({...B,age:parseInt(M.target.value)}),style:{width:"100%"}})]})]})}),B.result&&s.jsxs("div",{className:"settings-card",style:{border:"1px solid var(--accent-primary)",background:"rgba(0,0,0,0.2)"},children:[s.jsxs("div",{style:{textAlign:"center",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"CALCULATED SCORE"}),s.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--accent-primary)"},children:B.result.score.toFixed(1)})]}),s.jsx("div",{style:{padding:"10px",fontSize:"0.75rem"},children:s.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:s.jsx("tbody",{children:Object.entries(B.result.breakdown||{}).map(([M,W])=>M==="total"||typeof W!="number"?null:s.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[s.jsx("td",{style:{padding:"4px",textTransform:"capitalize",color:"var(--text-secondary)"},children:M.replace(/([A-Z])/g," $1").trim()}),s.jsxs("td",{style:{padding:"4px",textAlign:"right",fontWeight:"bold",color:W>1.5?"#4f4":W<.5?"#f44":"#fff"},children:[W.toFixed(2),M.toLowerCase().includes("boost")||M.toLowerCase().includes("multiplier")?"x":""]})]},M))})})})]})]});case"advanced":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(We,{icon:"",title:"Advanced"}),s.jsxs(Je,{children:[s.jsx(Fe,{label:"Enable News Cache",subLabel:"Faster loads, 5min TTL",children:s.jsx(_n,{checked:a.enableCache!==!1,onChange:M=>i({...a,enableCache:M})})}),s.jsx(Fe,{label:"Crawler Mode",children:s.jsxs("select",{value:a.crawlerMode||"auto",onChange:M=>i({...a,crawlerMode:M.target.value}),className:"settings-select",children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"manual",children:"Manual"})]})}),s.jsx(Fe,{label:"Debug Logs",children:s.jsx(_n,{checked:a.debugLogs===!0,onChange:M=>i({...a,debugLogs:M})})})]}),s.jsx(We,{icon:"",title:"Impact & Priority"}),s.jsxs(Je,{children:[s.jsx(Fe,{label:" Base Impact Weight",subLabel:"Multiplier",children:s.jsx("input",{type:"range",min:"0.5",max:"3.0",step:"0.1",value:a.rankingWeights?.impact?.boost||1,onChange:M=>$("rankingWeights.impact.boost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Fe,{label:" High Impact Boost",subLabel:"Triggers on Major Event Keywords",children:s.jsx("input",{type:"range",min:"1.0",max:"5.0",step:"0.1",value:a.rankingWeights?.impact?.highImpactBoost||2.5,onChange:M=>$("rankingWeights.impact.highImpactBoost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Nl,{label:"Major Event Keywords",placeholder:"e.g. Budget, Treaty, War",value:_.highImpact,onChange:M=>j({..._,highImpact:M}),onAdd:()=>se("highImpactKeywords",_.highImpact),items:a.highImpactKeywords||[],onRemove:M=>re("highImpactKeywords",M)}),s.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"5px"},children:[" Articles containing these words receive the ",s.jsx("strong",{children:"High Impact Boost"})," (above)."]})]}),s.jsx(We,{icon:"",title:"Buzz Ranking"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:'Configuration for "Buzz" and "Social" sections.'}),s.jsx(Fe,{label:" Visual Boost",subLabel:"Videos/Images",children:s.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:a.buzzRankingWeights?.visual?.videoBoost||2,onChange:M=>$("buzzRankingWeights.visual.videoBoost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Fe,{label:" Trend Threshold",subLabel:"Lower = More Trending",children:s.jsx("input",{type:"range",min:"5",max:"20",step:"1",value:a.buzzRankingWeights?.trending?.threshold||10,onChange:M=>$("buzzRankingWeights.trending.threshold",parseFloat(M.target.value)),style:{width:"100%"}})})]}),s.jsx(We,{icon:"",title:"Backup & Sync"}),s.jsxs(Je,{children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"btn btn--secondary",onClick:ae,style:{flex:1},children:"Export Backup"}),s.jsxs("label",{className:"btn btn--secondary",style:{flex:1,cursor:"pointer",textAlign:"center"},children:["Import Backup",s.jsx("input",{type:"file",accept:".json",onChange:z,style:{display:"none"}})]})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"8px"},children:"Saves Settings, Hidden Events (Plan My Week), and Watchlist to a file."})]})]});case"debug":return s.jsx(uw,{});default:return null}};return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[s.jsx(Aa,{title:"Settings",showBack:!0,backTo:"/",compact:!0,style:{flex:"0 0 auto"}}),s.jsxs("div",{className:"settings-layout",children:[s.jsx("div",{className:"settings-sidebar",children:X.map(M=>s.jsxs("button",{className:`settings-tab-btn ${o===M.id?"active":""}`,onClick:()=>u(M.id),children:[s.jsx("span",{className:"tab-icon",children:M.icon}),s.jsx("span",{className:"tab-label",children:M.label})]},M.id))}),s.jsxs("div",{className:"settings-content",children:[s.jsx("div",{className:"settings-scroll-area",style:{overflowY:o==="ranking"?"hidden":"auto",padding:o==="ranking"?0:"15px"},children:Y()}),s.jsxs("div",{className:"settings-footer",children:[s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("button",{className:"btn btn--danger",onClick:P,style:{flex:1},children:"Reset"}),s.jsx("button",{className:"btn btn--primary",onClick:te,style:{flex:1},children:f?" Saved":"Save"})]}),s.jsx("div",{className:"version-tag",children:cw})]})]})]}),s.jsx("style",{children:`
                .settings-layout { display: flex; flex: 1; overflow: hidden; background: var(--bg-primary); }
                .settings-sidebar { width: 60px; background: var(--bg-secondary); border-right: 1px solid var(--border-default); display: flex; flex-direction: column; padding: 10px 5px; overflow-y: auto; flex-shrink: 0; }
                .settings-tab-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px 5px; border: none; background: transparent; color: var(--text-secondary); cursor: pointer; border-radius: 8px; margin-bottom: 5px; }
                .settings-tab-btn.active { background: var(--accent-primary); color: #fff; }
                .tab-icon { font-size: 1.5rem; } .tab-label { display: none; }
                .settings-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
                .settings-scroll-area { flex: 1; overflow-y: auto; padding: 15px; }
                .settings-footer { flex-shrink: 0; background: var(--bg-secondary); border-top: 1px solid var(--border-default); padding: 15px; }
                .settings-card { background: var(--bg-card); border-radius: var(--radius-md); padding: 15px; margin-bottom: 20px; border: 1px solid var(--border-default); }
                .section-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 12px; color: var(--text-primary); display: flex; align-items: center; gap: 8px; }
                .settings-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
                .settings-item:last-child { border-bottom: none; }
                .settings-select, .settings-input, .settings-input-number { background: var(--bg-secondary); border: 1px solid var(--border-default); color: var(--text-primary); padding: 8px; border-radius: 4px; font-size: 0.85rem; }
                .settings-input { width: 100%; }
                .chip-checkbox { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 16px; border: 1px solid var(--border-default); background: var(--bg-secondary); color: var(--text-primary); font-size: 0.8rem; cursor: pointer; }
                .chip-checkbox.active { background: var(--accent-primary); color: #fff; border-color: var(--accent-primary); }
                .keyword-chip { display: inline-flex; align-items: center; padding: 4px 8px; background: var(--bg-tertiary); border-radius: 4px; margin: 2px; font-size: 0.75rem; }
                .keyword-chip button { background: none; border: none; color: var(--accent-danger); margin-left: 6px; cursor: pointer; padding: 0; }
                .version-tag { text-align: right; font-size: 0.7rem; color: var(--text-muted); margin-top: 8px; font-family: monospace; opacity: 0.7; }
            `})]})}const hw=({settings:a,updateNested:i,updateSettings:r,addToList:o,removeFromList:u})=>{const[f,h]=N.useState("main"),[g,p]=N.useState("entertainment"),[y,b]=N.useState("movies"),[v,w]=N.useState({}),_=(I,C)=>w(B=>({...B,[I]:C})),j=()=>{const I=dw(a.rankingWeights||{});return s.jsxs("div",{children:[s.jsx("div",{className:"settings-card",style:{background:"linear-gradient(135deg, rgba(255,215,0,0.1), rgba(0,0,0,0))",border:"1px solid rgba(255,215,0,0.3)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{children:s.jsx("div",{style:{fontWeight:600,color:"#FFD700"},children:" Quality Rating"})}),s.jsxs("div",{style:{fontSize:"1.8rem",color:"#FFD700"},children:["".repeat(I),"".repeat(5-I)]})]})}),s.jsx(We,{icon:"",title:"Top Stories & Global"}),s.jsxs(Je,{children:[s.jsx(Fe,{label:" Top Stories Boost",subLabel:"Min Score for Top Stories",children:s.jsx("input",{type:"range",min:"8",max:"30",step:"1",value:a.rankingWeights?.trending?.threshold||12,onChange:C=>i("rankingWeights.trending.threshold",parseFloat(C.target.value)),style:{width:"100%"}})}),s.jsx(Fe,{label:" Keyword Match",subLabel:`+${(a.rankingWeights?.keyword?.matchBoost||2).toFixed(1)} Points`,children:s.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:a.rankingWeights?.keyword?.matchBoost||2,onChange:C=>i("rankingWeights.keyword.matchBoost",parseFloat(C.target.value)),style:{width:"100%"}})}),s.jsx(Fe,{label:" Location Match",subLabel:`${(a.rankingWeights?.geo?.cityMatch||1.5).toFixed(1)}x Multiplier`,children:s.jsx("input",{type:"range",min:"1",max:"5",step:"0.1",value:a.rankingWeights?.geo?.cityMatch||1.5,onChange:C=>i("rankingWeights.geo.cityMatch",parseFloat(C.target.value)),style:{width:"100%"}})})]}),s.jsx(We,{icon:"",title:"Freshness & Decay"}),s.jsxs(Je,{children:[s.jsxs(Fe,{label:" Freshness Sensitivity",subLabel:"Left: Stricter (Newer) | Right: Relaxed",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",gap:"10px"},children:[s.jsx("span",{title:"Strict/Fresh",style:{fontSize:"1.2rem"},children:""}),s.jsx("input",{type:"range",min:"6",max:"72",value:a.rankingWeights?.freshness?.decayHours||26,onChange:C=>i("rankingWeights.freshness.decayHours",parseInt(C.target.value)),style:{flex:1}}),s.jsx("span",{title:"Relaxed/Older",style:{fontSize:"1.2rem"},children:""})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:"0.7rem",color:"var(--text-muted)"},children:["Decay over ",a.rankingWeights?.freshness?.decayHours||26,"h"]})]}),s.jsx(Fe,{label:" Hide Stale News",subLabel:`> ${a.hideOlderThanHours||60}h`,children:s.jsx("input",{type:"number",min:1,max:168,value:a.hideOlderThanHours||60,onChange:C=>r({...a,hideOlderThanHours:parseInt(C.target.value)||60}),className:"settings-input-number",style:{width:"60px"}})})]}),s.jsx(We,{icon:"",title:"Classification Logic"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:"Automatic categorization logic."}),s.jsx("div",{className:"settings-item__label",style:{color:"var(--accent-primary)",marginTop:"10px"},children:"Entity Overrides (Exact Matches)"}),s.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"8px",margin:"5px 0 15px 0",fontSize:"0.75rem",fontFamily:"monospace"},children:Object.entries(Jg).map(([C,B])=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--text-primary)"},children:C}),s.jsxs("span",{style:{color:"var(--text-muted)"},children:[" ",B]})]},C))})]})]})},A=()=>{const I=[{id:"entertainment",label:"Entertain",icon:""},{id:"technology",label:"Tech",icon:""},{id:"sports",label:"Sports",icon:""},{id:"social",label:"Social",icon:""}];return s.jsxs("div",{style:{display:"flex",height:"100%",gap:"10px"},children:[s.jsx("div",{style:{width:"70px",flexShrink:0,display:"flex",flexDirection:"column",gap:"5px"},children:I.map(C=>s.jsxs("button",{onClick:()=>p(C.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px 4px",border:"none",background:g===C.id?"var(--accent-primary)":"rgba(255,255,255,0.05)",color:g===C.id?"#fff":"var(--text-secondary)",borderRadius:"8px",cursor:"pointer",fontSize:"0.7rem",fontWeight:500},children:[s.jsx("span",{style:{fontSize:"1.3rem",marginBottom:"2px"},children:C.icon}),C.label]},C.id))}),s.jsx("div",{style:{flex:1,overflowY:"auto"},children:g==="social"?s.jsxs("div",{children:[s.jsx(We,{icon:"",title:"Social Trends"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:["Uses ",s.jsx("strong",{children:"Legacy Scoring"})," (Freshness + Source)."]}),s.jsxs(Je,{children:[s.jsx(Fe,{label:" Visual Boost",subLabel:"Videos/Images",children:s.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:a.buzzRankingWeights?.visual?.videoBoost||2,onChange:C=>i("buzzRankingWeights.visual.videoBoost",parseFloat(C.target.value)),style:{width:"100%"}})}),s.jsx(Fe,{label:" Trend Threshold",subLabel:"Lower = More Trending",children:s.jsx("input",{type:"range",min:"5",max:"20",step:"1",value:a.buzzRankingWeights?.trending?.threshold||10,onChange:C=>i("buzzRankingWeights.trending.threshold",parseFloat(C.target.value)),style:{width:"100%"}})})]})]}):s.jsx(Ag,{title:g.charAt(0).toUpperCase()+g.slice(1),icon:I.find(C=>C.id===g).icon,configPath:`buzz.${g}`,configData:a.buzz?.[g]||{},updateNested:i,addToList:o,removeFromList:u,localInputs:v,handleLocalInput:_,subTab:g})})]})},k=()=>{const I=[{id:"movies",label:"Movies",icon:""},{id:"events",label:"Events",icon:""},{id:"festivals",label:"Festivals",icon:""},{id:"sports",label:"Sports",icon:""},{id:"shopping",label:"Shopping",icon:""},{id:"airlines",label:"Airlines",icon:""},{id:"alerts",label:"Alerts",icon:""},{id:"civic",label:"Civic",icon:""}],C=a.upAhead?.ranking?.[y]||{},B=H=>{const ie=H==="positive"?a.upAhead?.keywords?.[y]:a.upAhead?.keywords?.[`${y}_negative`];return ie&&ie.length>0?ie:(H==="positive"?Ot.upAhead.keywords[y]:Ot.upAhead.keywords[`${y}_negative`])||[]},Z=B("positive"),$=B("negative"),te=()=>{const H=a.upAhead?.keywords?.negative;return H&&H.length>0?H:Ot.upAhead.keywords.negative||[]},P=te(),J={enabled:a.upAhead?.categories?.[y]!==!1,positiveMultiplier:C.positiveMultiplier||1,negativeMultiplier:C.negativeMultiplier||1,filterThreshold:C.filterThreshold||0,positiveKeywords:Z,negativeKeywords:[...P,...$]},re=(H,ie)=>{H==="enabled"?i(`upAhead.categories.${y}`,ie):(H==="positiveMultiplier"||H==="negativeMultiplier"||H==="filterThreshold")&&i(`upAhead.ranking.${y}.${H}`,ie)},se=(H,ie)=>{if(!ie||!ie.trim())return;const le=ie.trim();if(H==="positiveKeywords"){const ae=B("positive");if(ae.some(z=>z.toLowerCase()===le.toLowerCase()))return;i(`upAhead.keywords.${y}`,[...ae,le])}else if(H==="negativeKeywords"){const ae=B("negative");if(ae.some(z=>z.toLowerCase()===le.toLowerCase()))return;i(`upAhead.keywords.${y}_negative`,[...ae,le])}},ne=(H,ie)=>{if(H==="positiveKeywords"){const ae=B("positive").filter(z=>z!==ie);i(`upAhead.keywords.${y}`,ae)}else if(H==="negativeKeywords"){const le=B("negative");if(le.includes(ie)){const ae=le.filter(z=>z!==ie);i(`upAhead.keywords.${y}_negative`,ae)}else{const ae=te();if(ae.includes(ie)&&window.confirm(`"${ie}" is a global negative keyword. Remove it from ALL categories?`)){const z=ae.filter(X=>X!==ie);i("upAhead.keywords.negative",z)}}}};return s.jsxs("div",{style:{display:"flex",height:"100%",gap:"10px"},children:[s.jsx("div",{style:{width:"70px",flexShrink:0,display:"flex",flexDirection:"column",gap:"5px"},children:I.map(H=>s.jsxs("button",{onClick:()=>b(H.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px 4px",border:"none",background:y===H.id?"var(--accent-primary)":"rgba(255,255,255,0.05)",color:y===H.id?"#fff":"var(--text-secondary)",borderRadius:"8px",cursor:"pointer",fontSize:"0.7rem",fontWeight:500},children:[s.jsx("span",{style:{fontSize:"1.3rem",marginBottom:"2px"},children:H.icon}),H.label]},H.id))}),s.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[s.jsx(We,{icon:"",title:"Global Config"}),s.jsxs(Je,{children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"5px"},children:"Locations"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"15px"},children:["Chennai","Muscat","Trichy"].map(H=>s.jsxs("label",{className:`chip-checkbox ${a.upAhead?.locations?.includes(H)?"active":""}`,children:[s.jsx("input",{type:"checkbox",style:{display:"none"},checked:a.upAhead?.locations?.includes(H)||!1,onChange:ie=>{const le=a.upAhead?.locations||[],ae=ie.target.checked?[...le,H]:le.filter(z=>z!==H);i("upAhead.locations",ae)}}),H]},H))})]}),s.jsx(Ag,{title:I.find(H=>H.id===y).label,icon:I.find(H=>H.id===y).icon,configData:J,customUpdate:re,customAdd:se,customRemove:ne,localInputs:v,handleLocalInput:_,subTab:`ua_${y}`})]})]})};return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",padding:"0 15px",flexShrink:0},children:[s.jsx("button",{className:`btn ${f==="main"?"btn--primary":"btn--secondary"}`,onClick:()=>h("main"),style:{flex:1},children:" Main"}),s.jsx("button",{className:`btn ${f==="buzz"?"btn--primary":"btn--secondary"}`,onClick:()=>h("buzz"),style:{flex:1},children:" Buzz"}),s.jsx("button",{className:`btn ${f==="upahead"?"btn--primary":"btn--secondary"}`,onClick:()=>h("upahead"),style:{flex:1},children:" Up Ahead"})]}),s.jsxs("div",{className:"settings-tab-content",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"0 15px 15px 15px"},children:[f==="main"&&j(),f==="buzz"&&A(),f==="upahead"&&k()]})]})},Ag=({title:a,icon:i,configPath:r,configData:o,updateNested:u,addToList:f,removeFromList:h,localInputs:g,handleLocalInput:p,subTab:y,customUpdate:b,customAdd:v,customRemove:w})=>{const _=(k,I)=>{b?b(k,I):u(`${r}.${k}`,I)},j=(k,I)=>{v?v(k,I):f(`${r}.${k}`,I)},A=(k,I)=>{w?w(k,I):h(`${r}.${k}`,I)};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[s.jsx(We,{icon:i,title:a}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:o.enabled!==!1?"Active":"Disabled"}),s.jsx(_n,{checked:o.enabled!==!1,onChange:k=>_("enabled",k)})]})]}),s.jsxs(Je,{children:[s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:[s.jsx("strong",{children:"Ranking Formula:"})," (Positive Matches  Multiplier)  (Negative Matches  Multiplier)"]}),s.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:600,color:"#81c784"},children:" Positive Boost"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"6px"},children:[s.jsxs("span",{style:{fontSize:"0.75rem",color:"#fff"},children:["Multi: ",s.jsxs("strong",{children:[o.positiveMultiplier||1,"x"]})]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.positiveMultiplier||1,onChange:k=>_("positiveMultiplier",parseFloat(k.target.value)),style:{width:"80px"}})]})]}),s.jsx(Nl,{label:"",placeholder:"Add positive keyword...",value:g[`${y}_pos`]||"",onChange:k=>p(`${y}_pos`,k),onAdd:()=>{j("positiveKeywords",g[`${y}_pos`]),p(`${y}_pos`,"")},items:o.positiveKeywords||[],onRemove:k=>A("positiveKeywords",k)})]}),s.jsxs("div",{style:{background:"rgba(244, 67, 54, 0.1)",border:"1px solid rgba(244, 67, 54, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:600,color:"#e57373"},children:" Negative Penalty"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"6px"},children:[s.jsxs("span",{style:{fontSize:"0.75rem",color:"#fff"},children:["Multi: ",s.jsxs("strong",{children:[o.negativeMultiplier||1,"x"]})]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.negativeMultiplier||1,onChange:k=>_("negativeMultiplier",parseFloat(k.target.value)),style:{width:"80px"}})]})]}),s.jsx(Nl,{label:"",placeholder:"Add negative keyword...",value:g[`${y}_neg`]||"",onChange:k=>p(`${y}_neg`,k),onAdd:()=>{j("negativeKeywords",g[`${y}_neg`]),p(`${y}_neg`,"")},items:o.negativeKeywords||[],onRemove:k=>A("negativeKeywords",k)})]}),s.jsx(Fe,{label:" Filter Threshold",subLabel:`Hide if Score < ${o.filterThreshold||0}`,children:s.jsx("input",{type:"range",min:"-5",max:"5",step:"1",value:o.filterThreshold||0,onChange:k=>_("filterThreshold",parseInt(k.target.value)),style:{width:"100%"}})})]})]})},We=({icon:a,title:i})=>s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:a})," ",i]}),Je=({children:a})=>s.jsx("div",{className:"settings-card",children:a}),Fe=({label:a,subLabel:i,children:r})=>s.jsxs("div",{className:"settings-item",children:[s.jsxs("div",{className:"settings-item__label",children:[s.jsx("span",{children:a}),i&&s.jsx("small",{children:i})]}),s.jsx("div",{style:{flex:"0 0 auto",marginLeft:"10px"},children:r})]}),Nl=({label:a,placeholder:i,value:r,onChange:o,onAdd:u,items:f,onRemove:h})=>s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"6px"},children:a}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[s.jsx("input",{type:"text",value:r,onChange:g=>o(g.target.value),placeholder:i,className:"settings-input",onKeyDown:g=>g.key==="Enter"&&u()}),s.jsx("button",{className:"btn btn--secondary",onClick:u,style:{padding:"0 15px"},children:"Add"})]}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:[f.map((g,p)=>s.jsxs("span",{className:"keyword-chip",children:[g,s.jsx("button",{onClick:()=>h(g),children:""})]},p)),f.length===0&&s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Default keywords only"})]})]});function mw(){const a=pr(),[i,r]=N.useState(()=>eg(lr())),[o,u]=N.useState(!1),[f,h]=N.useState(()=>ax()),[g]=N.useState(()=>eg(lr())),{refreshWeather:p}=br(),{refreshNews:y}=xr(),b=async()=>{u(!0);const j=Object.keys(i).filter(I=>i[I]),A=[],k=[];j.forEach(I=>{I==="weather"?(A.push(p(!0)),Xc("weather")):I==="market"?Xc("market"):(k.push(I),Xc(I))}),k.length>0&&A.push(y(k));try{await Promise.all(A)}catch(I){console.error("Refresh failed",I)}h("Just now"),u(!1),setTimeout(()=>a("/"),500)},v=j=>{r({world:j,india:j,chennai:j,trichy:j,local:j,social:j,weather:j,market:j})},w=[{key:"world",icon:"",label:"World News",desc:"International headlines"},{key:"india",icon:"",label:"India News",desc:"National news"},{key:"chennai",icon:"",label:"Chennai News",desc:"Chennai city updates"},{key:"trichy",icon:"",label:"Trichy News",desc:"Trichy local news"},{key:"local",icon:"",label:"Local (Muscat)",desc:"Muscat & Oman news"},{key:"social",icon:"",label:"Social Trends",desc:"Trending topics"},{key:"weather",icon:"",label:"Weather",desc:"Chennai, Trichy, Muscat"},{key:"market",icon:"",label:"Market",desc:"BSE, NSE, Movers"}],_=Object.values(i).filter(Boolean).length;return s.jsxs(s.Fragment,{children:[s.jsx(Aa,{title:"Refresh Content",showBack:!0,backTo:"/"}),s.jsxs("div",{className:"refresh-page",children:[s.jsxs("div",{className:"refresh-info",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Last refresh: ",s.jsx("strong",{children:f})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[s.jsx("button",{className:"btn btn--secondary",style:{flex:1},onClick:()=>v(!0),children:"Select All"}),s.jsx("button",{className:"btn btn--secondary",style:{flex:1},onClick:()=>v(!1),children:"Clear All"})]}),s.jsxs("section",{className:"settings-section",children:[s.jsxs("h2",{className:"settings-section__title",children:[s.jsx("span",{children:""}),"Select Sections to Refresh",s.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.8rem",fontWeight:"normal",color:"var(--accent-primary)"},children:[_,"/",w.length]})]}),s.jsx("div",{className:"settings-card",children:w.map(({key:j,icon:A,label:k,desc:I})=>s.jsxs("div",{className:"settings-item",children:[s.jsxs("div",{className:"settings-item__label",style:{flexDirection:"column",alignItems:"flex-start"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[s.jsx("span",{className:"settings-item__icon",children:A}),k,g[j]&&s.jsx("span",{style:{color:"var(--weather-sun)",fontSize:"0.7rem"},children:""})]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginLeft:"28px"},children:I})]}),s.jsx(_n,{checked:i[j],onChange:C=>r(B=>({...B,[j]:C})),recommended:g[j]})]},j))})]}),s.jsxs("button",{className:`refresh-btn ${o?"refresh-btn--loading":""}`,onClick:b,disabled:o||_===0,children:[s.jsx("span",{className:"refresh-btn__icon",children:o?"":""}),s.jsx("span",{children:o?"Refreshing...":"Refresh Now"})]}),s.jsxs("div",{className:"schedule-card",children:[s.jsxs("div",{className:"schedule-card__title",children:[s.jsx("span",{children:""}),"Auto-Refresh Schedule"]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Weather Forecast"}),s.jsx("span",{className:"schedule-item__value",children:"Every 3 hours"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Weather Nowcast"}),s.jsx("span",{className:"schedule-item__value",children:"Every 1 hour"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"News Updates"}),s.jsx("span",{className:"schedule-item__value",children:"Every 30 minutes"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Market Data"}),s.jsx("span",{className:"schedule-item__value",children:"Every 5 minutes"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Social Trends"}),s.jsx("span",{className:"schedule-item__value",children:"Every 15 minutes"})]})]}),s.jsxs("div",{className:"card",style:{marginTop:"var(--spacing-md)",textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Current Segment: ",s.jsx("strong",{style:{color:"var(--accent-primary)"},children:lr()?.name})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"4px"},children:" = Recommended sections for this time"})]})]})]})}function wp(a,i={}){const{country:r="IN",lang:o="en",timeRange:u="7d",excludeTerms:f=[]}=i;let h=encodeURIComponent(a);u&&(h+=`+when:${u}`),Array.isArray(f)&&f.forEach(b=>{h+=`+-${encodeURIComponent(b)}`});const g=`${o}-${r}`,p=r,y=`${r}:${o}`;return`https://news.google.com/rss/search?q=${h}&hl=${g}&gl=${p}&ceid=${y}`}async function jp(a){try{const i=wp(a.query||a.name,a.options||{});console.log(`[TopicService] Fetching news for "${a.name}"`);const r=await la(i,"following");sx(a.id);const o=Le(),u=o.hideOlderThanHours||60,f=Date.now(),h=u*60*60*1e3,g=o.strictFreshness!==!1;let p=r;return g&&(p=r.filter(b=>b.publishedAt?f-b.publishedAt<=h:!1),console.log(`[TopicService] Filtered ${r.length-p.length} old articles for "${a.name}" (Limit: ${u}h)`)),p.map(b=>({...b,topicId:a.id,topicName:a.name,context:"following"}))}catch(i){return console.error(`[TopicService] Failed to fetch topic "${a.name}":`,i),[]}}async function gw(a){if(!a||a.length===0)return{};const i=a.map(f=>jp(f)),o=(await Promise.all(i)).flat(),u={};return o.forEach(f=>{f&&f.topicId&&(u[f.topicId]||(u[f.topicId]=[]),u[f.topicId].push(f))}),u}const _p=N.createContext();function pw({children:a}){const[i,r]=N.useState([]),[o,u]=N.useState({}),[f,h]=N.useState(!1),[g,p]=N.useState([]);N.useEffect(()=>{const k=Le();r(k.followedTopics||[]),j()},[]),N.useEffect(()=>{if(i.length===0)return;y(!1);const k=setInterval(()=>{console.log("[TopicContext] Auto-refreshing topics..."),y(!0)},900*1e3);return()=>clearInterval(k)},[i.length]);const y=async(k=!1)=>{if(i.length!==0){k||h(!0);try{const I=await gw(i);k&&b(I),u(I)}catch(I){console.error("[TopicContext] Failed to refresh topics:",I)}finally{k||h(!1)}}},b=k=>{let I=0,C="";if(Object.entries(k).forEach(([B,Z])=>{const $=o[B]||[];if(Z.length>0&&$.length>0&&Z[0].id!==$[0].id){I++;const te=i.find(P=>P.id===B);te&&(C=te.name)}}),I>0){const B=I===1?`New update for ${C}`:`Updates in ${I} followed topics`;cp(B,{body:"Click to see the latest stories.",tag:"topic-update"})}},v=k=>{lx(k);const I=Le();r(I.followedTopics||[]),setTimeout(()=>y(!1),50)},w=k=>{ix(k),r(C=>C.filter(B=>B.id!==k));const I={...o};delete I[k],u(I)},_=k=>{Kg(k),j()},j=()=>{const k=cx();p(k)},A={followedTopics:i,topicNews:o,loading:f,suggestions:g,addTopic:v,removeTopic:w,refreshTopics:y,addToHistory:_};return s.jsx(_p.Provider,{value:A,children:a})}function Np(){return N.useContext(_p)}function yw({topic:a,articleCount:i,onClick:r,onRemove:o}){const u=pr(),f=a.lastFetched?vw(new Date(a.lastFetched)):"Never updated",h=()=>{r?r(a):u(`/following/${a.id}`)};return s.jsxs("div",{className:"topic-card",onClick:h,children:[s.jsx("div",{className:"topic-card__icon",children:a.icon||""}),s.jsxs("div",{className:"topic-card__content",children:[s.jsx("h3",{className:"topic-card__name",children:a.name}),s.jsxs("p",{className:"topic-card__update",children:["Last update: ",f]})]}),s.jsx("div",{className:"topic-card__badge",children:i>0&&s.jsxs("span",{className:"topic-card__count",children:[i," new"]})}),s.jsx("button",{className:"topic-card__menu",onClick:g=>{g.stopPropagation(),window.confirm(`Stop following "${a.name}"?`)&&o(a.id)},"aria-label":"Remove topic",children:""})]})}function vw(a){if(!a)return"Never";const i=Math.floor((Date.now()-a)/6e4);if(i<1)return"Just now";if(i<60)return`${i} min${i>1?"s":""} ago`;const r=Math.floor(i/60);return r<24?`${r} hour${r>1?"s":""} ago`:`${Math.floor(r/24)} days ago`}function xw({onAddTopic:a}){const[i,r]=N.useState(""),[o,u]=N.useState([]),[f,h]=N.useState(!1),g=async y=>{if(y.preventDefault(),!!i.trim()){h(!0);try{const b=wp(i),v=await la(b,"preview");u(v.slice(0,5))}catch(b){console.error("Search failed:",b),alert("Failed to find news for this topic. Try different keywords.")}finally{h(!1)}}},p=()=>{const y={name:i,query:i,icon:bw(i),options:{country:"IN",lang:"en",timeRange:"30d"}};a(y),r(""),u([])};return s.jsxs("div",{className:"topic-search",children:[s.jsxs("form",{onSubmit:g,children:[s.jsx("input",{type:"text",placeholder:"Search topics... (e.g., Tamil Nadu Elections)",value:i,onChange:y=>r(y.target.value),className:"topic-search__input"}),s.jsx("button",{type:"submit",disabled:f,children:f?"...":"Search"})]}),o.length>0&&s.jsxs("div",{className:"topic-search__preview",children:[s.jsxs("h4",{children:['Preview: "',i,'"']}),s.jsx("ul",{children:o.map((y,b)=>s.jsx("li",{children:y.title},b))}),s.jsxs("button",{onClick:p,className:"topic-search__follow-btn",children:[' Follow "',i,'"']})]})]})}function bw(a){const i=a.toLowerCase();return i.includes("election")?"":i.includes("market")||i.includes("stock")||i.includes("sensex")?"":i.includes("film")||i.includes("movie")||i.includes("cinema")?"":i.includes("sport")||i.includes("cricket")||i.includes("ipl")?"":i.includes("tech")||/\bai\b/.test(i)||i.includes("startup")?"":i.includes("weather")||i.includes("rain")?"":""}function Sw(){const{followedTopics:a,topicNews:i,loading:r,suggestions:o,addTopic:u,removeTopic:f,refreshTopics:h}=Np();N.useEffect(()=>{},[]);const g=a.length>0,p=y=>{u({name:y,query:y,icon:"",options:{country:"IN",lang:"en",timeRange:"30d"}})};return s.jsxs("div",{className:"following-page",children:[s.jsx("header",{className:"following-page__header",children:s.jsx("h1",{children:" Following"})}),s.jsxs("div",{className:"following-page__content",children:[s.jsx(xw,{onAddTopic:u}),o.length>0&&s.jsxs("div",{className:"following-page__suggestions-section",children:[s.jsx("h4",{children:"Suggested for you"}),s.jsx("div",{className:"following-page__suggestions",children:o.map((y,b)=>s.jsxs("button",{className:"suggestion-chip",onClick:()=>p(y.word),children:["+ ",y.word]},b))})]}),r&&s.jsx("p",{children:"Loading updates..."}),g?s.jsxs("div",{className:"following-page__topics",children:[s.jsx("h2",{className:"following-page__section-title",children:"Your Topics"}),a.map(y=>s.jsx(yw,{topic:y,articleCount:i[y.id]?.length||0,onRemove:f},y.id))]}):s.jsxs("div",{className:"following-page__empty",children:[s.jsx("p",{children:"No topics followed yet."}),s.jsx("p",{children:"Search for topics above to get started!"})]})]})]})}function ww(){const{topicId:a}=_v(),i=pr(),{followedTopics:r,addToHistory:o}=Np(),[u,f]=N.useState([]),[h,g]=N.useState(!0),p=r.find(y=>y.id===a);return N.useEffect(()=>{if(!p)return;(async()=>{g(!0);try{const b=await jp(p);f(b)}catch(b){console.error(b)}finally{g(!1)}})()},[a,p]),p?s.jsxs("div",{className:"page-container",children:[s.jsxs("header",{className:"header",style:{position:"sticky",top:0,zIndex:100,background:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)",padding:"10px 15px",display:"flex",alignItems:"center",gap:"15px"},children:[s.jsx("button",{onClick:()=>i("/following"),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-primary)"},children:""}),s.jsxs("h1",{style:{margin:0,fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:p?.icon}),p?.name]})]}),s.jsx("main",{className:"main-content",style:{paddingTop:"0"},children:h?s.jsxs("div",{className:"loading",style:{padding:"20px",textAlign:"center"},children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Fetching latest news..."})]}):s.jsx("div",{style:{padding:"10px"},children:s.jsx(en,{id:`topic-${a}`,title:`Latest on ${p?.name}`,icon:p?.icon,news:u,maxDisplay:50,showExpand:!1,colorClass:"news-section__title--world",onArticleClick:y=>o(y)})})})]}):s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"loading",style:{padding:"20px"},children:[s.jsx("p",{children:"Loading topic..."}),s.jsx("button",{onClick:()=>i("/following"),children:"Back to List"})]})})}function jw(){const{isWebView:a}=wr(),i=Oa(),r=[{path:"/",label:"Main",icon:""},{path:"/up-ahead",label:"Up Ahead",icon:""},{path:"/following",label:"Follow",icon:""},{path:"/newspaper",label:"Paper",icon:""},{path:"/markets",label:"Market",icon:""},{path:"/tech-social",label:"Buzz",icon:""},{path:"/weather",label:"Weather",icon:""},{path:"/settings",label:"Settings",icon:""}];return s.jsx("nav",{className:`bottom-nav ${a?"bottom-nav--desktop":""}`,children:r.map(o=>s.jsxs(Wv,{to:o.path,className:`bottom-nav__item ${i.pathname===o.path?"active":""}`,title:o.label,children:[s.jsx("span",{className:"bottom-nav__icon",children:o.icon}),s.jsx("span",{className:"bottom-nav__label",children:o.label})]},o.path))})}const _w=300*1e3;function Nw(){const{pathname:a}=Oa();return N.useEffect(()=>{window.scrollTo(0,0)},[a]),N.useEffect(()=>{let i=null;const r=()=>{document.hidden?i=Date.now():i&&Date.now()-i>_w&&window.scrollTo(0,0)};return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[]),null}function Ew(){return console.log("[App] Rendering root component..."),s.jsx(Ox,{children:s.jsx(ub,{children:s.jsx(X1,{children:s.jsx(L1,{children:s.jsx(kx,{children:s.jsx(pw,{children:s.jsxs(Xv,{children:[s.jsx(Nw,{}),s.jsxs("div",{className:"app",children:[s.jsxs(Iv,{children:[s.jsx(Qt,{path:"/",element:s.jsx(Ab,{})}),s.jsx(Qt,{path:"/up-ahead",element:s.jsx(oS,{})}),s.jsx(Qt,{path:"/weather",element:s.jsx(hS,{})}),s.jsx(Qt,{path:"/markets",element:s.jsx(yS,{})}),s.jsx(Qt,{path:"/tech-social",element:s.jsx(vS,{})}),s.jsx(Qt,{path:"/newspaper",element:s.jsx(iw,{})}),s.jsx(Qt,{path:"/settings",element:s.jsx(fw,{})}),s.jsx(Qt,{path:"/refresh",element:s.jsx(mw,{})}),s.jsx(Qt,{path:"/following",element:s.jsx(Sw,{})}),s.jsx(Qt,{path:"/following/:topicId",element:s.jsx(ww,{})})]}),s.jsx(jw,{})]})]})})})})})})})}class Cw extends tn.Component{constructor(i){super(i),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,r){this.setState({error:i,errorInfo:r}),console.error("Uncaught error:",i,r)}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"20px",color:"red",background:"#333",minHeight:"100vh"},children:[s.jsx("h1",{children:"Something went wrong."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),s.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function Tw(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(i=>{console.log("SW registered: ",i)}).catch(i=>{console.log("SW registration failed: ",i)})})}const Aw=[{title:"Millions affected by Chennai floods",description:"Heavy rains in Tamil Nadu capital have caused massive flooding affecting 5 million people.",imageUrl:"https://example.com/floods.jpg",section:"chennai",publishedAt:Date.now()-3600*1e3,source:"The Hindu"},{title:"Hero rescues child from burning building",description:"A brave firefighter in Mumbai saved a child from a tragic fire, creating a moment of hope.",imageUrl:"https://youtube.com/watch?v=abc",section:"india",publishedAt:Date.now()-7200*1e3,source:"NDTV"},{title:"Tech company announces new CEO",description:"Silicon Valley startup announces John Doe as new CEO replacing the founder.",imageUrl:null,section:"technology",publishedAt:Date.now()-300*60*1e3,source:"TechCrunch"}];function Mw(){const a=Le();console.log(`
=== SCORING TEST (New Scoring: ${a.enableNewScoring}) ===`),Aw.forEach(i=>{const r={...i,sentiment:{label:"neutral"},keywords:[]},o=du(r,i.section);console.log(`
Title: ${i.title}`),console.log(`Section: ${i.section}`),console.log(`Score: ${o.toFixed(2)}`)}),console.log(`
=================================================
`)}console.log("[Main] Application starting...");typeof window<"u"&&(window.runScoringTests=Mw);Tw();try{const a=document.getElementById("root");if(!a)throw new Error("Root element not found");Q0.createRoot(a).render(s.jsx(N.StrictMode,{children:s.jsx(Cw,{children:s.jsx(Ew,{})})}))}catch(a){console.error("Critical Application Failure:",a);const i=document.getElementById("root");i&&(i.innerHTML=`
      <div style="color: red; padding: 20px; text-align: center;">
        <h1>Application Failed to Start</h1>
        <p>${a.message}</p>
        <pre>${a.stack}</pre>
      </div>
    `)}
//# sourceMappingURL=index-he2x-X7H.js.map
