{"version":3,"file":"SettingsPage-DXe7KCMI.js","sources":["../../src/utils/feedDiscovery.js","../../src/utils/version.js","../../src/components/DebugTab.jsx","../../src/pages/SettingsPage.jsx"],"sourcesContent":["/**\n * Feed Discovery Service\n * Tries to find RSS/Atom feeds from a given URL.\n * Uses a CORS proxy to fetch the HTML content.\n */\n\nconst CORS_PROXY = \"https://api.allorigins.win/get?url=\";\n\n/**\n * Validates if a URL is likely an RSS feed\n */\nconst isFeedUrl = (url) => {\n    return /\\.(xml|rss|atom)$/i.test(url) || /feed|rss|atom/i.test(url);\n};\n\n/**\n * Discover feeds from a website URL\n * @param {string} url - The website URL (e.g., \"https://techcrunch.com\")\n * @returns {Promise<Array>} - List of found feeds { title, url }\n */\nexport const discoverFeeds = async (url) => {\n    try {\n        if (!url) return [];\n\n        // 1. If URL looks like a feed already, return it\n        if (isFeedUrl(url)) {\n            return [{ title: \"Custom Feed\", url }];\n        }\n\n        // 2. Fetch HTML via Proxy\n        const encodedUrl = encodeURIComponent(url);\n        const response = await fetch(`${CORS_PROXY}${encodedUrl}`);\n        const data = await response.json();\n\n        if (!data.contents) {\n            throw new Error(\"Failed to fetch page content\");\n        }\n\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(data.contents, \"text/html\");\n        const feeds = [];\n\n        // 3. Look for <link> tags\n        // <link rel=\"alternate\" type=\"application/rss+xml\" href=\"...\" />\n        const linkTags = doc.querySelectorAll('link[rel=\"alternate\"][type=\"application/rss+xml\"], link[rel=\"alternate\"][type=\"application/atom+xml\"]');\n\n        linkTags.forEach(tag => {\n            let feedUrl = tag.getAttribute('href');\n            const title = tag.getAttribute('title') || \"RSS Feed\";\n\n            // Resolve relative URLs\n            if (feedUrl && !feedUrl.startsWith('http')) {\n                const baseUrl = new URL(url);\n                feedUrl = new URL(feedUrl, baseUrl.origin).href;\n            }\n\n            if (feedUrl) {\n                feeds.push({ title, url: feedUrl });\n            }\n        });\n\n        // 4. Fallback: Check common paths if no tags found\n        if (feeds.length === 0) {\n            const commonPaths = ['/feed', '/rss', '/rss.xml', '/atom.xml'];\n            const baseUrl = new URL(url).origin;\n\n            // We return these as \"potential\" feeds - the aggregator will try them\n            commonPaths.forEach(path => {\n                feeds.push({\n                    title: `Possible Feed (${path})`,\n                    url: `${baseUrl}${path}`\n                });\n            });\n        }\n\n        return feeds;\n\n    } catch (error) {\n        console.error(\"Feed discovery failed:\", error);\n        return [];\n    }\n};\n","export const APP_VERSION = \"ver.12-02-26 time 17.41\";\n","import React, { useState, useEffect } from 'react';\nimport { useSettings } from '../context/SettingsContext';\nimport logStore from '../utils/logStore';\n\nconst DebugTab = () => {\n    const { settings } = useSettings();\n    const [logs, setLogs] = useState([]);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        try {\n            if (logStore && typeof logStore.getLogs === 'function') {\n                setLogs(logStore.getLogs());\n            } else {\n                setLogs([]);\n            }\n        } catch (e) {\n            console.error(\"Failed to load logs\", e);\n            setError(e.message);\n        }\n    }, []);\n\n    const safeRender = (msg) => {\n        if (typeof msg === 'object') {\n            try {\n                return JSON.stringify(msg);\n            } catch (e) {\n                return '[Circular Object]';\n            }\n        }\n        return String(msg);\n    };\n\n    if (error) {\n        return <div className=\"error-state\">Debug Error: {error}</div>;\n    }\n\n    return (\n        <div className=\"settings-tab-content\">\n            <div className=\"section-title\"><span>üêõ</span> Debug Info</div>\n\n            <div className=\"settings-card\">\n                <div style={{fontSize:'0.8rem', marginBottom:'10px'}}>\n                    <strong>App Version:</strong> {settings?.appVersion || 'Unknown'}\n                </div>\n                <div style={{fontSize:'0.8rem', marginBottom:'10px'}}>\n                    <strong>User Agent:</strong> {navigator.userAgent}\n                </div>\n                <div style={{fontSize:'0.8rem', marginBottom:'10px'}}>\n                    <strong>Screen:</strong> {window.innerWidth}x{window.innerHeight}\n                </div>\n            </div>\n\n            <div className=\"section-title\"><span>üìú</span> Recent Logs</div>\n            <div className=\"settings-card\" style={{maxHeight:'300px', overflowY:'auto', background:'black', color:'#0f0', fontFamily:'monospace', fontSize:'0.7rem', padding:'10px'}}>\n                {logs.length === 0 ? (\n                    <div>No logs available.</div>\n                ) : (\n                    logs.map((log, i) => (\n                        <div key={i} style={{marginBottom:'4px', borderBottom:'1px solid #333', whiteSpace: 'pre-wrap', wordBreak: 'break-all'}}>\n                            <span style={{color:'#888'}}>[{new Date(log.timestamp).toLocaleTimeString()}]</span>{' '}\n                            <span style={{color: log.level === 'error' ? 'red' : log.level === 'warn' ? 'orange' : '#0f0'}}>{log.level.toUpperCase()}:</span>{' '}\n                            {safeRender(log.message)}\n                            {log.details && (\n                                <div style={{marginLeft:'15px', color:'#aaa', fontSize:'0.65rem'}}>\n                                    {safeRender(log.details)}\n                                </div>\n                            )}\n                        </div>\n                    ))\n                )}\n            </div>\n\n            <div className=\"settings-card\">\n                <button\n                    className=\"btn btn--danger\"\n                    onClick={() => {\n                        if(window.confirm('Clear all data?')) {\n                            localStorage.clear();\n                            window.location.reload();\n                        }\n                    }}\n                    style={{width:'100%'}}\n                >\n                    Clear All Local Storage & Reload\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default DebugTab;\n","import React, { useState, useEffect, useSyncExternalStore } from 'react';\nimport Header from '../components/Header';\nimport Toggle from '../components/Toggle';\nimport { DEFAULT_SETTINGS } from '../utils/storage';\nimport { useSettings } from '../context/SettingsContext';\nimport { discoverFeeds } from '../utils/feedDiscovery';\nimport { APP_VERSION } from '../utils/version';\nimport logStore from '../utils/logStore';\nimport { getAllSectionHealth } from '../utils/sectionHealth';\nimport { SECTION_KEYWORDS } from '../data/sectionKeywords';\nimport { ENTITY_OVERRIDES } from '../data/entityOverrides';\nimport { computeImpactScore } from '../services/rssAggregator';\nimport DebugTab from '../components/DebugTab';\n\n/**\n * Helper to calculate a \"Quality Rating\" (1-5 stars) for the current ranking configuration.\n */\nconst calculatePreviewStars = (weights) => {\n    const w = weights || {};\n    const fresh = w.freshness?.maxBoost || 3.0;\n    const source = w.source?.tier1Boost || 5.0;\n    const visual = w.visual?.videoBoost || 1.3;\n    const city = w.geo?.cityMatch || 1.5;\n\n    let score = 0;\n    if (fresh >= 2.5 && fresh <= 4.0) score += 1.5;\n    else if (fresh > 1.0) score += 1.0;\n    if (source >= 4.0 && source <= 7.0) score += 1.5;\n    else if (source >= 2.0) score += 1.0;\n    if (visual >= 1.2 && visual <= 1.5) score += 1.0;\n    else score += 0.5;\n    if (city >= 1.3 && city <= 2.0) score += 1.0;\n    else score += 0.5;\n\n    return Math.min(5, Math.max(1, Math.round(score)));\n};\n\n/**\n * Settings Page Component\n */\nfunction SettingsPage() {\n    const { settings, updateSettings, reloadSettings } = useSettings();\n    const [activeTab, setActiveTab] = useState('general');\n    const [saved, setSaved] = useState(false);\n\n    // Feed Discovery State\n    const [newFeedUrl, setNewFeedUrl] = useState('');\n    const [isDiscovering, setIsDiscovering] = useState(false);\n    const [discoveryError, setDiscoveryError] = useState(null);\n\n    // Keyword Input State (Dynamic for all categories)\n    const [keywordInputs, setKeywordInputs] = useState({});\n\n    // Accordion State for Up Ahead Categories\n    const [expandedCategory, setExpandedCategory] = useState(null);\n\n    // Tier Input State\n    const [tierInputs, setTierInputs] = useState({ tier1: '', tier2: '', tier3: '' });\n\n    // Sandbox State\n    const [sandbox, setSandbox] = useState({\n        title: 'Breaking: Major Economic Reforms Announced',\n        description: 'Government unveils new policy to boost GDP growth by 2%. Markets rally on the news.',\n        source: 'BBC News',\n        age: 2,\n        section: 'business',\n        result: null\n    });\n\n    useEffect(() => {\n        if (!settings?.rankingWeights) return;\n        const dummyItem = {\n            title: sandbox.title,\n            description: sandbox.description,\n            source: sandbox.source,\n            publishedAt: Date.now() - (sandbox.age * 60 * 60 * 1000),\n            section: sandbox.section,\n            imageUrl: null\n        };\n        const simSettings = { ...settings, debugLogs: true };\n        const score = computeImpactScore(dummyItem, sandbox.section, 0, simSettings);\n        setSandbox(prev => ({ ...prev, result: { score, breakdown: dummyItem._scoreBreakdown } }));\n    }, [sandbox.title, sandbox.description, sandbox.source, sandbox.age, sandbox.section, settings]);\n\n    if (!settings) return <div className=\"loading\">Loading...</div>;\n\n    const updateNested = (path, value) => {\n        const keys = path.split('.');\n        const newSettings = { ...settings };\n        let obj = newSettings;\n        for (let i = 0; i < keys.length - 1; i++) {\n            obj[keys[i]] = { ...obj[keys[i]] };\n            obj = obj[keys[i]];\n        }\n        obj[keys[keys.length - 1]] = value;\n        updateSettings(newSettings);\n    };\n\n    const handleSave = () => {\n        setSaved(true);\n        setTimeout(() => setSaved(false), 2000);\n        reloadSettings();\n    };\n\n    const handleReset = () => {\n        if (window.confirm('Reset all settings to defaults?')) {\n            updateSettings({ ...DEFAULT_SETTINGS });\n            reloadSettings();\n        }\n    };\n\n    // --- GENERIC LIST HELPERS ---\n    const addToList = (path, item) => {\n        if (!item || !item.trim()) return;\n        const keys = path.split('.');\n        let currentList = settings;\n        for (const k of keys) currentList = currentList?.[k] || [];\n\n        if (!Array.isArray(currentList)) currentList = [];\n\n        if (!currentList.includes(item.trim())) {\n            updateNested(path, [...currentList, item.trim()]);\n        }\n    };\n\n    const removeFromList = (path, item) => {\n        const keys = path.split('.');\n        let currentList = settings;\n        for (const k of keys) currentList = currentList?.[k] || [];\n\n        if (Array.isArray(currentList)) {\n            updateNested(path, currentList.filter(i => i !== item));\n        }\n    };\n\n    // --- KEYWORD MANAGEMENT WRAPPER ---\n    const handleAddKeyword = (key, value) => {\n        addToList(key, value);\n        setKeywordInputs({ ...keywordInputs, [key]: '' });\n    };\n\n    // --- TIER MANAGEMENT ---\n    const addTierSource = (tier, source) => {\n        if (!source || !source.trim()) return;\n        const currentList = settings.sourceTiers?.[tier] || [];\n        if (!currentList.some(s => s.toLowerCase() === source.trim().toLowerCase())) {\n            updateNested(`sourceTiers.${tier}`, [...currentList, source.trim()]);\n        }\n        setTierInputs({ ...tierInputs, [tier]: '' });\n    };\n\n    const removeTierSource = (tier, source) => {\n        const currentList = settings.sourceTiers?.[tier] || [];\n        updateNested(`sourceTiers.${tier}`, currentList.filter(s => s !== source));\n    };\n\n    // --- FEED MANAGEMENT ---\n    const handleAddFeed = async () => {\n        if (!newFeedUrl) return;\n        setIsDiscovering(true);\n        setDiscoveryError(null);\n        try {\n            const feeds = await discoverFeeds(newFeedUrl);\n            if (feeds.length > 0) {\n                const bestFeed = feeds[0];\n                updateSettings({\n                    ...settings,\n                    customFeeds: [...(settings.customFeeds || []), { title: bestFeed.title, url: bestFeed.url }]\n                });\n                setNewFeedUrl('');\n            } else {\n                setDiscoveryError('No feeds found.');\n            }\n        } catch (error) {\n            void error;\n            setDiscoveryError('Error discovering feeds.');\n        } finally {\n            setIsDiscovering(false);\n        }\n    };\n\n    const removeCustomFeed = (index) => {\n        const newFeeds = [...(settings.customFeeds || [])];\n        newFeeds.splice(index, 1);\n        updateSettings({ ...settings, customFeeds: newFeeds });\n    };\n\n    // --- EXPORT / IMPORT ---\n    const handleExport = () => {\n        const exportData = {\n            settings: settings,\n            hiddenEvents: JSON.parse(localStorage.getItem('upAhead_hiddenEvents') || '[]'),\n            watchlist: JSON.parse(localStorage.getItem('upAhead_watchlist') || '[]'),\n            readingHistory: settings.readingHistory || []\n        };\n        const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData, null, 2));\n        const downloadAnchorNode = document.createElement('a');\n        downloadAnchorNode.setAttribute(\"href\", dataStr);\n        downloadAnchorNode.setAttribute(\"download\", \"news_app_full_backup.json\");\n        document.body.appendChild(downloadAnchorNode);\n        downloadAnchorNode.click();\n        downloadAnchorNode.remove();\n    };\n\n    const handleImport = (event) => {\n        const file = event.target.files[0];\n        if (!file) return;\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            try {\n                const imported = JSON.parse(e.target.result);\n                if (window.confirm('Replace current settings, hidden events, and watchlist with imported data?')) {\n                    if (imported.settings) {\n                        updateSettings(imported.settings);\n                        if (imported.hiddenEvents) localStorage.setItem('upAhead_hiddenEvents', JSON.stringify(imported.hiddenEvents));\n                        if (imported.watchlist) localStorage.setItem('upAhead_watchlist', JSON.stringify(imported.watchlist));\n                    } else {\n                        updateSettings(imported);\n                    }\n                    reloadSettings();\n                }\n            } catch (err) {\n                alert('Invalid backup file');\n            }\n        };\n        reader.readAsText(file);\n    };\n\n    // --- TABS ---\n    const tabs = [\n        { id: 'general', label: 'General', icon: '‚öôÔ∏è' },\n        { id: 'ranking', label: 'Ranking & Logic', icon: 'üß†' },\n        { id: 'weather', label: 'Weather', icon: 'üå§Ô∏è' },\n        { id: 'sources', label: 'Sources', icon: 'üì°' },\n        { id: 'market', label: 'Market', icon: 'üìà' },\n        { id: 'sandbox', label: 'Sandbox', icon: 'üß™' },\n        { id: 'advanced', label: 'Advanced', icon: 'üîß' },\n        { id: 'debug', label: 'Debug', icon: 'üêõ' },\n    ];\n\n    const renderContent = () => {\n        switch (activeTab) {\n            case 'general':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üì±\" title=\"Interface\" />\n                        <SettingCard>\n                            <SettingItem label=\"Home Layout\" subLabel=\"Timeline / Classic / Newspaper\">\n                                <select value={settings.uiMode || 'timeline'} onChange={(e) => updateSettings({ ...settings, uiMode: e.target.value })} className=\"settings-select\">\n                                    <option value=\"timeline\">üì± Timeline</option>\n                                    <option value=\"classic\">üìä Classic</option>\n                                    <option value=\"newspaper\">üì∞ Newspaper</option>\n                                </select>\n                            </SettingItem>\n                            <SettingItem label=\"Font Size\" subLabel={`${settings.fontSize || 26}px`}>\n                                <input type=\"range\" min=\"14\" max=\"34\" step=\"1\" value={settings.fontSize || 26} onChange={(e) => updateSettings({ ...settings, fontSize: parseInt(e.target.value) })} style={{ width: '100%' }} />\n                            </SettingItem>\n                        </SettingCard>\n                        <SectionTitle icon=\"ü§ñ\" title=\"AI Configuration\" />\n                        <SettingCard>\n                            <div className=\"settings-item\" style={{ flexDirection: 'column', alignItems: 'stretch' }}>\n                                <div className=\"settings-item__label\">\n                                    <span>Gemini API Key</span>\n                                    <small style={{ display: 'block', color: 'var(--text-muted)', fontSize: '0.65rem' }}>Required for client-side fallback.</small>\n                                </div>\n                                <input type=\"password\" value={settings.geminiKey || ''} onChange={(e) => updateSettings({ ...settings, geminiKey: e.target.value })} className=\"settings-input\" placeholder=\"Enter API Key\" />\n                            </div>\n                        </SettingCard>\n                        <SectionTitle icon=\"üìà\" title=\"Market Data\" />\n                        <SettingCard>\n                            <div className=\"settings-item\" style={{ flexDirection: 'column', alignItems: 'stretch' }}>\n                                <div className=\"settings-item__label\">\n                                    <span>Alpha Vantage API Key</span>\n                                </div>\n                                <input type=\"password\" value={settings.alphaVantageKey || ''} onChange={(e) => updateSettings({ ...settings, alphaVantageKey: e.target.value })} className=\"settings-input\" placeholder=\"Enter AV Key\" />\n                            </div>\n                        </SettingCard>\n                    </div>\n                );\n\n            case 'ranking':\n                return (\n                    <MergedRankingTab\n                        settings={settings}\n                        updateNested={updateNested}\n                        updateSettings={updateSettings}\n                        addToList={addToList}\n                        removeFromList={removeFromList}\n                    />\n                );\n\n            case 'weather':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üìç\" title=\"Locations\" />\n                        <SettingCard>\n                            <div className=\"settings-item__label\" style={{marginBottom:'10px'}}>Active Cities</div>\n                            <div style={{ display: 'grid', gap: '10px', marginBottom: '10px' }}>\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}><span style={{ width: '20px' }}>1.</span><input type=\"text\" value=\"Chennai\" disabled className=\"settings-input\" style={{ opacity: 0.7 }} /></div>\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}><span style={{ width: '20px' }}>2.</span><input type=\"text\" value=\"Trichy\" disabled className=\"settings-input\" style={{ opacity: 0.7 }} /></div>\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                                    <span style={{ width: '20px' }}>3.</span>\n                                    <input type=\"text\" value={settings.weather?.cities?.[2] || 'Muscat'} onChange={(e) => { const newCities = [...(settings.weather?.cities || ['chennai', 'trichy', 'muscat'])]; newCities[2] = e.target.value; updateNested('weather.cities', newCities); }} className=\"settings-input\" placeholder=\"Enter city...\" />\n                                </div>\n                            </div>\n                        </SettingCard>\n                        <SectionTitle icon=\"üå§Ô∏è\" title=\"Weather Models\" />\n                        <SettingCard>\n                            <SettingItem label=\"ECMWF (European)\"><Toggle checked={settings.weather?.models?.ecmwf !== false} onChange={(val) => updateNested('weather.models.ecmwf', val)} /></SettingItem>\n                            <SettingItem label=\"GFS (NOAA)\"><Toggle checked={settings.weather?.models?.gfs !== false} onChange={(val) => updateNested('weather.models.gfs', val)} /></SettingItem>\n                            <SettingItem label=\"ICON (DWD)\"><Toggle checked={settings.weather?.models?.icon !== false} onChange={(val) => updateNested('weather.models.icon', val)} /></SettingItem>\n                        </SettingCard>\n                    </div>\n                );\n\n            case 'sources':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üì°\" title=\"News Sources\" />\n                        <SettingCard>\n                            <div className=\"settings-item\" style={{\n                                borderBottom: '1px solid var(--accent-danger)',\n                                background: 'rgba(220, 38, 38, 0.15)',\n                                padding: '10px'\n                            }}>\n                                <div className=\"settings-item__label\" style={{ color: 'var(--accent-danger)' }}>\n                                    <span>üèÜ Top Websites Only</span>\n                                    <small style={{ display: 'block', color: 'var(--text-muted)' }}>BBC, Reuters, NDTV, Hindu, TOI...</small>\n                                </div>\n                                <Toggle checked={settings.topWebsitesOnly === true} onChange={(val) => updateSettings({ ...settings, topWebsitesOnly: val })} />\n                            </div>\n\n                            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', padding: '10px' }}>\n                                {Object.keys(settings.newsSources || {}).map(key => (\n                                    <label key={key} style={{ display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.8rem' }}>\n                                        <input type=\"checkbox\" checked={settings.newsSources?.[key] !== false} onChange={(e) => updateNested(`newsSources.${key}`, e.target.checked)} disabled={settings.topWebsitesOnly} />\n                                        {key}\n                                    </label>\n                                ))}\n                            </div>\n                        </SettingCard>\n\n                        <SectionTitle icon=\"üèÜ\" title=\"Source Tiers\" />\n                        <SettingCard>\n                            <div style={{fontSize:'0.8rem', color:'var(--text-muted)', marginBottom:'15px'}}>\n                                Classify sources to boost their ranking score.\n                            </div>\n\n                            <KeywordInput\n                                label={`Tier 1 (High Boost: ${(settings.rankingWeights?.source?.tier1Boost || 0.5)}x)`}\n                                placeholder=\"e.g. BBC, Reuters\"\n                                value={tierInputs.tier1}\n                                onChange={(val) => setTierInputs({...tierInputs, tier1: val})}\n                                onAdd={() => addTierSource('tier1', tierInputs.tier1)}\n                                items={settings.sourceTiers?.tier1 || []}\n                                onRemove={(s) => removeTierSource('tier1', s)}\n                            />\n\n                            <KeywordInput\n                                label={`Tier 2 (Medium Boost: ${(settings.rankingWeights?.source?.tier2Boost || 0.2)}x)`}\n                                placeholder=\"e.g. NDTV, Hindu\"\n                                value={tierInputs.tier2}\n                                onChange={(val) => setTierInputs({...tierInputs, tier2: val})}\n                                onAdd={() => addTierSource('tier2', tierInputs.tier2)}\n                                items={settings.sourceTiers?.tier2 || []}\n                                onRemove={(s) => removeTierSource('tier2', s)}\n                            />\n\n                            <KeywordInput\n                                label={`Tier 3 (No Boost: ${(settings.rankingWeights?.source?.tier3Boost || 0.0)}x)`}\n                                placeholder=\"e.g. Local Blogs\"\n                                value={tierInputs.tier3}\n                                onChange={(val) => setTierInputs({...tierInputs, tier3: val})}\n                                onAdd={() => addTierSource('tier3', tierInputs.tier3)}\n                                items={settings.sourceTiers?.tier3 || []}\n                                onRemove={(s) => removeTierSource('tier3', s)}\n                            />\n                        </SettingCard>\n\n                        <SectionTitle icon=\"üîó\" title=\"Custom Feeds\" />\n                        <SettingCard>\n                             <div style={{ display: 'flex', gap: '8px', marginBottom: '10px' }}>\n                                <input\n                                    type=\"text\"\n                                    value={newFeedUrl}\n                                    onChange={(e) => setNewFeedUrl(e.target.value)}\n                                    placeholder=\"RSS URL...\"\n                                    className=\"settings-input\"\n                                />\n                                <button className=\"btn btn--primary\" onClick={handleAddFeed} disabled={isDiscovering}>\n                                    {isDiscovering ? '...' : 'Add'}\n                                </button>\n                            </div>\n                            {discoveryError && <div style={{color:'red', fontSize:'0.75rem'}}>{discoveryError}</div>}\n                            {settings.customFeeds?.map((feed, i) => (\n                                <div key={i} style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.8rem', padding: '5px 0' }}>\n                                    <span>{feed.title || feed.url}</span>\n                                    <button onClick={() => removeCustomFeed(i)} style={{color:'red'}}>‚úï</button>\n                                </div>\n                            ))}\n                        </SettingCard>\n                    </div>\n                );\n\n            case 'upahead':\n                // Deprecated (Merged into Ranking)\n                // Redirect logic could go here, but for now we just show a message or the legacy view?\n                // Actually, let's just keep the Global Config here if user clicks it, but main ranking is moved.\n                // Or better: Redirect/Hide.\n                // For this step, I'll remove it from the tabs list above, so this case is unreachable via UI.\n                return null;\n\n            case 'market':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üìà\" title=\"Market Display\" />\n                        <SettingCard>\n                            {Object.keys(settings.market || {}).filter(k => k.startsWith('show')).map(key => (\n                                <SettingItem key={key} label={key.replace('show', '')}>\n                                    <Toggle checked={settings.market?.[key] !== false} onChange={(val) => updateNested(`market.${key}`, val)} />\n                                </SettingItem>\n                            ))}\n                        </SettingCard>\n                    </div>\n                );\n\n            case 'logic':\n                // Deprecated (Merged)\n                return null;\n\n            case 'sandbox':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üß™\" title=\"Ranking Sandbox\" />\n                        <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '15px' }}>\n                            Simulate how the current settings affect an article's score. Change settings in the \"Custom Ranking\" tab to see impact here.\n                        </div>\n\n                        <SettingCard>\n                            <div style={{display:'grid', gap:'10px'}}>\n                                <div>\n                                    <label style={{fontSize:'0.75rem', color:'var(--text-muted)', display:'block', marginBottom:'4px'}}>Title</label>\n                                    <input className=\"settings-input\" value={sandbox.title} onChange={(e) => setSandbox({...sandbox, title: e.target.value})} />\n                                </div>\n                                <div>\n                                    <label style={{fontSize:'0.75rem', color:'var(--text-muted)', display:'block', marginBottom:'4px'}}>Description</label>\n                                    <textarea className=\"settings-input\" style={{resize:'vertical', minHeight:'60px'}} value={sandbox.description} onChange={(e) => setSandbox({...sandbox, description: e.target.value})} />\n                                </div>\n                                <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', gap:'10px'}}>\n                                    <div>\n                                        <label style={{fontSize:'0.75rem', color:'var(--text-muted)', display:'block', marginBottom:'4px'}}>Source</label>\n                                        <select className=\"settings-select\" value={sandbox.source} onChange={(e) => setSandbox({...sandbox, source: e.target.value})} style={{width:'100%'}}>\n                                            <option value=\"BBC News\">BBC (Tier 1)</option>\n                                            <option value=\"Unknown Blog\">Blog (Tier 3)</option>\n                                            <option value=\"NDTV\">NDTV (Tier 2)</option>\n                                            <option value=\"TechCrunch\">TechCrunch</option>\n                                        </select>\n                                    </div>\n                                    <div>\n                                        <label style={{fontSize:'0.75rem', color:'var(--text-muted)', display:'block', marginBottom:'4px'}}>Section</label>\n                                        <select className=\"settings-select\" value={sandbox.section} onChange={(e) => setSandbox({...sandbox, section: e.target.value})} style={{width:'100%'}}>\n                                            <option value=\"world\">World (High Priority)</option>\n                                            <option value=\"business\">Business</option>\n                                            <option value=\"technology\">Technology</option>\n                                            <option value=\"general\">General</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div>\n                                    <label style={{fontSize:'0.75rem', color:'var(--text-muted)', display:'block', marginBottom:'4px'}}>Age: {sandbox.age} hours</label>\n                                    <input type=\"range\" min=\"0\" max=\"72\" step=\"1\" value={sandbox.age} onChange={(e) => setSandbox({...sandbox, age: parseInt(e.target.value)})} style={{width:'100%'}} />\n                                </div>\n                            </div>\n                        </SettingCard>\n\n                        {sandbox.result && (\n                            <div className=\"settings-card\" style={{border:'1px solid var(--accent-primary)', background:'rgba(0,0,0,0.2)'}}>\n                                <div style={{textAlign:'center', padding:'10px', borderBottom:'1px solid rgba(255,255,255,0.1)'}}>\n                                    <div style={{fontSize:'0.8rem', color:'var(--text-muted)'}}>CALCULATED SCORE</div>\n                                    <div style={{fontSize:'2.5rem', fontWeight:'bold', color:'var(--accent-primary)'}}>\n                                        {sandbox.result.score.toFixed(1)}\n                                    </div>\n                                </div>\n                                <div style={{padding:'10px', fontSize:'0.75rem'}}>\n                                    <table style={{width:'100%', borderCollapse:'collapse'}}>\n                                        <tbody>\n                                            {Object.entries(sandbox.result.breakdown || {}).map(([key, val]) => {\n                                                if (key === 'total' || typeof val !== 'number') return null;\n                                                return (\n                                                    <tr key={key} style={{borderBottom:'1px solid rgba(255,255,255,0.05)'}}>\n                                                        <td style={{padding:'4px', textTransform:'capitalize', color:'var(--text-secondary)'}}>{key.replace(/([A-Z])/g, ' $1').trim()}</td>\n                                                        <td style={{padding:'4px', textAlign:'right', fontWeight:'bold', color: val > 1.5 ? '#4f4' : val < 0.5 ? '#f44' : '#fff'}}>\n                                                            {val.toFixed(2)}{key.toLowerCase().includes('boost') || key.toLowerCase().includes('multiplier') ? 'x' : ''}\n                                                        </td>\n                                                    </tr>\n                                                );\n                                            })}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                );\n\n            case 'advanced':\n                return (\n                    <div className=\"settings-tab-content\">\n                        <SectionTitle icon=\"üîß\" title=\"Advanced\" />\n                        <SettingCard>\n                            <SettingItem label=\"Enable News Cache\" subLabel=\"Faster loads, 5min TTL\">\n                                <Toggle checked={settings.enableCache !== false} onChange={(val) => updateSettings({ ...settings, enableCache: val })} />\n                            </SettingItem>\n                            <SettingItem label=\"Crawler Mode\">\n                                <select value={settings.crawlerMode || 'auto'} onChange={(e) => updateSettings({ ...settings, crawlerMode: e.target.value })} className=\"settings-select\">\n                                    <option value=\"auto\">Auto</option>\n                                    <option value=\"manual\">Manual</option>\n                                </select>\n                            </SettingItem>\n                            <SettingItem label=\"Debug Logs\">\n                                <Toggle checked={settings.debugLogs === true} onChange={(val) => updateSettings({ ...settings, debugLogs: val })} />\n                            </SettingItem>\n                        </SettingCard>\n\n                        <SectionTitle icon=\"üïµÔ∏è\" title=\"Impact & Priority\" />\n                        <SettingCard>\n                            <SettingItem label=\"üí• Base Impact Weight\" subLabel=\"Multiplier\">\n                                <input type=\"range\" min=\"0.5\" max=\"3.0\" step=\"0.1\" value={settings.rankingWeights?.impact?.boost || 1.0} onChange={(e) => updateNested('rankingWeights.impact.boost', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                            </SettingItem>\n                            <SettingItem label=\"üî• High Impact Boost\" subLabel=\"Triggers on Major Event Keywords\">\n                                <input type=\"range\" min=\"1.0\" max=\"5.0\" step=\"0.1\" value={settings.rankingWeights?.impact?.highImpactBoost || 2.5} onChange={(e) => updateNested('rankingWeights.impact.highImpactBoost', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                            </SettingItem>\n                            <KeywordInput\n                                label=\"Major Event Keywords\"\n                                placeholder=\"e.g. Budget, Treaty, War\"\n                                value={keywordInputs.highImpact}\n                                onChange={(val) => setKeywordInputs({...keywordInputs, highImpact: val})}\n                                onAdd={() => handleAddKeyword('highImpactKeywords', keywordInputs.highImpact)}\n                                items={settings.highImpactKeywords || []}\n                                onRemove={(w) => removeFromList('highImpactKeywords', w)}\n                            />\n                            <div style={{fontSize:'0.7rem', color:'var(--text-muted)', marginTop:'5px'}}>\n                                ‚ÑπÔ∏è Articles containing these words receive the <strong>High Impact Boost</strong> (above).\n                            </div>\n                        </SettingCard>\n\n                        <SectionTitle icon=\"‚ö°\" title=\"Buzz Ranking\" />\n                        <SettingCard>\n                            <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '15px' }}>\n                                Configuration for \"Buzz\" and \"Social\" sections.\n                            </div>\n                            <SettingItem label=\"üì∏ Visual Boost\" subLabel=\"Videos/Images\">\n                                <input type=\"range\" min=\"1.0\" max=\"3.0\" step=\"0.1\" value={settings.buzzRankingWeights?.visual?.videoBoost || 2.0} onChange={(e) => updateNested('buzzRankingWeights.visual.videoBoost', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                            </SettingItem>\n                            <SettingItem label=\"üî• Trend Threshold\" subLabel=\"Lower = More Trending\">\n                                <input type=\"range\" min=\"5\" max=\"20\" step=\"1\" value={settings.buzzRankingWeights?.trending?.threshold || 10} onChange={(e) => updateNested('buzzRankingWeights.trending.threshold', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                            </SettingItem>\n                        </SettingCard>\n\n                        <SectionTitle icon=\"üîÑ\" title=\"Backup & Sync\" />\n                        <SettingCard>\n                            <div style={{ display: 'flex', gap: '10px' }}>\n                                <button className=\"btn btn--secondary\" onClick={handleExport} style={{ flex: 1 }}>\n                                    Export Backup\n                                </button>\n                                <label className=\"btn btn--secondary\" style={{ flex: 1, cursor: 'pointer', textAlign:'center' }}>\n                                    Import Backup\n                                    <input type=\"file\" accept=\".json\" onChange={handleImport} style={{ display: 'none' }} />\n                                </label>\n                            </div>\n                            <div style={{ fontSize: '0.7rem', color: 'var(--text-muted)', marginTop: '8px' }}>\n                                Saves Settings, Hidden Events (Plan My Week), and Watchlist to a file.\n                            </div>\n                        </SettingCard>\n                    </div>\n                );\n\n            case 'debug': return <DebugTab />;\n            default: return null;\n        }\n    };\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', height: '100vh', overflow: 'hidden' }}>\n            <Header title=\"Settings\" showBack backTo=\"/\" compact={true} style={{ flex: '0 0 auto' }} />\n            <div className=\"settings-layout\">\n                <div className=\"settings-sidebar\">\n                    {tabs.map(tab => (\n                        <button key={tab.id} className={`settings-tab-btn ${activeTab === tab.id ? 'active' : ''}`} onClick={() => setActiveTab(tab.id)}>\n                            <span className=\"tab-icon\">{tab.icon}</span>\n                            <span className=\"tab-label\">{tab.label}</span>\n                        </button>\n                    ))}\n                </div>\n                <div className=\"settings-content\">\n                    <div className=\"settings-scroll-area\" style={{ overflowY: activeTab === 'ranking' ? 'hidden' : 'auto', padding: activeTab === 'ranking' ? 0 : '15px' }}>{renderContent()}</div>\n                    <div className=\"settings-footer\">\n                        <div style={{display:'flex', gap:'10px', alignItems:'center'}}>\n                            <button className=\"btn btn--danger\" onClick={handleReset} style={{flex:1}}>Reset</button>\n                            <button className=\"btn btn--primary\" onClick={handleSave} style={{flex:1}}>{saved ? '‚úì Saved' : 'Save'}</button>\n                        </div>\n                        <div className=\"version-tag\">{APP_VERSION}</div>\n                    </div>\n                </div>\n            </div>\n            <style>{`\n                .settings-layout { display: flex; flex: 1; overflow: hidden; background: var(--bg-primary); }\n                .settings-sidebar { width: 60px; background: var(--bg-secondary); border-right: 1px solid var(--border-default); display: flex; flex-direction: column; padding: 10px 5px; overflow-y: auto; flex-shrink: 0; }\n                .settings-tab-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px 5px; border: none; background: transparent; color: var(--text-secondary); cursor: pointer; border-radius: 8px; margin-bottom: 5px; }\n                .settings-tab-btn.active { background: var(--accent-primary); color: #fff; }\n                .tab-icon { font-size: 1.5rem; } .tab-label { display: none; }\n                .settings-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }\n                .settings-scroll-area { flex: 1; overflow-y: auto; padding: 15px; }\n                .settings-footer { flex-shrink: 0; background: var(--bg-secondary); border-top: 1px solid var(--border-default); padding: 15px; }\n                .settings-card { background: var(--bg-card); border-radius: var(--radius-md); padding: 15px; margin-bottom: 20px; border: 1px solid var(--border-default); }\n                .section-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 12px; color: var(--text-primary); display: flex; align-items: center; gap: 8px; }\n                .settings-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }\n                .settings-item:last-child { border-bottom: none; }\n                .settings-select, .settings-input, .settings-input-number { background: var(--bg-secondary); border: 1px solid var(--border-default); color: var(--text-primary); padding: 8px; border-radius: 4px; font-size: 0.85rem; }\n                .settings-input { width: 100%; }\n                .chip-checkbox { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 16px; border: 1px solid var(--border-default); background: var(--bg-secondary); color: var(--text-primary); font-size: 0.8rem; cursor: pointer; }\n                .chip-checkbox.active { background: var(--accent-primary); color: #fff; border-color: var(--accent-primary); }\n                .keyword-chip { display: inline-flex; align-items: center; padding: 4px 8px; background: var(--bg-tertiary); border-radius: 4px; margin: 2px; font-size: 0.75rem; }\n                .keyword-chip button { background: none; border: none; color: var(--accent-danger); margin-left: 6px; cursor: pointer; padding: 0; }\n                .version-tag { text-align: right; font-size: 0.7rem; color: var(--text-muted); margin-top: 8px; font-family: monospace; opacity: 0.7; }\n            `}</style>\n        </div>\n    );\n}\n\n// --- MERGED RANKING COMPONENT (3-Level Vertical Tabs) ---\nconst MergedRankingTab = ({ settings, updateNested, updateSettings, addToList, removeFromList }) => {\n    // Top Level: 'main' (Global/TopStories), 'buzz', 'upahead'\n    const [topLevelTab, setTopLevelTab] = useState('main');\n\n    // Sub Level State (Managed independently per top level for better UX, or unified)\n    const [buzzSubTab, setBuzzSubTab] = useState('entertainment');\n    const [upAheadSubTab, setUpAheadSubTab] = useState('movies');\n\n    const [localInputs, setLocalInputs] = useState({});\n    const handleLocalInput = (key, val) => setLocalInputs(prev => ({ ...prev, [key]: val }));\n\n    // --- 1. MAIN TAB CONTENT ---\n    const renderMainContent = () => {\n        const stars = calculatePreviewStars(settings.rankingWeights || {});\n        return (\n            <div>\n                <div className=\"settings-card\" style={{ background: 'linear-gradient(135deg, rgba(255,215,0,0.1), rgba(0,0,0,0))', border: '1px solid rgba(255,215,0,0.3)' }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <div><div style={{ fontWeight: 600, color: '#FFD700' }}>‚òÖ Quality Rating</div></div>\n                        <div style={{ fontSize: '1.8rem', color: '#FFD700' }}>{'‚òÖ'.repeat(stars)}{'‚òÜ'.repeat(5 - stars)}</div>\n                    </div>\n                </div>\n\n                <SectionTitle icon=\"üèÜ\" title=\"Top Stories & Global\" />\n                <SettingCard>\n                    <SettingItem label=\"üèÜ Top Stories Boost\" subLabel=\"Min Score for Top Stories\">\n                        <input type=\"range\" min=\"8\" max=\"30\" step=\"1\" value={settings.rankingWeights?.trending?.threshold || 12} onChange={(e) => updateNested('rankingWeights.trending.threshold', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                    </SettingItem>\n                    <SettingItem label=\"üìå Keyword Match\" subLabel={`+${(settings.rankingWeights?.keyword?.matchBoost || 2.0).toFixed(1)} Points`}>\n                        <input type=\"range\" min=\"0\" max=\"5\" step=\"0.5\" value={settings.rankingWeights?.keyword?.matchBoost || 2.0} onChange={(e) => updateNested('rankingWeights.keyword.matchBoost', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                    </SettingItem>\n                    <SettingItem label=\"üìç Location Match\" subLabel={`${(settings.rankingWeights?.geo?.cityMatch || 1.5).toFixed(1)}x Multiplier`}>\n                        <input type=\"range\" min=\"1\" max=\"5\" step=\"0.1\" value={settings.rankingWeights?.geo?.cityMatch || 1.5} onChange={(e) => updateNested('rankingWeights.geo.cityMatch', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                    </SettingItem>\n                </SettingCard>\n\n                <SectionTitle icon=\"üìâ\" title=\"Freshness & Decay\" />\n                <SettingCard>\n                    <SettingItem label=\"üéöÔ∏è Freshness Sensitivity\" subLabel=\"Left: Stricter (Newer) | Right: Relaxed\">\n                        <div style={{ display: 'flex', alignItems: 'center', width: '100%', gap: '10px' }}>\n                            <span title=\"Strict/Fresh\" style={{fontSize:'1.2rem'}}>‚ö°</span>\n                            <input\n                                type=\"range\"\n                                min=\"6\"\n                                max=\"72\"\n                                value={settings.rankingWeights?.freshness?.decayHours || 26}\n                                onChange={(e) => updateNested('rankingWeights.freshness.decayHours', parseInt(e.target.value))}\n                                style={{ flex: 1 }}\n                            />\n                            <span title=\"Relaxed/Older\" style={{fontSize:'1.2rem'}}>üê¢</span>\n                        </div>\n                        <div style={{textAlign:'right', fontSize:'0.7rem', color:'var(--text-muted)'}}>\n                            Decay over {settings.rankingWeights?.freshness?.decayHours || 26}h\n                        </div>\n                    </SettingItem>\n                    <SettingItem label=\"üìâ Hide Stale News\" subLabel={`> ${settings.hideOlderThanHours || 60}h`}>\n                        <input type=\"number\" min={1} max={168} value={settings.hideOlderThanHours || 60} onChange={(e) => updateSettings({ ...settings, hideOlderThanHours: parseInt(e.target.value) || 60 })} className=\"settings-input-number\" style={{ width: '60px' }} />\n                    </SettingItem>\n                </SettingCard>\n\n                <SectionTitle icon=\"üß†\" title=\"Classification Logic\" />\n                <SettingCard>\n                    <div style={{fontSize: '0.8rem', color:'var(--text-muted)', marginBottom:'15px'}}>\n                        Automatic categorization logic.\n                    </div>\n                    <div className=\"settings-item__label\" style={{color:'var(--accent-primary)', marginTop:'10px'}}>Entity Overrides (Exact Matches)</div>\n                    <div style={{maxHeight:'200px', overflowY:'auto', background:'rgba(0,0,0,0.2)', padding:'10px', borderRadius:'8px', margin:'5px 0 15px 0', fontSize:'0.75rem', fontFamily:'monospace'}}>\n                        {Object.entries(ENTITY_OVERRIDES).map(([entity, section]) => (\n                            <div key={entity} style={{display:'flex', justifyContent:'space-between'}}>\n                                <span style={{color:'var(--text-primary)'}}>{entity}</span>\n                                <span style={{color:'var(--text-muted)'}}>‚Üí {section}</span>\n                            </div>\n                        ))}\n                    </div>\n                </SettingCard>\n            </div>\n        );\n    };\n\n    // --- 2. BUZZ TAB CONTENT ---\n    const renderBuzzContent = () => {\n        const navItems = [\n            { id: 'entertainment', label: 'Entertain', icon: 'üé¨' },\n            { id: 'technology', label: 'Tech', icon: 'üíª' },\n            { id: 'sports', label: 'Sports', icon: '‚öΩ' },\n            { id: 'social', label: 'Social', icon: 'üî•' },\n        ];\n\n        return (\n            <div style={{ display: 'flex', height: '100%', gap: '10px' }}>\n                <div style={{ width: '70px', flexShrink: 0, display: 'flex', flexDirection: 'column', gap: '5px' }}>\n                    {navItems.map(item => (\n                        <button\n                            key={item.id}\n                            onClick={() => setBuzzSubTab(item.id)}\n                            style={{\n                                display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center',\n                                padding:'8px 4px', border:'none', background: buzzSubTab === item.id ? 'var(--accent-primary)' : 'rgba(255,255,255,0.05)',\n                                color: buzzSubTab === item.id ? '#fff' : 'var(--text-secondary)',\n                                borderRadius:'8px', cursor:'pointer', fontSize:'0.7rem', fontWeight:500\n                            }}\n                        >\n                            <span style={{fontSize:'1.3rem', marginBottom:'2px'}}>{item.icon}</span>\n                            {item.label}\n                        </button>\n                    ))}\n                </div>\n                <div style={{ flex: 1, overflowY: 'auto' }}>\n                    {buzzSubTab === 'social' ? (\n                        <div>\n                            <SectionTitle icon=\"üî•\" title=\"Social Trends\" />\n                            <div style={{ fontSize: '0.8rem', color: 'var(--text-muted)', marginBottom: '15px' }}>\n                                Uses <strong>Legacy Scoring</strong> (Freshness + Source).\n                            </div>\n                            <SettingCard>\n                                <SettingItem label=\"üì∏ Visual Boost\" subLabel=\"Videos/Images\">\n                                    <input type=\"range\" min=\"1.0\" max=\"3.0\" step=\"0.1\" value={settings.buzzRankingWeights?.visual?.videoBoost || 2.0} onChange={(e) => updateNested('buzzRankingWeights.visual.videoBoost', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                                </SettingItem>\n                                <SettingItem label=\"üî• Trend Threshold\" subLabel=\"Lower = More Trending\">\n                                    <input type=\"range\" min=\"5\" max=\"20\" step=\"1\" value={settings.buzzRankingWeights?.trending?.threshold || 10} onChange={(e) => updateNested('buzzRankingWeights.trending.threshold', parseFloat(e.target.value))} style={{ width: '100%' }} />\n                                </SettingItem>\n                            </SettingCard>\n                        </div>\n                    ) : (\n                        <GenericRankingConfig\n                            title={buzzSubTab.charAt(0).toUpperCase() + buzzSubTab.slice(1)}\n                            icon={navItems.find(i => i.id === buzzSubTab).icon}\n                            configPath={`buzz.${buzzSubTab}`}\n                            configData={settings.buzz?.[buzzSubTab] || {}}\n                            updateNested={updateNested}\n                            addToList={addToList}\n                            removeFromList={removeFromList}\n                            localInputs={localInputs}\n                            handleLocalInput={handleLocalInput}\n                            subTab={buzzSubTab}\n                        />\n                    )}\n                </div>\n            </div>\n        );\n    };\n\n    // --- 3. UP AHEAD TAB CONTENT ---\n    const renderUpAheadContent = () => {\n        const categories = [\n            { id: 'movies', label: 'Movies', icon: 'üé¨' },\n            { id: 'events', label: 'Events', icon: 'üé§' },\n            { id: 'festivals', label: 'Festivals', icon: 'ü™î' },\n            { id: 'sports', label: 'Sports', icon: '‚öΩ' },\n            { id: 'shopping', label: 'Shopping', icon: 'üõí' },\n            { id: 'airlines', label: 'Airlines', icon: '‚úàÔ∏è' },\n            { id: 'alerts', label: 'Alerts', icon: '‚ö†Ô∏è' },\n            { id: 'civic', label: 'Civic', icon: 'üèõÔ∏è' }\n        ];\n\n        // Helper to get merged config for Up Ahead (combining legacy raw keyword arrays with new multipliers)\n        // We will store multipliers in `upAhead.ranking[catId]`\n        // Keywords remain in `upAhead.keywords[catId]`\n        const catConfig = settings.upAhead?.ranking?.[upAheadSubTab] || {};\n\n        // Helper to resolve effective keywords (User Setting > Default)\n        // If user setting is empty/undefined, the service uses defaults, so we show defaults.\n        const getEffectiveKeywords = (type) => {\n            const userList = type === 'positive'\n                ? settings.upAhead?.keywords?.[upAheadSubTab]\n                : settings.upAhead?.keywords?.[`${upAheadSubTab}_negative`];\n\n            // If user list exists and has length, use it.\n            if (userList && userList.length > 0) return userList;\n\n            // Fallback to defaults\n            const defaultList = type === 'positive'\n                ? DEFAULT_SETTINGS.upAhead.keywords[upAheadSubTab]\n                : DEFAULT_SETTINGS.upAhead.keywords[`${upAheadSubTab}_negative`];\n\n            return defaultList || [];\n        };\n\n        const effectivePositiveKeywords = getEffectiveKeywords('positive');\n        const effectiveNegativeKeywords = getEffectiveKeywords('negative');\n\n        // Helper for global negatives\n        const getEffectiveGlobalNegatives = () => {\n             const userList = settings.upAhead?.keywords?.negative;\n             if (userList && userList.length > 0) return userList;\n             return DEFAULT_SETTINGS.upAhead.keywords.negative || [];\n        };\n        const effectiveGlobalNegatives = getEffectiveGlobalNegatives();\n\n        // We synthesize a config object that looks like the Buzz one for the generic component\n        const synthesizedConfig = {\n            enabled: settings.upAhead?.categories?.[upAheadSubTab] !== false,\n            positiveMultiplier: catConfig.positiveMultiplier || 1.0,\n            negativeMultiplier: catConfig.negativeMultiplier || 1.0,\n            filterThreshold: catConfig.filterThreshold || 0,\n            // Generic component expects keyword arrays in the config object\n            positiveKeywords: effectivePositiveKeywords,\n            negativeKeywords: [\n                ...effectiveGlobalNegatives, // Global negatives\n                ...effectiveNegativeKeywords // Category specific negatives\n            ]\n        };\n\n        // Custom override for Up Ahead updating because data structure is split\n        // Generic component tries to update `path.positiveKeywords`, but we need `upAhead.keywords.catId`\n        const handleUpAheadUpdate = (field, val) => {\n            if (field === 'enabled') {\n                updateNested(`upAhead.categories.${upAheadSubTab}`, val);\n            } else if (field === 'positiveMultiplier' || field === 'negativeMultiplier' || field === 'filterThreshold') {\n                updateNested(`upAhead.ranking.${upAheadSubTab}.${field}`, val);\n            }\n        };\n\n        const handleUpAheadListAdd = (type, val) => {\n            if (!val || !val.trim()) return;\n            const item = val.trim();\n\n            if (type === 'positiveKeywords') {\n                // Get current effective list (could be defaults)\n                const currentList = getEffectiveKeywords('positive');\n                if (currentList.some(k => k.toLowerCase() === item.toLowerCase())) return;\n\n                // Save explicitly as user setting\n                updateNested(`upAhead.keywords.${upAheadSubTab}`, [...currentList, item]);\n\n            } else if (type === 'negativeKeywords') {\n                const currentList = getEffectiveKeywords('negative');\n                if (currentList.some(k => k.toLowerCase() === item.toLowerCase())) return;\n\n                updateNested(`upAhead.keywords.${upAheadSubTab}_negative`, [...currentList, item]);\n            }\n        };\n\n        const handleUpAheadListRemove = (type, val) => {\n            if (type === 'positiveKeywords') {\n                const currentList = getEffectiveKeywords('positive');\n                const newList = currentList.filter(k => k !== val);\n                // If newList is empty, it will revert to defaults on next render due to service logic.\n                // To allow clearing, we'd need a special marker or logic change.\n                // For now, saving empty list triggers default behavior, which is acceptable \"Reset to Default\" behavior implicitly.\n                updateNested(`upAhead.keywords.${upAheadSubTab}`, newList);\n\n            } else if (type === 'negativeKeywords') {\n                // Handle negative removal (check local first)\n                const localList = getEffectiveKeywords('negative');\n                if (localList.includes(val)) {\n                    const newList = localList.filter(k => k !== val);\n                    updateNested(`upAhead.keywords.${upAheadSubTab}_negative`, newList);\n                } else {\n                    // Try removing from global list?\n                    const globalList = getEffectiveGlobalNegatives();\n                    if (globalList.includes(val)) {\n                        if (window.confirm(`\"${val}\" is a global negative keyword. Remove it from ALL categories?`)) {\n                             const newGlobal = globalList.filter(k => k !== val);\n                             updateNested(`upAhead.keywords.negative`, newGlobal);\n                        }\n                    }\n                }\n            }\n        };\n\n        return (\n            <div style={{ display: 'flex', height: '100%', gap: '10px' }}>\n                <div style={{ width: '70px', flexShrink: 0, display: 'flex', flexDirection: 'column', gap: '5px' }}>\n                    {categories.map(cat => (\n                        <button\n                            key={cat.id}\n                            onClick={() => setUpAheadSubTab(cat.id)}\n                            style={{\n                                display:'flex', flexDirection:'column', alignItems:'center', justifyContent:'center',\n                                padding:'8px 4px', border:'none', background: upAheadSubTab === cat.id ? 'var(--accent-primary)' : 'rgba(255,255,255,0.05)',\n                                color: upAheadSubTab === cat.id ? '#fff' : 'var(--text-secondary)',\n                                borderRadius:'8px', cursor:'pointer', fontSize:'0.7rem', fontWeight:500\n                            }}\n                        >\n                            <span style={{fontSize:'1.3rem', marginBottom:'2px'}}>{cat.icon}</span>\n                            {cat.label}\n                        </button>\n                    ))}\n                </div>\n                <div style={{ flex: 1, overflowY: 'auto' }}>\n                    <SectionTitle icon=\"üåç\" title=\"Global Config\" />\n                    <SettingCard>\n                        <div className=\"settings-item__label\" style={{marginBottom:'5px'}}>Locations</div>\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginBottom:'15px' }}>\n                            {['Chennai', 'Muscat', 'Trichy'].map(loc => (\n                                <label key={loc} className={`chip-checkbox ${settings.upAhead?.locations?.includes(loc) ? 'active' : ''}`}>\n                                    <input\n                                        type=\"checkbox\" style={{ display: 'none' }}\n                                        checked={settings.upAhead?.locations?.includes(loc) || false}\n                                        onChange={(e) => {\n                                            const current = settings.upAhead?.locations || [];\n                                            const next = e.target.checked ? [...current, loc] : current.filter(l => l !== loc);\n                                            updateNested('upAhead.locations', next);\n                                        }}\n                                    />\n                                    {loc}\n                                </label>\n                            ))}\n                        </div>\n                    </SettingCard>\n\n                    <GenericRankingConfig\n                        title={categories.find(c => c.id === upAheadSubTab).label}\n                        icon={categories.find(c => c.id === upAheadSubTab).icon}\n                        configData={synthesizedConfig}\n                        // Pass custom handlers\n                        customUpdate={handleUpAheadUpdate}\n                        customAdd={handleUpAheadListAdd}\n                        customRemove={handleUpAheadListRemove}\n                        localInputs={localInputs}\n                        handleLocalInput={handleLocalInput}\n                        subTab={`ua_${upAheadSubTab}`}\n                    />\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div style={{display: 'flex', flexDirection: 'column', height: '100%'}}>\n            {/* Top Level Nav */}\n            <div style={{display:'flex', gap:'10px', marginBottom:'15px', padding:'0 15px', flexShrink:0}}>\n                <button className={`btn ${topLevelTab === 'main' ? 'btn--primary' : 'btn--secondary'}`} onClick={() => setTopLevelTab('main')} style={{flex:1}}>\n                    ‚öôÔ∏è Main\n                </button>\n                <button className={`btn ${topLevelTab === 'buzz' ? 'btn--primary' : 'btn--secondary'}`} onClick={() => setTopLevelTab('buzz')} style={{flex:1}}>\n                    ‚ö° Buzz\n                </button>\n                <button className={`btn ${topLevelTab === 'upahead' ? 'btn--primary' : 'btn--secondary'}`} onClick={() => setTopLevelTab('upahead')} style={{flex:1}}>\n                    üóìÔ∏è Up Ahead\n                </button>\n            </div>\n\n            {/* Content Area */}\n            <div className=\"settings-tab-content\" style={{flex:1, overflowY:'auto', overflowX:'hidden', padding:'0 15px 15px 15px'}}>\n                {topLevelTab === 'main' && renderMainContent()}\n                {topLevelTab === 'buzz' && renderBuzzContent()}\n                {topLevelTab === 'upahead' && renderUpAheadContent()}\n            </div>\n        </div>\n    );\n};\n\n// --- GENERIC RANKING CONFIGURATOR (Reusable for Buzz & UpAhead) ---\nconst GenericRankingConfig = ({\n    title, icon, configPath, configData,\n    updateNested, addToList, removeFromList,\n    localInputs, handleLocalInput, subTab,\n    customUpdate, customAdd, customRemove\n}) => {\n\n    // Handlers: prefer custom if provided (for UpAhead), else standard (for Buzz)\n    const onUpdate = (field, val) => {\n        if (customUpdate) customUpdate(field, val);\n        else updateNested(`${configPath}.${field}`, val);\n    };\n\n    const onAdd = (type, val) => {\n        if (customAdd) customAdd(type, val);\n        else addToList(`${configPath}.${type}`, val);\n    };\n\n    const onRemove = (type, val) => {\n        if (customRemove) customRemove(type, val);\n        else removeFromList(`${configPath}.${type}`, val);\n    };\n\n    return (\n        <div>\n            <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:'15px'}}>\n                <SectionTitle icon={icon} title={title} />\n                <div style={{display:'flex', alignItems:'center', gap:'10px'}}>\n                    <span style={{fontSize:'0.8rem', color:'var(--text-muted)'}}>{configData.enabled !== false ? 'Active' : 'Disabled'}</span>\n                    <Toggle checked={configData.enabled !== false} onChange={(val) => onUpdate('enabled', val)} />\n                </div>\n            </div>\n\n            <SettingCard>\n                <div style={{fontSize:'0.8rem', color:'var(--text-muted)', marginBottom:'15px'}}>\n                    <strong>Ranking Formula:</strong> (Positive Matches √ó Multiplier) ‚Äî (Negative Matches √ó Multiplier)\n                </div>\n\n                {/* POSITIVE BLOCK */}\n                <div style={{background: 'rgba(76, 175, 80, 0.1)', border:'1px solid rgba(76, 175, 80, 0.3)', borderRadius:'8px', padding:'15px', marginBottom:'20px'}}>\n                    <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:'10px'}}>\n                        <div style={{fontWeight:600, color:'#81c784'}}>‚úÖ Positive Boost</div>\n                        <div style={{display:'flex', alignItems:'center', gap:'10px', background:'rgba(0,0,0,0.3)', padding:'4px 8px', borderRadius:'6px'}}>\n                            <span style={{fontSize:'0.75rem', color:'#fff'}}>Multi: <strong>{configData.positiveMultiplier || 1}x</strong></span>\n                            <input\n                                type=\"range\" min=\"0\" max=\"5\" step=\"0.1\"\n                                value={configData.positiveMultiplier || 1}\n                                onChange={(e) => onUpdate('positiveMultiplier', parseFloat(e.target.value))}\n                                style={{width:'80px'}}\n                            />\n                        </div>\n                    </div>\n                    <KeywordInput\n                        label=\"\"\n                        placeholder=\"Add positive keyword...\"\n                        value={localInputs[`${subTab}_pos`] || ''}\n                        onChange={(val) => handleLocalInput(`${subTab}_pos`, val)}\n                        onAdd={() => {\n                            onAdd('positiveKeywords', localInputs[`${subTab}_pos`]);\n                            handleLocalInput(`${subTab}_pos`, '');\n                        }}\n                        items={configData.positiveKeywords || []}\n                        onRemove={(w) => onRemove('positiveKeywords', w)}\n                    />\n                </div>\n\n                {/* NEGATIVE BLOCK */}\n                <div style={{background: 'rgba(244, 67, 54, 0.1)', border:'1px solid rgba(244, 67, 54, 0.3)', borderRadius:'8px', padding:'15px', marginBottom:'20px'}}>\n                    <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:'10px'}}>\n                        <div style={{fontWeight:600, color:'#e57373'}}>üö´ Negative Penalty</div>\n                        <div style={{display:'flex', alignItems:'center', gap:'10px', background:'rgba(0,0,0,0.3)', padding:'4px 8px', borderRadius:'6px'}}>\n                            <span style={{fontSize:'0.75rem', color:'#fff'}}>Multi: <strong>{configData.negativeMultiplier || 1}x</strong></span>\n                            <input\n                                type=\"range\" min=\"0\" max=\"5\" step=\"0.1\"\n                                value={configData.negativeMultiplier || 1}\n                                onChange={(e) => onUpdate('negativeMultiplier', parseFloat(e.target.value))}\n                                style={{width:'80px'}}\n                            />\n                        </div>\n                    </div>\n                    <KeywordInput\n                        label=\"\"\n                        placeholder=\"Add negative keyword...\"\n                        value={localInputs[`${subTab}_neg`] || ''}\n                        onChange={(val) => handleLocalInput(`${subTab}_neg`, val)}\n                        onAdd={() => {\n                            onAdd('negativeKeywords', localInputs[`${subTab}_neg`]);\n                            handleLocalInput(`${subTab}_neg`, '');\n                        }}\n                        items={configData.negativeKeywords || []}\n                        onRemove={(w) => onRemove('negativeKeywords', w)}\n                    />\n                </div>\n\n                {/* FILTER THRESHOLD */}\n                <SettingItem label=\"üõ°Ô∏è Filter Threshold\" subLabel={`Hide if Score < ${configData.filterThreshold || 0}`}>\n                    <input\n                        type=\"range\" min=\"-5\" max=\"5\" step=\"1\"\n                        value={configData.filterThreshold || 0}\n                        onChange={(e) => onUpdate('filterThreshold', parseInt(e.target.value))}\n                        style={{width:'100%'}}\n                    />\n                </SettingItem>\n            </SettingCard>\n        </div>\n    );\n};\n\nconst SectionTitle = ({ icon, title }) => <div className=\"section-title\"><span>{icon}</span> {title}</div>;\nconst SettingCard = ({ children }) => <div className=\"settings-card\">{children}</div>;\nconst SettingItem = ({ label, subLabel, children }) => (\n    <div className=\"settings-item\">\n        <div className=\"settings-item__label\"><span>{label}</span>{subLabel && <small>{subLabel}</small>}</div>\n        <div style={{ flex: '0 0 auto', marginLeft: '10px' }}>{children}</div>\n    </div>\n);\nconst KeywordInput = ({ label, placeholder, value, onChange, onAdd, items, onRemove }) => (\n    <div style={{ marginBottom: '15px' }}>\n        <div className=\"settings-item__label\" style={{ marginBottom: '6px' }}>{label}</div>\n        <div style={{ display: 'flex', gap: '8px', marginBottom: '8px' }}>\n            <input type=\"text\" value={value} onChange={(e) => onChange(e.target.value)} placeholder={placeholder} className=\"settings-input\" onKeyDown={(e) => e.key === 'Enter' && onAdd()} />\n            <button className=\"btn btn--secondary\" onClick={onAdd} style={{padding:'0 15px'}}>Add</button>\n        </div>\n        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>\n            {items.map((item, i) => (\n                <span key={i} className=\"keyword-chip\">{item}<button onClick={() => onRemove(item)}>√ó</button></span>\n            ))}\n            {items.length === 0 && <span style={{fontSize:'0.75rem', color:'var(--text-muted)'}}>Default keywords only</span>}\n        </div>\n    </div>\n);\n\nexport default SettingsPage;\n"],"names":["CORS_PROXY","isFeedUrl","url","discoverFeeds","encodedUrl","data","doc","feeds","tag","feedUrl","title","baseUrl","commonPaths","path","error","APP_VERSION","DebugTab","settings","useSettings","logs","setLogs","useState","setError","useEffect","logStore","e","safeRender","msg","jsxs","jsx","log","i","calculatePreviewStars","weights","w","fresh","source","visual","city","score","SettingsPage","updateSettings","reloadSettings","activeTab","setActiveTab","saved","setSaved","newFeedUrl","setNewFeedUrl","isDiscovering","setIsDiscovering","discoveryError","setDiscoveryError","keywordInputs","setKeywordInputs","expandedCategory","setExpandedCategory","tierInputs","setTierInputs","sandbox","setSandbox","dummyItem","simSettings","computeImpactScore","prev","updateNested","value","keys","newSettings","obj","handleSave","handleReset","DEFAULT_SETTINGS","addToList","item","currentList","k","removeFromList","handleAddKeyword","key","addTierSource","tier","s","removeTierSource","handleAddFeed","bestFeed","removeCustomFeed","index","newFeeds","handleExport","exportData","dataStr","downloadAnchorNode","handleImport","event","file","reader","imported","tabs","renderContent","SectionTitle","SettingCard","SettingItem","MergedRankingTab","newCities","Toggle","val","KeywordInput","feed","Header","tab","topLevelTab","setTopLevelTab","buzzSubTab","setBuzzSubTab","upAheadSubTab","setUpAheadSubTab","localInputs","setLocalInputs","handleLocalInput","renderMainContent","stars","ENTITY_OVERRIDES","entity","section","renderBuzzContent","navItems","GenericRankingConfig","renderUpAheadContent","categories","catConfig","getEffectiveKeywords","type","userList","effectivePositiveKeywords","effectiveNegativeKeywords","getEffectiveGlobalNegatives","effectiveGlobalNegatives","synthesizedConfig","handleUpAheadUpdate","field","handleUpAheadListAdd","handleUpAheadListRemove","newList","localList","globalList","newGlobal","cat","loc","current","next","l","c","icon","configPath","configData","subTab","customUpdate","customAdd","customRemove","onUpdate","onAdd","onRemove","children","label","subLabel","placeholder","onChange","items"],"mappings":"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"}