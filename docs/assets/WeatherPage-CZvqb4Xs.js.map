{"version":3,"file":"WeatherPage-CZvqb4Xs.js","sources":["../../src/components/WeatherStickyHeader.jsx","../../src/components/DetailedWeatherCard.jsx","../../src/pages/WeatherPage.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\n\nconst WeatherStickyHeader = ({ weatherData, activeCity, onRefresh, loading, isDesktop }) => {\n\n    // Normalize city name\n    const city = activeCity || Object.keys(weatherData)[0] || 'chennai';\n    const cityData = weatherData[city] || weatherData[city.toLowerCase()];\n\n    // Generate Quick Forecast Summary (Next 8 hours)\n    const quickForecast = useMemo(() => {\n        if (!cityData) return \"Loading weather data...\";\n\n        const current = cityData.current || {};\n        const next8Hours = cityData.next8Hours || [];\n        const hourly24 = cityData.hourly24 || [];\n\n        // 1. Get High Temp\n        let highTemp = current.high;\n\n        if (highTemp == null || highTemp === undefined) {\n            if (hourly24.length > 0) {\n                const maxHourly = Math.max(...hourly24.map(h => h.temp || -999));\n                if (maxHourly !== -999) highTemp = maxHourly;\n            }\n        }\n\n        const highDisplay = (highTemp !== null && highTemp !== undefined) ? `${highTemp}¬∞` : '--';\n\n        // 2. Determine \"Useful Info\" / Alert (Priority: Rain > Wind > Heat > Humidity)\n        let usefulInfo = \"\";\n\n        // Check for immediate rain (next 4 hours)\n        const rainSoon = next8Hours.slice(0, 4).find(h => (h.precip > 0.5 || h.prob >= 40));\n\n        if (rainSoon) {\n            usefulInfo = `Rain likely at ${rainSoon.label}`;\n        }\n        else if (current.windSpeed > 25) {\n            usefulInfo = `Windy (${current.windSpeed} km/h)`;\n        }\n        else if ((current.temp > 38) || (highTemp > 38)) {\n            usefulInfo = \"Heatwave Alert\";\n        }\n        else if (current.humidity > 85 && current.temp > 30) {\n            usefulInfo = \"High Humidity\";\n        }\n        // If it's raining now\n        else if (current.condition && current.condition.toLowerCase().includes('rain')) {\n             usefulInfo = \"Raining Now\";\n        }\n\n        // Base string: Condition ‚Ä¢ High X\n        let baseString = `${current.condition || 'Clear'} ‚Ä¢ High ${highDisplay}`;\n\n        // Append useful info if available\n        if (usefulInfo) {\n            return `${baseString} ‚Ä¢ ${usefulInfo}`;\n        }\n\n        return baseString;\n\n    }, [cityData]);\n\n    return (\n        <div style={{\n            position: 'sticky',\n            top: 0,\n            zIndex: 100,\n            background: 'linear-gradient(to bottom, var(--bg-card), var(--bg-primary))',\n            borderBottom: '1px solid var(--border-default)',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.4)',\n            padding: '16px 20px',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            backdropFilter: 'blur(12px)',\n            WebkitBackdropFilter: 'blur(12px)',\n        }}>\n            {/* Left: City & Forecast */}\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <h2 style={{\n                        fontSize: '1.4rem',\n                        margin: 0,\n                        fontWeight: 800,\n                        background: 'linear-gradient(135deg, #fff 0%, #aaa 100%)',\n                        WebkitBackgroundClip: 'text',\n                        WebkitTextFillColor: 'transparent',\n                        textTransform: 'capitalize',\n                        letterSpacing: '-0.02em',\n                        lineHeight: 1.1\n                    }}>\n                        {city}\n                    </h2>\n                    {loading && <span className=\"pulse-dot\" style={{\n                        width:'8px',\n                        height:'8px',\n                        borderRadius:'50%',\n                        background:'var(--accent-primary)',\n                        display: 'inline-block',\n                        boxShadow: '0 0 10px var(--accent-primary)'\n                    }}></span>}\n                </div>\n                <div style={{\n                    fontSize: '0.95rem',\n                    color: 'var(--accent-info)',\n                    fontWeight: 600,\n                    whiteSpace: 'nowrap',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    maxWidth: isDesktop ? 'auto' : '280px',\n                    opacity: 0.9\n                }}>\n                    {quickForecast}\n                </div>\n            </div>\n\n            {/* Right: Refresh Action */}\n            <button\n                onClick={onRefresh}\n                style={{\n                    background: 'rgba(255,255,255,0.05)',\n                    border: '1px solid rgba(255,255,255,0.1)',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    cursor: 'pointer',\n                    color: 'var(--text-primary)',\n                    opacity: loading ? 0.7 : 1,\n                    transition: 'all 0.2s ease',\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.2)'\n                }}\n                title=\"Refresh Weather\"\n            >\n                <span style={{\n                    display: 'block',\n                    transform: loading ? 'rotate(360deg)' : 'none',\n                    transition: 'transform 1s linear infinite',\n                    fontSize: '18px'\n                }}>\n                    {loading ? '‚ü≥' : '‚Üª'}\n                </span>\n            </button>\n        </div>\n    );\n};\n\nexport default WeatherStickyHeader;\n","import React, { useState } from 'react';\nimport './DetailedWeatherCard.css';\nimport WeatherIcon from './WeatherIcons';\nimport { UmbrellaIcon, CloudIcon, HumidityIcon, WindIcon } from './AppIcons';\nimport { useSettings } from '../context/SettingsContext';\n\nexport default function DetailedWeatherCard({ weatherData, activeCity, setActiveCity }) {\n    const { settings } = useSettings();\n    const cities = (settings.weather?.cities || ['chennai', 'trichy', 'muscat']).map(c => c.toLowerCase());\n\n    const cityLabels = {\n        chennai: 'Chennai',\n        trichy: 'Trichy',\n        muscat: 'Muscat',\n        [cities[2]]: cities[2].charAt(0).toUpperCase() + cities[2].slice(1)\n    };\n    const cityIcons = { chennai: 'üèõÔ∏è', trichy: 'üèØ', muscat: 'üìç', [cities[2]]: 'üìç' };\n\n    const [expandedCard, setExpandedCard] = useState(null);\n\n    if (!weatherData) return null;\n    const cityData = weatherData[activeCity] || weatherData['chennai'];\n\n    if (!cityData) return <div className=\"dw-container\">Data unavailable</div>;\n\n    // Time-based Segments Logic\n    const hour = new Date().getHours();\n    let segments = [];\n\n    const getSeg = (day, period, labelOverride = null) => {\n        const dKey = day === 'today' ? cityData : cityData.tomorrow;\n        const pKey = period; // 'morning', 'noon', 'evening'\n        const data = day === 'today' ? cityData[period] : cityData.tomorrow?.[period];\n\n        let label = labelOverride;\n        if (!label) {\n            if (period === 'morning') label = 'Morning';\n            else if (period === 'noon') label = 'Afternoon';\n            else label = 'Evening';\n\n            if (day === 'tomorrow') label = 'Tomorrow ' + label;\n        }\n\n        return {\n            id: `${day}-${period}`,\n            label: label,\n            data: data\n        };\n    };\n\n    // Determine 3 contextual cards\n    if (hour < 11) {\n        segments = [\n            getSeg('today', 'morning', 'This Morning'),\n            getSeg('today', 'noon'),\n            getSeg('today', 'evening')\n        ];\n    } else if (hour < 17) {\n        segments = [\n            getSeg('today', 'noon', 'This Afternoon'),\n            getSeg('today', 'evening'),\n            getSeg('tomorrow', 'morning')\n        ];\n    } else if (hour < 21) {\n        segments = [\n            getSeg('today', 'evening', 'Tonight'),\n            getSeg('tomorrow', 'morning'),\n            getSeg('tomorrow', 'noon')\n        ];\n    } else {\n        segments = [\n            getSeg('tomorrow', 'morning', 'Tomorrow Morning'),\n            getSeg('tomorrow', 'noon'),\n            getSeg('tomorrow', 'evening')\n        ];\n    }\n\n    return (\n        <div className=\"dw-container\">\n            {/* Sidebar (Vertical Tabs) */}\n            <div className=\"dw-sidebar\">\n                {cities.map(city => (\n                    <button\n                        key={city}\n                        className={`dw-city-tab ${city === activeCity ? 'active' : ''}`}\n                        onClick={() => setActiveCity(city)}\n                        aria-label={`Select ${cityLabels[city]}`}\n                    >\n                        <span className=\"dw-city-icon\">{cityIcons[city] || 'üìç'}</span>\n                        <span className=\"dw-city-name\">{cityLabels[city] || city}</span>\n                    </button>\n                ))}\n            </div>\n\n            {/* Content Area */}\n            <div className=\"dw-content\">\n                {/* Header for Selected City */}\n                <div className=\"dw-header\">\n                    <div className=\"dw-header-main\">\n                        <h2 className=\"dw-city-title\">{cityData.name}</h2>\n                        <span className=\"dw-current-temp\">{cityData.current?.temp}¬∞</span>\n                    </div>\n                    <div className=\"dw-header-sub\">\n                        {cityData.summary}\n                    </div>\n                </div>\n\n                {/* 3 Contextual Cards */}\n                <div className=\"dw-cards-list\">\n                    {segments.map((seg, idx) => {\n                        if (!seg.data) return null;\n                        return (\n                            <WeatherSegmentCard\n                                key={seg.id}\n                                segment={seg}\n                                isExpanded={expandedCard === idx}\n                                onToggle={() => setExpandedCard(expandedCard === idx ? null : idx)}\n                            />\n                        );\n                    })}\n                </div>\n\n                {/* Footer */}\n                <div className=\"dw-footer\">\n                   Forecast based on {cityData.models?.count} models ({cityData.models?.names}).\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction WeatherSegmentCard({ segment, isExpanded, onToggle }) {\n    const { label, data } = segment;\n\n    // Rainfall Logic\n    const rainMmVal = parseFloat(data.rainMm === '-' ? 0 : data.rainMm);\n    const rainProbVal = data.rainProb?.avg || 0;\n    const hasSignificantRain = rainMmVal >= 1.0;\n    const hasAnyRain = rainMmVal > 0 || rainProbVal > 0;\n\n    let RainIcon = CloudIcon;\n    let rainColor = 'var(--text-secondary)';\n    let rainText = 'No significant rain';\n\n    if (hasAnyRain) {\n        if (hasSignificantRain) {\n            RainIcon = UmbrellaIcon;\n            rainColor = '#3b82f6'; // Blue\n        } else {\n            RainIcon = CloudIcon; // Or trace icon\n             rainColor = '#94a3b8'; // Greyish\n        }\n\n        // Format: \"4.2mm (65%)\"\n        rainText = `${rainMmVal > 0 ? rainMmVal.toFixed(1) + 'mm' : 'Trace'} (${rainProbVal}%)`;\n    }\n\n    // Condition Text / Description\n    // If API doesn't provide a text summary for the segment, infer one\n    const description = getConditionText(data);\n\n    return (\n        <div className={`dw-card ${isExpanded ? 'expanded' : ''}`} onClick={onToggle}>\n            <div className=\"dw-card-header\">\n                <span className=\"dw-period-badge\">{label}</span>\n                <span className=\"dw-expand-hint\">{isExpanded ? 'Collapse' : 'Touch for Hourly'}</span>\n            </div>\n\n            <div className=\"dw-card-main\">\n                <div className=\"dw-main-icon\">\n                    {data.iconId ? <WeatherIcon id={data.iconId} size={56} /> : <span style={{fontSize:'3rem'}}>{data.icon}</span>}\n                </div>\n                <div className=\"dw-main-temp\">\n                    <div className=\"dw-temp-val\">{data.temp}¬∞</div>\n                    <div className=\"dw-temp-feels\">Feels like {data.feelsLike}¬∞</div>\n                </div>\n            </div>\n\n            <div className=\"dw-details-grid\">\n                {/* Row 1: Rainfall (Umbrella if >1mm) */}\n                <div className=\"dw-detail-row\">\n                    <div className=\"dw-detail-icon\">\n                        <RainIcon size={20} color={rainColor} />\n                    </div>\n                    <div className=\"dw-detail-text\">\n                        {rainText}\n                    </div>\n                </div>\n\n                {/* Row 2: Humidity, Wind Speed */}\n                <div className=\"dw-detail-row\">\n                    <div className=\"dw-detail-icon\"><HumidityIcon size={20} /></div>\n                    <div className=\"dw-detail-text\">\n                        {data.humidity}% <span className=\"dw-sep\">|</span> <WindIcon size={16} /> {data.windSpeed} km/h\n                    </div>\n                </div>\n\n                {/* Row 3: UV, PM 2.5 */}\n                <div className=\"dw-detail-row\">\n                    <div className=\"dw-detail-icon\">‚òÄÔ∏è</div>\n                    <div className=\"dw-detail-text\">\n                        UV: {data.uvIndex || '-'} <span className=\"dw-sep\">|</span> PM 2.5: -\n                    </div>\n                </div>\n\n                {/* Row 4: Descriptive */}\n                <div className=\"dw-detail-row\">\n                    <div className=\"dw-detail-icon\">‚ÑπÔ∏è</div>\n                    <div className=\"dw-detail-text dw-desc\">\n                        {description}\n                    </div>\n                </div>\n            </div>\n\n            {isExpanded && data.hourly && (\n                <div className=\"dw-hourly-container hide-scrollbar\" onClick={(e) => e.stopPropagation()}>\n                    {data.hourly.map((h, i) => (\n                        <div key={i} className=\"dw-hourly-slot\">\n                            <span className=\"dw-slot-time\">{h.time}</span>\n                            <div className=\"dw-slot-icon\">\n                                {h.iconId ? <WeatherIcon id={h.iconId} size={28} /> : h.icon}\n                            </div>\n                            <strong className=\"dw-slot-temp\">{h.temp}¬∞</strong>\n                            {h.precip > 0 && (\n                                <span className=\"dw-slot-precip\">\n                                    {h.precip >= 1 && <span style={{fontSize:'0.7rem'}}>‚òÇÔ∏è</span>}\n                                    {h.precip}mm\n                                </span>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction getConditionText(data) {\n    // Generate a short description based on metrics\n    const parts = [];\n    if (data.rainProb?.avg > 40) parts.push(\"Rain expected.\");\n    else if (data.cloudCover > 70) parts.push(\"Cloudy.\");\n    else if (data.cloudCover < 20) parts.push(\"Clear skies.\");\n\n    if (data.windSpeed > 20) parts.push(\"Breezy.\");\n    if (data.uvIndex > 8) parts.push(\"High UV.\");\n\n    if (parts.length === 0) return \"Pleasant conditions.\";\n    return parts.join(\" \");\n}\n","import React, { useState, useEffect } from 'react';\nimport WeatherStickyHeader from '../components/WeatherStickyHeader';\nimport DetailedWeatherCard from '../components/DetailedWeatherCard';\nimport { useWeather } from '../context/WeatherContext';\nimport { useSettings } from '../context/SettingsContext';\nimport { useMediaQuery } from '../hooks/useMediaQuery';\n\n/**\n * Weather Page\n * Dedicated page for detailed weather forecast with sticky header\n */\nfunction WeatherPage() {\n    const { weatherData, loading, error, refreshWeather } = useWeather();\n    const { settings } = useSettings();\n    const { isDesktop } = useMediaQuery();\n\n    // Use real data, if loading show spinner or skeletal\n    const displayData = weatherData;\n    const cities = (settings.weather?.cities || ['chennai', 'trichy', 'muscat']).map(c => c.toLowerCase());\n\n    // Lift active city state up\n    const [activeCity, setActiveCity] = useState(() => {\n        return localStorage.getItem('dw_active_city') || 'chennai';\n    });\n\n    useEffect(() => {\n        localStorage.setItem('dw_active_city', activeCity);\n    }, [activeCity]);\n\n    const handleRefresh = () => {\n        refreshWeather(true);\n    };\n\n    // Loading State\n    if (loading && !weatherData) {\n        return (\n            <div className=\"page-container\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100vh' }}>\n                <div className=\"loading\">\n                    <div className=\"loading__spinner\"></div>\n                    <span>Loading Forecast...</span>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"page-container\" style={{ padding: 0 }}>\n            {/* Sticky Header replaces standard Header */}\n            {displayData && (\n                <WeatherStickyHeader\n                    weatherData={displayData}\n                    activeCity={activeCity} // Pass active city\n                    cities={cities}\n                    onRefresh={handleRefresh}\n                    loading={loading}\n                    isDesktop={isDesktop}\n                />\n            )}\n\n            <main className=\"main-content\" style={{ padding: 0, marginTop: 0 }}>\n                {error && (\n                    <div className=\"topline\" style={{ borderLeftColor: 'var(--accent-danger)', margin: '16px' }}>\n                        <div className=\"topline__label\" style={{ color: 'var(--accent-danger)' }}>Error</div>\n                        <div className=\"topline__text\">Failed to update weather. Showing cached data.</div>\n                    </div>\n                )}\n\n                {/* Only render WeatherCard if data is available */}\n                {displayData ? (\n                    <DetailedWeatherCard\n                        weatherData={displayData}\n                        activeCity={activeCity} // Controlled by parent\n                        setActiveCity={setActiveCity} // Controlled by parent\n                    />\n                ) : (\n                    <div className=\"empty-state\">\n                        <div className=\"empty-state__icon\">‚òÅÔ∏è</div>\n                        <p>Weather data unavailable.</p>\n                        <button onClick={handleRefresh} className=\"btn btn--secondary mt-md\">Retry</button>\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n}\n\nexport default WeatherPage;\n"],"names":["WeatherStickyHeader","weatherData","activeCity","onRefresh","loading","isDesktop","city","cityData","quickForecast","useMemo","current","next8Hours","hourly24","highTemp","maxHourly","h","highDisplay","usefulInfo","rainSoon","baseString","jsxs","jsx","DetailedWeatherCard","setActiveCity","settings","useSettings","cities","c","cityLabels","cityIcons","expandedCard","setExpandedCard","useState","hour","segments","getSeg","day","period","labelOverride","data","label","seg","idx","WeatherSegmentCard","segment","isExpanded","onToggle","rainMmVal","rainProbVal","hasSignificantRain","hasAnyRain","RainIcon","CloudIcon","rainColor","rainText","UmbrellaIcon","description","getConditionText","WeatherIcon","HumidityIcon","WindIcon","e","i","parts","WeatherPage","error","refreshWeather","useWeather","useMediaQuery","displayData","useEffect","handleRefresh"],"mappings":"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"}