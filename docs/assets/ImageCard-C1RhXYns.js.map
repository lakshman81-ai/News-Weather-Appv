{"version":3,"file":"ImageCard-C1RhXYns.js","sources":["../../src/components/ImageCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSettings } from '../context/SettingsContext';\nimport './ImageCard.css';\n\nexport function ImageCard({ article, size = 'medium', onClick, href, badge }) {\n    const { settings } = useSettings();\n    const [imageError, setImageError] = useState(false);\n    const [imageLoaded, setImageLoaded] = useState(false);\n    const [showDebug, setShowDebug] = useState(false);\n\n    const placeholderImage = `https://via.placeholder.com/400x250/12171E/00D4AA?text=${encodeURIComponent(article.source)}`;\n\n    const showImage = article.imageUrl && !imageError;\n\n    const Tag = href ? 'a' : 'article';\n    const props = href ? {\n        href,\n        target: '_blank',\n        rel: 'noopener noreferrer'\n    } : {};\n\n    return (\n        <Tag\n            className={`image-card image-card--${size}`}\n            onClick={onClick}\n            {...props}\n            style={{ position: 'relative' }}\n        >\n            {/* DEBUG OVERLAY */}\n            {settings?.debugLogs && article._scoreBreakdown && (\n                <div\n                    className=\"debug-badge\"\n                    onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowDebug(!showDebug); }}\n                    style={{\n                        position: 'absolute', top: '5px', right: '5px', zIndex: 20,\n                        background: 'rgba(0,0,0,0.7)', color: '#00ff41',\n                        fontSize: '0.6rem', padding: '2px 4px', borderRadius: '4px', cursor: 'help',\n                        border: '1px solid #00ff41'\n                    }}\n                >\n                    {article._scoreBreakdown.total.toFixed(1)}\n                    {showDebug && (\n                        <div style={{\n                            position: 'absolute', top: '100%', right: 0, width: '200px',\n                            background: '#111', border: '1px solid #333', padding: '8px',\n                            borderRadius: '4px', boxShadow: '0 4px 12px rgba(0,0,0,0.5)',\n                            pointerEvents: 'none'\n                        }}>\n                            {Object.entries(article._scoreBreakdown).map(([k, v]) => (\n                                k !== 'total' && typeof v === 'number' && (\n                                    <div key={k} style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '2px' }}>\n                                        <span style={{ color: '#aaa', textTransform: 'capitalize' }}>{k}</span>\n                                        <span style={{ color: '#fff' }}>{v.toFixed(2)}</span>\n                                    </div>\n                                )\n                            ))}\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {showImage && (\n                <div className=\"image-card__media\">\n                    {!imageLoaded && (\n                        <div className=\"image-card__skeleton\"></div>\n                    )}\n                    <img\n                        src={article.imageUrl}\n                        alt={article.title}\n                        className={`image-card__image ${imageLoaded ? 'loaded' : ''}`}\n                        onLoad={() => setImageLoaded(true)}\n                        onError={() => setImageError(true)}\n                        loading=\"lazy\"\n                    />\n                    {badge && (\n                        <div className=\"image-card__badge\">\n                            {badge}\n                        </div>\n                    )}\n                    <div className=\"image-card__overlay\">\n                        <span className=\"image-card__source\">{article.source}</span>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"image-card__content\">\n                <h3 className=\"image-card__headline\">{article.title}</h3>\n                {article.summary && (\n                    <p className=\"image-card__summary\">\n                        {article.summary.substring(0, 150)}...\n                    </p>\n                )}\n                <div className=\"image-card__meta\">\n                    <span className=\"meta__time\">{article.time}</span>\n                    {article.sentiment && (\n                        <span className={`meta__sentiment meta__sentiment--${article.sentiment.label}`}>\n                            {article.sentiment.label === 'positive' ? 'ðŸ“ˆ' :\n                                article.sentiment.label === 'negative' ? 'ðŸ“‰' : 'ï¿½'}\n                        </span>\n                    )}\n                </div>\n            </div>\n        </Tag>\n    );\n}\n"],"names":["ImageCard","article","size","onClick","href","badge","settings","useSettings","imageError","setImageError","useState","imageLoaded","setImageLoaded","showDebug","setShowDebug","showImage","Tag","props","jsxs","e","jsx","k","v"],"mappings":"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"}