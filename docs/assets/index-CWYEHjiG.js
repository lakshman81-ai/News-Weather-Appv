(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();function Lg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Yc={exports:{}},Ni={};var bm;function J0(){if(bm)return Ni;bm=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:a,type:o,key:h,ref:u!==void 0?u:null,props:f}}return Ni.Fragment=i,Ni.jsx=r,Ni.jsxs=r,Ni}var Sm;function P0(){return Sm||(Sm=1,Yc.exports=J0()),Yc.exports}var s=P0(),Fc={exports:{}},ge={};var wm;function ev(){if(wm)return ge;wm=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function j(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function z(S,A,O){this.props=S,this.context=A,this.refs=k,this.updater=O||E}z.prototype.isReactComponent={},z.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},z.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function N(){}N.prototype=z.prototype;function U(S,A,O){this.props=S,this.context=A,this.refs=k,this.updater=O||E}var W=U.prototype=new N;W.constructor=U,T(W,z.prototype),W.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var P={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function le(S,A,O){var F=O.ref;return{$$typeof:a,type:S,key:A,ref:F!==void 0?F:null,props:O}}function ie(S,A){return le(S.type,A,S.props)}function ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function I(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(O){return A[O]})}var re=/\/+/g;function se(S,A){return typeof S=="object"&&S!==null&&S.key!=null?I(""+S.key):A.toString(36)}function ae(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(te,te):(S.status="pending",S.then(function(A){S.status==="pending"&&(S.status="fulfilled",S.value=A)},function(A){S.status==="pending"&&(S.status="rejected",S.reason=A)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function L(S,A,O,F,ee){var oe=typeof S;(oe==="undefined"||oe==="boolean")&&(S=null);var de=!1;if(S===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(S.$$typeof){case a:case i:de=!0;break;case x:return de=S._init,L(de(S._payload),A,O,F,ee)}}if(de)return ee=ee(S),de=F===""?"."+se(S,0):F,Y(ee)?(O="",de!=null&&(O=de.replace(re,"$&/")+"/"),L(ee,A,O,"",function(at){return at})):ee!=null&&(ne(ee)&&(ee=ie(ee,O+(ee.key==null||S&&S.key===ee.key?"":(""+ee.key).replace(re,"$&/")+"/")+de)),A.push(ee)),1;de=0;var we=F===""?".":F+":";if(Y(S))for(var je=0;je<S.length;je++)F=S[je],oe=we+se(F,je),de+=L(F,A,O,oe,ee);else if(je=j(S),typeof je=="function")for(S=je.call(S),je=0;!(F=S.next()).done;)F=F.value,oe=we+se(F,je++),de+=L(F,A,O,oe,ee);else if(oe==="object"){if(typeof S.then=="function")return L(ae(S),A,O,F,ee);throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(S,A,O){if(S==null)return S;var F=[],ee=0;return L(S,F,"","",function(oe){return A.call(O,oe,ee++)}),F}function $(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(O){(S._status===0||S._status===-1)&&(S._status=1,S._result=O)},function(O){(S._status===0||S._status===-1)&&(S._status=2,S._result=O)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var M=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Z={map:X,forEach:function(S,A,O){X(S,function(){A.apply(this,arguments)},O)},count:function(S){var A=0;return X(S,function(){A++}),A},toArray:function(S){return X(S,function(A){return A})||[]},only:function(S){if(!ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ge.Activity=v,ge.Children=Z,ge.Component=z,ge.Fragment=r,ge.Profiler=u,ge.PureComponent=U,ge.StrictMode=o,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ge.__COMPILER_RUNTIME={__proto__:null,c:function(S){return P.H.useMemoCache(S)}},ge.cache=function(S){return function(){return S.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(S,A,O){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var F=T({},S.props),ee=S.key;if(A!=null)for(oe in A.key!==void 0&&(ee=""+A.key),A)!J.call(A,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&A.ref===void 0||(F[oe]=A[oe]);var oe=arguments.length-2;if(oe===1)F.children=O;else if(1<oe){for(var de=Array(oe),we=0;we<oe;we++)de[we]=arguments[we+2];F.children=de}return le(S.type,ee,F)},ge.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ge.createElement=function(S,A,O){var F,ee={},oe=null;if(A!=null)for(F in A.key!==void 0&&(oe=""+A.key),A)J.call(A,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ee[F]=A[F]);var de=arguments.length-2;if(de===1)ee.children=O;else if(1<de){for(var we=Array(de),je=0;je<de;je++)we[je]=arguments[je+2];ee.children=we}if(S&&S.defaultProps)for(F in de=S.defaultProps,de)ee[F]===void 0&&(ee[F]=de[F]);return le(S,oe,ee)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(S){return{$$typeof:m,render:S}},ge.isValidElement=ne,ge.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:$}},ge.memo=function(S,A){return{$$typeof:p,type:S,compare:A===void 0?null:A}},ge.startTransition=function(S){var A=P.T,O={};P.T=O;try{var F=S(),ee=P.S;ee!==null&&ee(O,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(te,M)}catch(oe){M(oe)}finally{A!==null&&O.types!==null&&(A.types=O.types),P.T=A}},ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ge.use=function(S){return P.H.use(S)},ge.useActionState=function(S,A,O){return P.H.useActionState(S,A,O)},ge.useCallback=function(S,A){return P.H.useCallback(S,A)},ge.useContext=function(S){return P.H.useContext(S)},ge.useDebugValue=function(){},ge.useDeferredValue=function(S,A){return P.H.useDeferredValue(S,A)},ge.useEffect=function(S,A){return P.H.useEffect(S,A)},ge.useEffectEvent=function(S){return P.H.useEffectEvent(S)},ge.useId=function(){return P.H.useId()},ge.useImperativeHandle=function(S,A,O){return P.H.useImperativeHandle(S,A,O)},ge.useInsertionEffect=function(S,A){return P.H.useInsertionEffect(S,A)},ge.useLayoutEffect=function(S,A){return P.H.useLayoutEffect(S,A)},ge.useMemo=function(S,A){return P.H.useMemo(S,A)},ge.useOptimistic=function(S,A){return P.H.useOptimistic(S,A)},ge.useReducer=function(S,A,O){return P.H.useReducer(S,A,O)},ge.useRef=function(S){return P.H.useRef(S)},ge.useState=function(S){return P.H.useState(S)},ge.useSyncExternalStore=function(S,A,O){return P.H.useSyncExternalStore(S,A,O)},ge.useTransition=function(){return P.H.useTransition()},ge.version="19.2.4",ge}var jm;function hu(){return jm||(jm=1,Fc.exports=ev()),Fc.exports}var _=hu();const Tn=Lg(_);var Vc={exports:{}},Ci={},Kc={exports:{}},Xc={};var _m;function tv(){return _m||(_m=1,(function(a){function i(L,X){var $=L.length;L.push(X);e:for(;0<$;){var M=$-1>>>1,Z=L[M];if(0<u(Z,X))L[M]=X,L[$]=Z,$=M;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var X=L[0],$=L.pop();if($!==X){L[0]=$;e:for(var M=0,Z=L.length,S=Z>>>1;M<S;){var A=2*(M+1)-1,O=L[A],F=A+1,ee=L[F];if(0>u(O,$))F<Z&&0>u(ee,O)?(L[M]=ee,L[F]=$,M=F):(L[M]=O,L[A]=$,M=A);else if(F<Z&&0>u(ee,$))L[M]=ee,L[F]=$,M=F;else break e}}return X}function u(L,X){var $=L.sortIndex-X.sortIndex;return $!==0?$:L.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,v=null,w=3,j=!1,E=!1,T=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(L){for(var X=r(p);X!==null;){if(X.callback===null)o(p);else if(X.startTime<=L)o(p),X.sortIndex=X.expirationTime,i(g,X);else break;X=r(p)}}function Y(L){if(T=!1,W(L),!E)if(r(g)!==null)E=!0,te||(te=!0,I());else{var X=r(p);X!==null&&ae(Y,X.startTime-L)}}var te=!1,P=-1,J=5,le=-1;function ie(){return k?!0:!(a.unstable_now()-le<J)}function ne(){if(k=!1,te){var L=a.unstable_now();le=L;var X=!0;try{e:{E=!1,T&&(T=!1,N(P),P=-1),j=!0;var $=w;try{t:{for(W(L),v=r(g);v!==null&&!(v.expirationTime>L&&ie());){var M=v.callback;if(typeof M=="function"){v.callback=null,w=v.priorityLevel;var Z=M(v.expirationTime<=L);if(L=a.unstable_now(),typeof Z=="function"){v.callback=Z,W(L),X=!0;break t}v===r(g)&&o(g),W(L)}else o(g);v=r(g)}if(v!==null)X=!0;else{var S=r(p);S!==null&&ae(Y,S.startTime-L),X=!1}}break e}finally{v=null,w=$,j=!1}X=void 0}}finally{X?I():te=!1}}}var I;if(typeof U=="function")I=function(){U(ne)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,se=re.port2;re.port1.onmessage=ne,I=function(){se.postMessage(null)}}else I=function(){z(ne,0)};function ae(L,X){P=z(function(){L(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(L){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var $=w;w=X;try{return L()}finally{w=$}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=w;w=L;try{return X()}finally{w=$}},a.unstable_scheduleCallback=function(L,X,$){var M=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?M+$:M):$=M,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,L={id:x++,callback:X,priorityLevel:L,startTime:$,expirationTime:Z,sortIndex:-1},$>M?(L.sortIndex=$,i(p,L),r(g)===null&&L===r(p)&&(T?(N(P),P=-1):T=!0,ae(Y,$-M))):(L.sortIndex=Z,i(g,L),E||j||(E=!0,te||(te=!0,I()))),L},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(L){var X=w;return function(){var $=w;w=X;try{return L.apply(this,arguments)}finally{w=$}}}})(Xc)),Xc}var Em;function nv(){return Em||(Em=1,Kc.exports=tv()),Kc.exports}var Qc={exports:{}},ft={};var Nm;function av(){if(Nm)return ft;Nm=1;var a=hu();function i(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(g,p,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:g,containerInfo:p,implementation:x}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ft.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return f(g,p,null,x)},ft.flushSync=function(g){var p=h.T,x=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=x,o.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,v=m(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:j}):x==="script"&&o.d.X(g,{crossOrigin:v,integrity:w,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,v=m(x,p.crossOrigin);o.d.L(g,x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},ft.requestFormReset=function(g){o.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.4",ft}var Cm;function lv(){if(Cm)return Qc.exports;Cm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Qc.exports=av(),Qc.exports}var Tm;function iv(){if(Tm)return Ci;Tm=1;var a=nv(),i=hu(),r=lv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return g(c),e;if(d===l)return g(c),t;d=d.sibling}throw Error(o(188))}if(n.return!==l.return)n=c,l=d;else{for(var y=!1,b=c.child;b;){if(b===n){y=!0,n=c,l=d;break}if(b===l){y=!0,l=c,n=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===n){y=!0,n=d,l=c;break}if(b===l){y=!0,l=d,n=c;break}b=b.sibling}if(!y)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case U:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var ae=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},M=[],Z=-1;function S(e){return{current:e}}function A(e){0>Z||(e.current=M[Z],M[Z]=null,Z--)}function O(e,t){Z++,M[Z]=e.current,e.current=t}var F=S(null),ee=S(null),oe=S(null),de=S(null);function we(e,t){switch(O(oe,t),O(ee,e),O(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$h(t),e=Yh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}A(F),O(F,e)}function je(){A(F),A(ee),A(oe)}function at(e){e.memoizedState!==null&&O(de,e);var t=F.current,n=Yh(t,e.type);t!==n&&(O(ee,e),O(F,n))}function Dt(e){ee.current===e&&(A(F),A(ee)),de.current===e&&(A(de),wi._currentValue=$)}var ve,lt;function Vt(e){if(ve===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||"",lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+lt}var Rl=!1;function kn(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var q=G}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(G){q=G}e.call(Q.prototype)}}else{try{throw Error()}catch(G){q=G}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var C=y.split(`
`),H=b.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===H.length)for(l=C.length-1,c=H.length-1;1<=l&&0<=c&&C[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==H[c]){var V=`
`+C[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=c);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vt(n):""}function Ii(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return kn(e.type,!1);case 11:return kn(e.type.render,!1);case 1:return kn(e.type,!0);case 31:return Vt("Activity");default:return""}}function La(e){try{var t="",n=null;do t+=Ii(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ua=Object.prototype.hasOwnProperty,Ua=a.unstable_scheduleCallback,Ba=a.unstable_cancelCallback,Nr=a.unstable_shouldYield,Cr=a.unstable_requestPaint,mt=a.unstable_now,Tr=a.unstable_getCurrentPriorityLevel,qi=a.unstable_ImmediatePriority,Gi=a.unstable_UserBlockingPriority,Ha=a.unstable_NormalPriority,Ar=a.unstable_LowPriority,me=a.unstable_IdlePriority,qe=a.log,On=a.unstable_setDisableYieldValue,dt=null,et=null;function Et(e){if(typeof qe=="function"&&On(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(dt,e)}catch{}}var xe=Math.clz32?Math.clz32:Mr,$i=Math.log,kl=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-($i(e)/kl|0)|0}var Ol=256,Dl=262144,Yi=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?c=da(l):(y&=b,y!==0?c=da(y):n||(n=b&~e,n!==0&&(c=da(n))))):(b=l&~d,b!==0?c=da(b):y!==0?c=da(y):n||(n=l&~e,n!==0&&(c=da(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function Rr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ip(e,t,n,l,c,d){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,H=e.hiddenUpdates;for(n=y&~n;0<n;){var V=31-xe(n),Q=1<<V;b[V]=0,C[V]=-1;var q=H[V];if(q!==null)for(H[V]=null,V=0;V<q.length;V++){var G=q[V];G!==null&&(G.lane&=-536870913)}n&=~Q}l!==0&&_u(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function _u(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Eu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function Nu(e,t){var n=t&-t;return n=(n&42)!==0?1:kr(n),(n&(e.suspendedLanes|t))!==0?0:n}function kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Or(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function Tu(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var Dn=Math.random().toString(36).slice(2),it="__reactFiber$"+Dn,yt="__reactProps$"+Dn,Ia="__reactContainer$"+Dn,Dr="__reactEvents$"+Dn,qp="__reactListeners$"+Dn,Gp="__reactHandles$"+Dn,Au="__reactResources$"+Dn,Ul="__reactMarker$"+Dn;function zr(e){delete e[it],delete e[yt],delete e[Dr],delete e[qp],delete e[Gp]}function qa(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ia]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zh(e);e!==null;){if(n=e[it])return n;e=Zh(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){if(e=e[it]||e[Ia]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Bl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function $a(e){var t=e[Au];return t||(t=e[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Ul]=!0}var Mu=new Set,Ru={};function fa(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(Ru[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var $p=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},Ou={};function Yp(e){return ua.call(Ou,e)?!0:ua.call(ku,e)?!1:$p.test(e)?Ou[e]=!0:(ku[e]=!0,!1)}function Vi(e,t,n){if(Yp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ki(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Du(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fp(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lr(e){if(!e._valueTracker){var t=Du(e)?"checked":"value";e._valueTracker=Fp(e,t,""+e[t])}}function zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Du(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vp=/[\n"\\]/g;function Lt(e){return e.replace(Vp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ur(e,t,n,l,c,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Br(e,y,zt(t)):n!=null?Br(e,y,zt(n)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+zt(b):e.removeAttribute("name")}function Lu(e,t,n,l,c,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Lr(e);return}n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Lr(e)}function Br(e,t,n){t==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fa(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Uu(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function Bu(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(ae(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Lr(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Kp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Iu(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Hu(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Hu(e,d,t[d])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(e){return Qp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var Ir=null;function qr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,Xa=null;function qu(e){var t=Ga(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ur(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[yt]||null;if(!c)throw Error(o(90));Ur(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&zu(l)}break e;case"textarea":Uu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fa(e,!!n.multiple,t,!1)}}}var Gr=!1;function Gu(e,t,n){if(Gr)return e(t,n);Gr=!0;try{var l=e(t);return l}finally{if(Gr=!1,(Ka!==null||Xa!==null)&&(Ls(),Ka&&(t=Ka,e=Xa,Xa=Ka=null,qu(t),e)))for(t=0;t<e.length;t++)qu(e[t])}}function Hl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(on)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{$r=!1}var zn=null,Yr=null,Wi=null;function $u(){if(Wi)return Wi;var e,t=Yr,n=t.length,l,c="value"in zn?zn.value:zn.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[d-l];l++);return Wi=c.slice(e,1<l?1-l:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Yu(){return!1}function vt(e){function t(n,l,c,d,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:Yu,this.isPropagationStopped=Yu,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=vt(ha),ql=v({},ha,{view:0,detail:0}),Wp=vt(ql),Fr,Vr,Gl,es=v({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(Fr=e.screenX-Gl.screenX,Vr=e.screenY-Gl.screenY):Vr=Fr=0,Gl=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),Fu=vt(es),Zp=v({},es,{dataTransfer:0}),Jp=vt(Zp),Pp=v({},ql,{relatedTarget:0}),Kr=vt(Pp),ey=v({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=vt(ey),ny=v({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ay=vt(ny),ly=v({},ha,{data:0}),Vu=vt(ly),iy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ry[e])?!!t[e]:!1}function Xr(){return oy}var cy=v({},ql,{key:function(e){if(e.key){var t=iy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uy=vt(cy),dy=v({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=vt(dy),fy=v({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),hy=vt(fy),my=v({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=vt(my),py=v({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=vt(py),vy=v({},ha,{newState:0,oldState:0}),xy=vt(vy),by=[9,13,27,32],Qr=on&&"CompositionEvent"in window,$l=null;on&&"documentMode"in document&&($l=document.documentMode);var Sy=on&&"TextEvent"in window&&!$l,Xu=on&&(!Qr||$l&&8<$l&&11>=$l),Qu=" ",Wu=!1;function Zu(e,t){switch(e){case"keyup":return by.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function wy(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(Wu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Wu?null:e;default:return null}}function jy(e,t){if(Qa)return e==="compositionend"||!Qr&&Zu(e,t)?(e=$u(),Wi=Yr=zn=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xu&&t.locale!=="ko"?null:t.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_y[e.type]:t==="textarea"}function ed(e,t,n,l){Ka?Xa?Xa.push(l):Xa=[l]:Ka=l,t=$s(t,"onChange"),0<t.length&&(n=new Pi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Yl=null,Fl=null;function Ey(e){Uh(e,0)}function ts(e){var t=Bl(e);if(zu(t))return e}function td(e,t){if(e==="change")return t}var nd=!1;if(on){var Wr;if(on){var Zr="oninput"in document;if(!Zr){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Zr=typeof ad.oninput=="function"}Wr=Zr}else Wr=!1;nd=Wr&&(!document.documentMode||9<document.documentMode)}function ld(){Yl&&(Yl.detachEvent("onpropertychange",id),Fl=Yl=null)}function id(e){if(e.propertyName==="value"&&ts(Fl)){var t=[];ed(t,Fl,e,qr(e)),Gu(Ey,t)}}function Ny(e,t,n){e==="focusin"?(ld(),Yl=t,Fl=n,Yl.attachEvent("onpropertychange",id)):e==="focusout"&&ld()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(Fl)}function Ty(e,t){if(e==="click")return ts(t)}function Ay(e,t){if(e==="input"||e==="change")return ts(t)}function My(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:My;function Vl(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ua.call(t,c)||!Nt(e[c],t[c]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=sd(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sd(n)}}function od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xi(e.document)}return t}function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ry=on&&"documentMode"in document&&11>=document.documentMode,Wa=null,Pr=null,Kl=null,eo=!1;function ud(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eo||Wa==null||Wa!==Xi(l)||(l=Wa,"selectionStart"in l&&Jr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kl&&Vl(Kl,l)||(Kl=l,l=$s(Pr,"onSelect"),0<l.length&&(t=new Pi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Wa)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Za={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},to={},dd={};on&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ga(e){if(to[e])return to[e];if(!Za[e])return e;var t=Za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dd)return to[e]=t[n];return e}var fd=ga("animationend"),hd=ga("animationiteration"),md=ga("animationstart"),ky=ga("transitionrun"),Oy=ga("transitionstart"),Dy=ga("transitioncancel"),gd=ga("transitionend"),pd=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Kt(e,t){pd.set(e,t),fa(t,[e])}var ns=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Ja=0,ao=0;function as(){for(var e=Ja,t=ao=Ja=0;t<e;){var n=Ut[t];Ut[t++]=null;var l=Ut[t];Ut[t++]=null;var c=Ut[t];Ut[t++]=null;var d=Ut[t];if(Ut[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}d!==0&&yd(n,c,d)}}function ls(e,t,n,l){Ut[Ja++]=e,Ut[Ja++]=t,Ut[Ja++]=n,Ut[Ja++]=l,ao|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lo(e,t,n,l){return ls(e,t,n,l),is(e)}function pa(e,t){return ls(e,null,null,t),is(e)}function yd(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,l=d.alternate,l!==null&&(l.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-xe(n),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),d):null}function is(e){if(50<gi)throw gi=0,mc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pa={};function zy(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,l){return new zy(e,t,n,l)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ss(e,t,n,l,c,d){var y=0;if(l=e,typeof e=="function")io(e)&&(y=1);else if(typeof e=="string")y=I0(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Ct(31,n,t,c),e.elementType=le,e.lanes=d,e;case T:return ya(n.children,c,d,t);case k:y=8,c|=24;break;case z:return e=Ct(12,n,t,c|2),e.elementType=z,e.lanes=d,e;case Y:return e=Ct(13,n,t,c),e.elementType=Y,e.lanes=d,e;case te:return e=Ct(19,n,t,c),e.elementType=te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:y=10;break e;case N:y=9;break e;case W:y=11;break e;case P:y=14;break e;case J:y=16,l=null;break e}y=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Ct(y,n,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function ya(e,t,n,l){return e=Ct(7,e,l,t),e.lanes=n,e}function so(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function xd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function ro(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var n=bd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:La(t)},bd.set(e,t),t)}return{value:e,source:t,stack:La(t)}}var el=[],tl=0,rs=null,Xl=0,Ht=[],It=0,Ln=null,Jt=1,Pt="";function un(e,t){el[tl++]=Xl,el[tl++]=rs,rs=e,Xl=t}function Sd(e,t,n){Ht[It++]=Jt,Ht[It++]=Pt,Ht[It++]=Ln,Ln=e;var l=Jt;e=Pt;var c=32-xe(l)-1;l&=~(1<<c),n+=1;var d=32-xe(t)+c;if(30<d){var y=c-c%5;d=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Jt=1<<32-xe(t)+c|n<<c|l,Pt=d+e}else Jt=1<<d|n<<c|l,Pt=e}function oo(e){e.return!==null&&(un(e,1),Sd(e,1,0))}function co(e){for(;e===rs;)rs=el[--tl],el[tl]=null,Xl=el[--tl],el[tl]=null;for(;e===Ln;)Ln=Ht[--It],Ht[It]=null,Pt=Ht[--It],Ht[It]=null,Jt=Ht[--It],Ht[It]=null}function wd(e,t){Ht[It++]=Jt,Ht[It++]=Pt,Ht[It++]=Ln,Jt=t.id,Pt=t.overflow,Ln=e}var st=null,Ue=null,Ne=!1,Un=null,qt=!1,uo=Error(o(519));function Bn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Bt(t,e)),uo}function jd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[it]=e,t[yt]=l,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<yi.length;n++)Se(yi[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Lu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Bu(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||qh(t.textContent,n)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=rn),t=!0):t=!1,t||Bn(e,!0)}function _d(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:st=st.return}}function nl(e){if(e!==st)return!1;if(!Ne)return _d(e),Ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ac(e.type,e.memoizedProps)),n=!n),n&&Ue&&Bn(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ue=Wh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ue=Wh(e)}else t===27?(t=Ue,Jn(e.type)?(e=Dc,Dc=null,Ue=e):Ue=t):Ue=st?$t(e.stateNode.nextSibling):null;return!0}function va(){Ue=st=null,Ne=!1}function fo(){var e=Un;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Un=null),e}function Ql(e){Un===null?Un=[e]:Un.push(e)}var ho=S(null),xa=null,dn=null;function Hn(e,t,n){O(ho,t._currentValue),t._currentValue=n}function fn(e){e._currentValue=ho.current,A(ho)}function mo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function go(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=c;for(var C=0;C<t.length;C++)if(b.context===t[C]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),mo(d.return,n,e),l||(y=null);break e}d=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=n,d=y.alternate,d!==null&&(d.lanes|=n),mo(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(e,t,n,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var b=c.type;Nt(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===de.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wi):e=[wi])}c=c.return}e!==null&&go(t,e,n,l),t.flags|=262144}function os(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){xa=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Ed(xa,e)}function cs(e,t){return xa===null&&ba(e),Ed(e,t)}function Ed(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dn===null){if(e===null)throw Error(o(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return n}var Ly=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Uy=a.unstable_scheduleCallback,By=a.unstable_NormalPriority,Ke={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new Ly,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&Uy(By,function(){e.controller.abort()})}var Zl=null,yo=0,ll=0,il=null;function Hy(e,t){if(Zl===null){var n=Zl=[];yo=0,ll=bc(),il={status:"pending",value:void 0,then:function(l){n.push(l)}}}return yo++,t.then(Nd,Nd),t}function Nd(){if(--yo===0&&Zl!==null){il!==null&&(il.status="fulfilled");var e=Zl;Zl=null,ll=0,il=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Iy(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Cd=L.S;L.S=function(e,t){dh=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hy(e,t),Cd!==null&&Cd(e,t)};var Sa=S(null);function vo(){var e=Sa.current;return e!==null?e:ze.pooledCache}function us(e,t){t===null?O(Sa,Sa.current):O(Sa,t.pool)}function Td(){var e=vo();return e===null?null:{parent:Ke._currentValue,pool:e}}var sl=Error(o(460)),xo=Error(o(474)),ds=Error(o(542)),fs={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(rn,rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(rn,rn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw ja=t,sl}}function wa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ja=n,sl):n}}var ja=null;function Rd(){if(ja===null)throw Error(o(459));var e=ja;return ja=null,e}function kd(e){if(e===sl||e===ds)throw Error(o(483))}var rl=null,Jl=0;function hs(e){var t=Jl;return Jl+=1,rl===null&&(rl=[]),Md(rl,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ms(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Od(e){function t(D,R){if(e){var B=D.deletions;B===null?(D.deletions=[R],D.flags|=16):B.push(R)}}function n(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function c(D,R){return D=cn(D,R),D.index=0,D.sibling=null,D}function d(D,R,B){return D.index=B,e?(B=D.alternate,B!==null?(B=B.index,B<R?(D.flags|=67108866,R):B):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function y(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,R,B,K){return R===null||R.tag!==6?(R=so(B,D.mode,K),R.return=D,R):(R=c(R,B),R.return=D,R)}function C(D,R,B,K){var fe=B.type;return fe===T?V(D,R,B.props.children,K,B.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&wa(fe)===R.type)?(R=c(R,B.props),Pl(R,B),R.return=D,R):(R=ss(B.type,B.key,B.props,null,D.mode,K),Pl(R,B),R.return=D,R)}function H(D,R,B,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=ro(B,D.mode,K),R.return=D,R):(R=c(R,B.children||[]),R.return=D,R)}function V(D,R,B,K,fe){return R===null||R.tag!==7?(R=ya(B,D.mode,K,fe),R.return=D,R):(R=c(R,B),R.return=D,R)}function Q(D,R,B){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=so(""+R,D.mode,B),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case j:return B=ss(R.type,R.key,R.props,null,D.mode,B),Pl(B,R),B.return=D,B;case E:return R=ro(R,D.mode,B),R.return=D,R;case J:return R=wa(R),Q(D,R,B)}if(ae(R)||I(R))return R=ya(R,D.mode,B,null),R.return=D,R;if(typeof R.then=="function")return Q(D,hs(R),B);if(R.$$typeof===U)return Q(D,cs(D,R),B);ms(D,R)}return null}function q(D,R,B,K){var fe=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:b(D,R,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===fe?C(D,R,B,K):null;case E:return B.key===fe?H(D,R,B,K):null;case J:return B=wa(B),q(D,R,B,K)}if(ae(B)||I(B))return fe!==null?null:V(D,R,B,K,null);if(typeof B.then=="function")return q(D,R,hs(B),K);if(B.$$typeof===U)return q(D,R,cs(D,B),K);ms(D,B)}return null}function G(D,R,B,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(B)||null,b(R,D,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return D=D.get(K.key===null?B:K.key)||null,C(R,D,K,fe);case E:return D=D.get(K.key===null?B:K.key)||null,H(R,D,K,fe);case J:return K=wa(K),G(D,R,B,K,fe)}if(ae(K)||I(K))return D=D.get(B)||null,V(R,D,K,fe,null);if(typeof K.then=="function")return G(D,R,B,hs(K),fe);if(K.$$typeof===U)return G(D,R,B,cs(R,K),fe);ms(R,K)}return null}function ce(D,R,B,K){for(var fe=null,Ce=null,ue=R,ye=R=0,Ee=null;ue!==null&&ye<B.length;ye++){ue.index>ye?(Ee=ue,ue=null):Ee=ue.sibling;var Te=q(D,ue,B[ye],K);if(Te===null){ue===null&&(ue=Ee);break}e&&ue&&Te.alternate===null&&t(D,ue),R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te,ue=Ee}if(ye===B.length)return n(D,ue),Ne&&un(D,ye),fe;if(ue===null){for(;ye<B.length;ye++)ue=Q(D,B[ye],K),ue!==null&&(R=d(ue,R,ye),Ce===null?fe=ue:Ce.sibling=ue,Ce=ue);return Ne&&un(D,ye),fe}for(ue=l(ue);ye<B.length;ye++)Ee=G(ue,D,ye,B[ye],K),Ee!==null&&(e&&Ee.alternate!==null&&ue.delete(Ee.key===null?ye:Ee.key),R=d(Ee,R,ye),Ce===null?fe=Ee:Ce.sibling=Ee,Ce=Ee);return e&&ue.forEach(function(aa){return t(D,aa)}),Ne&&un(D,ye),fe}function he(D,R,B,K){if(B==null)throw Error(o(151));for(var fe=null,Ce=null,ue=R,ye=R=0,Ee=null,Te=B.next();ue!==null&&!Te.done;ye++,Te=B.next()){ue.index>ye?(Ee=ue,ue=null):Ee=ue.sibling;var aa=q(D,ue,Te.value,K);if(aa===null){ue===null&&(ue=Ee);break}e&&ue&&aa.alternate===null&&t(D,ue),R=d(aa,R,ye),Ce===null?fe=aa:Ce.sibling=aa,Ce=aa,ue=Ee}if(Te.done)return n(D,ue),Ne&&un(D,ye),fe;if(ue===null){for(;!Te.done;ye++,Te=B.next())Te=Q(D,Te.value,K),Te!==null&&(R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te);return Ne&&un(D,ye),fe}for(ue=l(ue);!Te.done;ye++,Te=B.next())Te=G(ue,D,ye,Te.value,K),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?ye:Te.key),R=d(Te,R,ye),Ce===null?fe=Te:Ce.sibling=Te,Ce=Te);return e&&ue.forEach(function(Z0){return t(D,Z0)}),Ne&&un(D,ye),fe}function De(D,R,B,K){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var fe=B.key;R!==null;){if(R.key===fe){if(fe=B.type,fe===T){if(R.tag===7){n(D,R.sibling),K=c(R,B.props.children),K.return=D,D=K;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&wa(fe)===R.type){n(D,R.sibling),K=c(R,B.props),Pl(K,B),K.return=D,D=K;break e}n(D,R);break}else t(D,R);R=R.sibling}B.type===T?(K=ya(B.props.children,D.mode,K,B.key),K.return=D,D=K):(K=ss(B.type,B.key,B.props,null,D.mode,K),Pl(K,B),K.return=D,D=K)}return y(D);case E:e:{for(fe=B.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){n(D,R.sibling),K=c(R,B.children||[]),K.return=D,D=K;break e}else{n(D,R);break}else t(D,R);R=R.sibling}K=ro(B,D.mode,K),K.return=D,D=K}return y(D);case J:return B=wa(B),De(D,R,B,K)}if(ae(B))return ce(D,R,B,K);if(I(B)){if(fe=I(B),typeof fe!="function")throw Error(o(150));return B=fe.call(B),he(D,R,B,K)}if(typeof B.then=="function")return De(D,R,hs(B),K);if(B.$$typeof===U)return De(D,R,cs(D,B),K);ms(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,R!==null&&R.tag===6?(n(D,R.sibling),K=c(R,B),K.return=D,D=K):(n(D,R),K=so(B,D.mode,K),K.return=D,D=K),y(D)):n(D,R)}return function(D,R,B,K){try{Jl=0;var fe=De(D,R,B,K);return rl=null,fe}catch(ue){if(ue===sl||ue===ds)throw ue;var Ce=Ct(29,ue,null,D.mode);return Ce.lanes=K,Ce.return=D,Ce}}}var _a=Od(!0),Dd=Od(!1),In=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function So(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=is(e),yd(e,null,n),t}return ls(e,l,t,n),is(e)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Eu(e,n)}}function wo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function ti(){if(jo){var e=il;if(e!==null)throw e}}function ni(e,t,n,l){jo=!1;var c=e.updateQueue;In=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var C=b,H=C.next;C.next=null,y===null?d=H:y.next=H,y=C;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==y&&(b===null?V.firstBaseUpdate=H:b.next=H,V.lastBaseUpdate=C))}if(d!==null){var Q=c.baseState;y=0,V=H=C=null,b=d;do{var q=b.lane&-536870913,G=q!==b.lane;if(G?(_e&q)===q:(l&q)===q){q!==0&&q===ll&&(jo=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=e,he=b;q=t;var De=n;switch(he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Q=ce.call(De,Q,q);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,q=typeof ce=="function"?ce.call(De,Q,q):ce,q==null)break e;Q=v({},Q,q);break e;case 2:In=!0}}q=b.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(H=V=G,C=Q):V=V.next=G,y|=q;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;G=b,b=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);V===null&&(C=Q),c.baseState=C,c.firstBaseUpdate=H,c.lastBaseUpdate=V,d===null&&(c.shared.lanes=0),Kn|=y,e.lanes=y,e.memoizedState=Q}}function zd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ld(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)zd(n[e],t)}var ol=S(null),gs=S(0);function Ud(e,t){e=Sn,O(gs,e),O(ol,t),Sn=e|t.baseLanes}function _o(){O(gs,Sn),O(ol,ol.current)}function Eo(){Sn=gs.current,A(ol),A(gs)}var Tt=S(null),Gt=null;function $n(e){var t=e.alternate;O(Ye,Ye.current&1),O(Tt,e),Gt===null&&(t===null||ol.current!==null||t.memoizedState!==null)&&(Gt=e)}function No(e){O(Ye,Ye.current),O(Tt,e),Gt===null&&(Gt=e)}function Bd(e){e.tag===22?(O(Ye,Ye.current),O(Tt,e),Gt===null&&(Gt=e)):Yn()}function Yn(){O(Ye,Ye.current),O(Tt,Tt.current)}function At(e){A(Tt),Gt===e&&(Gt=null),A(Ye)}var Ye=S(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||kc(n)||Oc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,pe=null,ke=null,Xe=null,ys=!1,cl=!1,Ea=!1,vs=0,ai=0,ul=null,qy=0;function Ge(){throw Error(o(321))}function Co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function To(e,t,n,l,c,d){return hn=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?wf:$o,Ea=!1,d=n(l,c),Ea=!1,cl&&(d=Id(t,n,l,c)),Hd(e),d}function Hd(e){L.H=si;var t=ke!==null&&ke.next!==null;if(hn=0,Xe=ke=pe=null,ys=!1,ai=0,ul=null,t)throw Error(o(300));e===null||Qe||(e=e.dependencies,e!==null&&os(e)&&(Qe=!0))}function Id(e,t,n,l){pe=e;var c=0;do{if(cl&&(ul=null),ai=0,cl=!1,25<=c)throw Error(o(301));if(c+=1,Xe=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=jf,d=t(n,l)}while(cl);return d}function Gy(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?li(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(pe.flags|=1024),t}function Ao(){var e=vs!==0;return vs=0,e}function Mo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ro(e){if(ys){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ys=!1}hn=0,Xe=ke=pe=null,cl=!1,ai=vs=0,ul=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(ke===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Xe===null?pe.memoizedState:Xe.next;if(t!==null)Xe=t,ke=e;else{if(e===null)throw pe.alternate===null?Error(o(467)):Error(o(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function xs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function li(e){var t=ai;return ai+=1,ul===null&&(ul=[]),e=Md(ul,e,t),t=pe,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?wf:$o),e}function bs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return li(e);if(e.$$typeof===U)return rt(e)}throw Error(o(438,String(e)))}function ko(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=xs(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ie;return t.index++,n}function mn(e,t){return typeof t=="function"?t(e):t}function Ss(e){var t=Fe();return Oo(t,ke,e)}function Oo(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var b=y=null,C=null,H=t,V=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(_e&Q)===Q:(hn&Q)===Q){var q=H.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===ll&&(V=!0);else if((hn&q)===q){H=H.next,q===ll&&(V=!0);continue}else Q={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=Q,y=d):C=C.next=Q,pe.lanes|=q,Kn|=q;Q=H.action,Ea&&n(d,Q),d=H.hasEagerState?H.eagerState:n(d,Q)}else q={lane:Q,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=q,y=d):C=C.next=q,pe.lanes|=Q,Kn|=Q;H=H.next}while(H!==null&&H!==t);if(C===null?y=d:C.next=b,!Nt(d,e.memoizedState)&&(Qe=!0,V&&(n=il,n!==null)))throw n;e.memoizedState=d,e.baseState=y,e.baseQueue=C,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Do(e){var t=Fe(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);Nt(d,t.memoizedState)||(Qe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,l]}function qd(e,t,n){var l=pe,c=Fe(),d=Ne;if(d){if(n===void 0)throw Error(o(407));n=n()}else n=t();var y=!Nt((ke||c).memoizedState,n);if(y&&(c.memoizedState=n,Qe=!0),c=c.queue,Uo(Yd.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,dl(9,{destroy:void 0},$d.bind(null,l,c,n,t),null),ze===null)throw Error(o(349));d||(hn&127)!==0||Gd(l,t,n)}return n}function Gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=xs(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $d(e,t,n,l){t.value=n,t.getSnapshot=l,Fd(t)&&Vd(e)}function Yd(e,t,n){return n(function(){Fd(t)&&Vd(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function Vd(e){var t=pa(e,2);t!==null&&jt(t,e,2)}function zo(e){var t=gt();if(typeof e=="function"){var n=e;if(e=n(),Ea){Et(!0);try{n()}finally{Et(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function Kd(e,t,n,l){return e.baseState=n,Oo(e,ke,typeof l=="function"?l:mn)}function $y(e,t,n,l,c){if(_s(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};L.T!==null?n(!0):d.isTransition=!1,l(d),n=t.pending,n===null?(d.next=t.pending=d,Xd(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Xd(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=L.T,y={};L.T=y;try{var b=n(c,l),C=L.S;C!==null&&C(y,b),Qd(e,t,b)}catch(H){Lo(e,t,H)}finally{d!==null&&y.types!==null&&(d.types=y.types),L.T=d}}else try{d=n(c,l),Qd(e,t,d)}catch(H){Lo(e,t,H)}}function Qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Wd(e,t,l)},function(l){return Lo(e,t,l)}):Wd(e,t,n)}function Wd(e,t,n){t.status="fulfilled",t.value=n,Zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xd(e,n)))}function Lo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Zd(t),t=t.next;while(t!==l)}e.action=null}function Zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jd(e,t){return t}function Pd(e,t){if(Ne){var n=ze.formState;if(n!==null){e:{var l=pe;if(Ne){if(Ue){t:{for(var c=Ue,d=qt;c.nodeType!==8;){if(!d){c=null;break t}if(c=$t(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ue=$t(c.nextSibling),l=c.data==="F!";break e}}Bn(l)}l=!1}l&&(t=n[0])}}return n=gt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:t},n.queue=l,n=xf.bind(null,pe,l),l.dispatch=n,l=zo(!1),d=Go.bind(null,pe,!1,l.queue),l=gt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=$y.bind(null,pe,c,d,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ef(e){var t=Fe();return tf(t,ke,e)}function tf(e,t,n){if(t=Oo(e,t,Jd)[0],e=Ss(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=li(t)}catch(y){throw y===sl?ds:y}else l=t;t=Fe();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,dl(9,{destroy:void 0},Yy.bind(null,c,n),null)),[l,d,e]}function Yy(e,t){e.action=t}function nf(e){var t=Fe(),n=ke;if(n!==null)return tf(t,n,e);Fe(),t=t.memoizedState,n=Fe();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function dl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=xs(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function af(){return Fe().memoizedState}function ws(e,t,n,l){var c=gt();pe.flags|=e,c.memoizedState=dl(1|t,{destroy:void 0},n,l===void 0?null:l)}function js(e,t,n,l){var c=Fe();l=l===void 0?null:l;var d=c.memoizedState.inst;ke!==null&&l!==null&&Co(l,ke.memoizedState.deps)?c.memoizedState=dl(t,d,n,l):(pe.flags|=e,c.memoizedState=dl(1|t,d,n,l))}function lf(e,t){ws(8390656,8,e,t)}function Uo(e,t){js(2048,8,e,t)}function Fy(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=xs(),pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function sf(e){var t=Fe().memoizedState;return Fy({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function rf(e,t){return js(4,2,e,t)}function of(e,t){return js(4,4,e,t)}function cf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,n){n=n!=null?n.concat([e]):null,js(4,4,cf.bind(null,t,e),n)}function Bo(){}function df(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Co(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function ff(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Co(t,l[1]))return l[0];if(l=e(),Ea){Et(!0);try{e()}finally{Et(!1)}}return n.memoizedState=[l,t],l}function Ho(e,t,n){return n===void 0||(hn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=hh(),pe.lanes|=e,Kn|=e,n)}function hf(e,t,n,l){return Nt(n,t)?n:ol.current!==null?(e=Ho(e,n,l),Nt(e,t)||(Qe=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(_e&261930)===0?(Qe=!0,e.memoizedState=n):(e=hh(),pe.lanes|=e,Kn|=e,t)}function mf(e,t,n,l,c){var d=X.p;X.p=d!==0&&8>d?d:8;var y=L.T,b={};L.T=b,Go(e,!1,t,n);try{var C=c(),H=L.S;if(H!==null&&H(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=Iy(C,l);ii(e,t,V,kt(e))}else ii(e,t,l,kt(e))}catch(Q){ii(e,t,{then:function(){},status:"rejected",reason:Q},kt())}finally{X.p=d,y!==null&&b.types!==null&&(y.types=b.types),L.T=y}}function Vy(){}function Io(e,t,n,l){if(e.tag!==5)throw Error(o(476));var c=gf(e).queue;mf(e,c,t,$,n===null?Vy:function(){return pf(e),n(l)})}function gf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:$},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=gf(e);t.next===null&&(t=e.alternate.memoizedState),ii(e,t.next.queue,{},kt())}function qo(){return rt(wi)}function yf(){return Fe().memoizedState}function vf(){return Fe().memoizedState}function Ky(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kt();e=qn(n);var l=Gn(t,e,n);l!==null&&(jt(l,t,n),ei(l,t,n)),t={cache:po()},e.payload=t;return}t=t.return}}function Xy(e,t,n){var l=kt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_s(e)?bf(t,n):(n=lo(e,t,n,l),n!==null&&(jt(n,e,l),Sf(n,t,l)))}function xf(e,t,n){var l=kt();ii(e,t,n,l)}function ii(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_s(e))bf(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,b=d(y,n);if(c.hasEagerState=!0,c.eagerState=b,Nt(b,y))return ls(e,t,c,0),ze===null&&as(),!1}catch{}if(n=lo(e,t,c,l),n!==null)return jt(n,e,l),Sf(n,t,l),!0}return!1}function Go(e,t,n,l){if(l={lane:2,revertLane:bc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_s(e)){if(t)throw Error(o(479))}else t=lo(e,n,l,2),t!==null&&jt(t,e,2)}function _s(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function bf(e,t){cl=ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sf(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Eu(e,n)}}var si={readContext:rt,use:bs,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};si.useEffectEvent=Ge;var wf={readContext:rt,use:bs,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:lf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ws(4194308,4,cf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var n=gt();t=t===void 0?null:t;var l=e();if(Ea){Et(!0);try{e()}finally{Et(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=gt();if(n!==void 0){var c=n(t);if(Ea){Et(!0);try{n(t)}finally{Et(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Xy.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=zo(e);var t=e.queue,n=xf.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bo,useDeferredValue:function(e,t){var n=gt();return Ho(n,e,t)},useTransition:function(){var e=zo(!1);return e=mf.bind(null,pe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=pe,c=gt();if(Ne){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ze===null)throw Error(o(349));(_e&127)!==0||Gd(l,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,lf(Yd.bind(null,l,d,e),[e]),l.flags|=2048,dl(9,{destroy:void 0},$d.bind(null,l,d,n,t),null),n},useId:function(){var e=gt(),t=ze.identifierPrefix;if(Ne){var n=Pt,l=Jt;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=vs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=qy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qo,useFormState:Pd,useActionState:Pd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Go.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:ko,useCacheRefresh:function(){return gt().memoizedState=Ky.bind(null,pe)},useEffectEvent:function(e){var t=gt(),n={impl:e};return t.memoizedState=n,function(){if((Ae&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},$o={readContext:rt,use:bs,useCallback:df,useContext:rt,useEffect:Uo,useImperativeHandle:uf,useInsertionEffect:rf,useLayoutEffect:of,useMemo:ff,useReducer:Ss,useRef:af,useState:function(){return Ss(mn)},useDebugValue:Bo,useDeferredValue:function(e,t){var n=Fe();return hf(n,ke.memoizedState,e,t)},useTransition:function(){var e=Ss(mn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:li(e),t]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:qo,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var n=Fe();return Kd(n,ke,e,t)},useMemoCache:ko,useCacheRefresh:vf};$o.useEffectEvent=sf;var jf={readContext:rt,use:bs,useCallback:df,useContext:rt,useEffect:Uo,useImperativeHandle:uf,useInsertionEffect:rf,useLayoutEffect:of,useMemo:ff,useReducer:Do,useRef:af,useState:function(){return Do(mn)},useDebugValue:Bo,useDeferredValue:function(e,t){var n=Fe();return ke===null?Ho(n,e,t):hf(n,ke.memoizedState,e,t)},useTransition:function(){var e=Do(mn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:li(e),t]},useSyncExternalStore:qd,useId:yf,useHostTransitionStatus:qo,useFormState:nf,useActionState:nf,useOptimistic:function(e,t){var n=Fe();return ke!==null?Kd(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ko,useCacheRefresh:vf};jf.useEffectEvent=sf;function Yo(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=kt(),c=qn(l);c.payload=t,n!=null&&(c.callback=n),t=Gn(e,c,l),t!==null&&(jt(t,e,l),ei(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=kt(),c=qn(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Gn(e,c,l),t!==null&&(jt(t,e,l),ei(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),l=qn(n);l.tag=2,t!=null&&(l.callback=t),t=Gn(e,l,n),t!==null&&(jt(t,e,n),ei(t,e,n))}};function _f(e,t,n,l,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):t.prototype&&t.prototype.isPureReactComponent?!Vl(n,l)||!Vl(c,d):!0}function Ef(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Na(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Nf(e){ns(e)}function Cf(e){console.error(e)}function Tf(e){ns(e)}function Es(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Af(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vo(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function Mf(e){return e=qn(e),e.tag=3,e}function Rf(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Af(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Af(t,n,l),typeof c!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Qy(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&al(t,n,c,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Gt===null?Us():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===fs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),yc(e,l,c)),!1;case 22:return n.flags|=65536,l===fs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),yc(e,l,c)),!1}throw Error(o(435,n.tag))}return yc(e,l,c),Us(),!1}if(Ne)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==uo&&(e=Error(o(422),{cause:l}),Ql(Bt(e,n)))):(l!==uo&&(t=Error(o(423),{cause:l}),Ql(Bt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Bt(l,n),c=Vo(e.stateNode,l,c),wo(e,c),$e!==4&&($e=2)),!1;var d=Error(o(520),{cause:l});if(d=Bt(d,n),mi===null?mi=[d]:mi.push(d),$e!==4&&($e=2),t===null)return!0;l=Bt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Vo(n.stateNode,l,e),wo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xn===null||!Xn.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Mf(c),Rf(c,e,n,l),wo(n,c),!1}n=n.return}while(n!==null);return!1}var Ko=Error(o(461)),Qe=!1;function ot(e,t,n,l){t.child=e===null?Dd(t,null,n,l):_a(t,e.child,n,l)}function kf(e,t,n,l,c){n=n.render;var d=t.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return ba(t),l=To(e,t,n,y,d,c),b=Ao(),e!==null&&!Qe?(Mo(e,t,c),gn(e,t,c)):(Ne&&b&&oo(t),t.flags|=1,ot(e,t,l,c),t.child)}function Of(e,t,n,l,c){if(e===null){var d=n.type;return typeof d=="function"&&!io(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Df(e,t,d,l,c)):(e=ss(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!tc(e,c)){var y=d.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(y,l)&&e.ref===t.ref)return gn(e,t,c)}return t.flags|=1,e=cn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,n,l,c){if(e!==null){var d=e.memoizedProps;if(Vl(d,l)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=l=d,tc(e,c))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,gn(e,t,c)}return Xo(e,t,n,l,c)}function zf(e,t,n,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return Lf(e,t,d,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&us(t,d!==null?d.cachePool:null),d!==null?Ud(t,d):_o(),Bd(t);else return l=t.lanes=536870912,Lf(e,t,d!==null?d.baseLanes|n:n,n,l)}else d!==null?(us(t,d.cachePool),Ud(t,d),Yn(),t.memoizedState=null):(e!==null&&us(t,null),_o(),Yn());return ot(e,t,c,n),t.child}function ri(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lf(e,t,n,l,c){var d=vo();return d=d===null?null:{parent:Ke._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&us(t,null),_o(),Bd(t),e!==null&&al(e,t,l,!0),t.childLanes=c,null}function Ns(e,t){return t=Ts({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uf(e,t,n){return _a(t,e.child,null,n),e=Ns(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Wy(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=Ns(t,l),t.lanes=536870912,ri(null,e);if(No(t),(e=Ue)?(e=Qh(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:Jt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},n=xd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return Ns(t,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(No(t),c)if(t.flags&256)t.flags&=-257,t=Uf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Qe||al(e,t,n,!1),c=(n&e.childLanes)!==0,Qe||c){if(l=ze,l!==null&&(y=Nu(l,n),y!==0&&y!==d.retryLane))throw d.retryLane=y,pa(e,y),jt(l,e,y),Ko;Us(),t=Uf(e,t,n)}else e=d.treeContext,Ue=$t(y.nextSibling),st=t,Ne=!0,Un=null,qt=!1,e!==null&&wd(t,e),t=Ns(t,l),t.flags|=4096;return t}return e=cn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Xo(e,t,n,l,c){return ba(t),n=To(e,t,n,l,void 0,c),l=Ao(),e!==null&&!Qe?(Mo(e,t,c),gn(e,t,c)):(Ne&&l&&oo(t),t.flags|=1,ot(e,t,n,c),t.child)}function Bf(e,t,n,l,c,d){return ba(t),t.updateQueue=null,n=Id(t,l,n,c),Hd(e),l=Ao(),e!==null&&!Qe?(Mo(e,t,d),gn(e,t,d)):(Ne&&l&&oo(t),t.flags|=1,ot(e,t,n,d),t.child)}function Hf(e,t,n,l,c){if(ba(t),t.stateNode===null){var d=Pa,y=n.contextType;typeof y=="object"&&y!==null&&(d=rt(y)),d=new n(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},bo(t),y=n.contextType,d.context=typeof y=="object"&&y!==null?rt(y):Pa,d.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Yo(t,n,y,l),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Fo.enqueueReplaceState(d,d.state,null),ni(t,l,d,c),ti(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,C=Na(n,b);d.props=C;var H=d.context,V=n.contextType;y=Pa,typeof V=="object"&&V!==null&&(y=rt(V));var Q=n.getDerivedStateFromProps;V=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==y)&&Ef(t,d,l,y),In=!1;var q=t.memoizedState;d.state=q,ni(t,l,d,c),ti(),H=t.memoizedState,b||q!==H||In?(typeof Q=="function"&&(Yo(t,n,Q,l),H=t.memoizedState),(C=In||_f(t,n,C,l,q,H,y))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=H),d.props=l,d.state=H,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,So(e,t),y=t.memoizedProps,V=Na(n,y),d.props=V,Q=t.pendingProps,q=d.context,H=n.contextType,C=Pa,typeof H=="object"&&H!==null&&(C=rt(H)),b=n.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||q!==C)&&Ef(t,d,l,C),In=!1,q=t.memoizedState,d.state=q,ni(t,l,d,c),ti();var G=t.memoizedState;y!==Q||q!==G||In||e!==null&&e.dependencies!==null&&os(e.dependencies)?(typeof b=="function"&&(Yo(t,n,b,l),G=t.memoizedState),(V=In||_f(t,n,V,l,q,G,C)||e!==null&&e.dependencies!==null&&os(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),d.props=l,d.state=G,d.context=C,l=V):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Cs(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=_a(t,e.child,null,c),t.child=_a(t,null,n,c)):ot(e,t,n,c),t.memoizedState=d.state,e=t.child):e=gn(e,t,c),e}function If(e,t,n,l){return va(),t.flags|=256,ot(e,t,n,l),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Td()}}function Zo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rt),e}function qf(e,t,n){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?$n(t):Yn(),(e=Ue)?(e=Qh(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:Jt,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},n=xd(e),n.return=t,t.child=n,st=t,Ue=null)):e=null,e===null)throw Bn(t);return Oc(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(Yn(),c=t.mode,b=Ts({mode:"hidden",children:b},c),l=ya(l,c,n,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Wo(n),l.childLanes=Zo(e,y,n),t.memoizedState=Qo,ri(null,l)):($n(t),Jo(t,b))}var C=e.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(d)t.flags&256?($n(t),t.flags&=-257,t=Po(e,t,n)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),b=l.fallback,c=t.mode,l=Ts({mode:"visible",children:l.children},c),b=ya(b,c,n,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,_a(t,e.child,null,n),l=t.child,l.memoizedState=Wo(n),l.childLanes=Zo(e,y,n),t.memoizedState=Qo,t=ri(null,l));else if($n(t),Oc(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(o(419)),l.stack="",l.digest=y,Ql({value:l,source:null,stack:null}),t=Po(e,t,n)}else if(Qe||al(e,t,n,!1),y=(n&e.childLanes)!==0,Qe||y){if(y=ze,y!==null&&(l=Nu(y,n),l!==0&&l!==C.retryLane))throw C.retryLane=l,pa(e,l),jt(y,e,l),Ko;kc(b)||Us(),t=Po(e,t,n)}else kc(b)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Ue=$t(b.nextSibling),st=t,Ne=!0,Un=null,qt=!1,e!==null&&wd(t,e),t=Jo(t,l.children),t.flags|=4096);return t}return c?(Yn(),b=l.fallback,c=t.mode,C=e.child,H=C.sibling,l=cn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?b=cn(H,b):(b=ya(b,c,n,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,ri(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Wo(n):(c=b.cachePool,c!==null?(C=Ke._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Td(),b={baseLanes:b.baseLanes|n,cachePool:c}),l.memoizedState=b,l.childLanes=Zo(e,y,n),t.memoizedState=Qo,ri(e.child,l)):($n(t),n=e.child,e=n.sibling,n=cn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Jo(e,t){return t=Ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ts(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Po(e,t,n){return _a(t,e.child,null,n),e=Jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gf(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),mo(e.return,t,n)}function ec(e,t,n,l,c,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=d)}function $f(e,t,n){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var y=Ye.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,O(Ye,y),ot(e,t,l,n),l=Ne?Xl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gf(e,n,t);else if(e.tag===19)Gf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ec(t,!1,c,n,d,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ps(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ec(t,!0,n,null,d,l);break;case"together":ec(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(al(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&os(e)))}function Zy(e,t,n){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),Hn(t,Ke,e.memoizedState.cache),va();break;case 27:case 5:at(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,No(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?($n(t),t.flags|=128,null):(n&t.child.childLanes)!==0?qf(e,t,n):($n(t),e=gn(e,t,n),e!==null?e.sibling:null);$n(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(al(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return $f(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),O(Ye,Ye.current),l)break;return null;case 22:return t.lanes=0,zf(e,t,n,t.pendingProps);case 24:Hn(t,Ke,e.memoizedState.cache)}return gn(e,t,n)}function Yf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!tc(e,n)&&(t.flags&128)===0)return Qe=!1,Zy(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,Ne&&(t.flags&1048576)!==0&&Sd(t,Xl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e=="function")io(e)?(l=Na(e,l),t.tag=1,t=Hf(null,t,e,l,n)):(t.tag=0,t=Xo(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===W){t.tag=11,t=kf(null,t,e,l,n);break e}else if(c===P){t.tag=14,t=Of(null,t,e,l,n);break e}}throw t=se(e)||e,Error(o(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=Na(l,t.pendingProps),Hf(e,t,l,c,n);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,So(e,t),ni(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Hn(t,Ke,l),l!==d.cache&&go(t,[Ke],n,!0),ti(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=If(e,t,l,n);break e}else if(l!==c){c=Bt(Error(o(424)),t),Ql(c),t=If(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=$t(e.firstChild),st=t,Ne=!0,Un=null,qt=!0,n=Dd(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),l===c){t=gn(e,t,n);break e}ot(e,t,l,n)}t=t.child}return t;case 26:return Cs(e,t),e===null?(n=tm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ne||(n=t.type,e=t.pendingProps,l=Ys(oe.current).createElement(n),l[it]=t,l[yt]=e,ct(l,n,e),tt(l),t.stateNode=l):t.memoizedState=tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return at(t),e===null&&Ne&&(l=t.stateNode=Jh(t.type,t.pendingProps,oe.current),st=t,qt=!0,c=Ue,Jn(t.type)?(Dc=c,Ue=$t(l.firstChild)):Ue=c),ot(e,t,t.pendingProps.children,n),Cs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=l=Ue)&&(l=C0(l,t.type,t.pendingProps,qt),l!==null?(t.stateNode=l,st=t,Ue=$t(l.firstChild),qt=!1,c=!0):c=!1),c||Bn(t)),at(t),c=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Ac(c,d)?l=null:y!==null&&Ac(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=To(e,t,Gy,null,null,n),wi._currentValue=c),Cs(e,t),ot(e,t,l,n),t.child;case 6:return e===null&&Ne&&((e=n=Ue)&&(n=T0(n,t.pendingProps,qt),n!==null?(t.stateNode=n,st=t,Ue=null,e=!0):e=!1),e||Bn(t)),null;case 13:return qf(e,t,n);case 4:return we(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=_a(t,null,l,n):ot(e,t,l,n),t.child;case 11:return kf(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Hn(t,t.type,l.value),ot(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ba(t),c=rt(c),l=l(c),t.flags|=1,ot(e,t,l,n),t.child;case 14:return Of(e,t,t.type,t.pendingProps,n);case 15:return Df(e,t,t.type,t.pendingProps,n);case 19:return $f(e,t,n);case 31:return Wy(e,t,n);case 22:return zf(e,t,n,t.pendingProps);case 24:return ba(t),l=rt(Ke),e===null?(c=vo(),c===null&&(c=ze,d=po(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:l,cache:c},bo(t),Hn(t,Ke,c)):((e.lanes&n)!==0&&(So(e,t),ni(t,null,null,n),ti()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Hn(t,Ke,l)):(l=d.cache,Hn(t,Ke,l),l!==c.cache&&go(t,[Ke],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function pn(e){e.flags|=4}function nc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(yh())e.flags|=8192;else throw ja=fs,xo}else e.flags&=-16777217}function Ff(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sm(t))if(yh())e.flags|=8192;else throw ja=fs,xo}function As(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ju():536870912,e.lanes|=t,gl|=t)}function oi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Jy(e,t,n){var l=t.pendingProps;switch(co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),fn(Ke),je(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nl(t)?pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fo())),Be(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(pn(t),d!==null?(Be(t),Ff(t,d)):(Be(t),nc(t,c,null,l,n))):d?d!==e.memoizedState?(pn(t),Be(t),Ff(t,d)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pn(t),Be(t),nc(t,c,e,l,n)),null;case 27:if(Dt(t),n=oe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}e=F.current,nl(t)?jd(t):(e=Jh(c,l,n),t.stateNode=e,pn(t))}return Be(t),null;case 5:if(Dt(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}if(d=F.current,nl(t))jd(t);else{var y=Ys(oe.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}d[it]=t,d[yt]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=d;e:switch(ct(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pn(t)}}return Be(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=oe.current,nl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=st,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||qh(e.nodeValue,n)),e||Bn(t,!0)}else e=Ys(e).createTextNode(l),e[it]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=nl(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[it]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Be(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=nl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[it]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),c=!1}else c=fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),As(t,t.updateQueue),Be(t),null);case 4:return je(),e===null&&_c(t.stateNode.containerInfo),Be(t),null;case 10:return fn(t.type),Be(t),null;case 19:if(A(Ye),l=t.memoizedState,l===null)return Be(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)oi(l,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ps(e),d!==null){for(t.flags|=128,oi(l,!1),e=d.updateQueue,t.updateQueue=e,As(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vd(n,e),n=n.sibling;return O(Ye,Ye.current&1|2),Ne&&un(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&mt()>Ds&&(t.flags|=128,c=!0,oi(l,!1),t.lanes=4194304)}else{if(!c)if(e=ps(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,As(t,e),oi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ne)return Be(t),null}else 2*mt()-l.renderingStartTime>Ds&&n!==536870912&&(t.flags|=128,c=!0,oi(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=mt(),e.sibling=null,n=Ye.current,O(Ye,c?n&1|2:n&1),Ne&&un(t,l.treeForkCount),e):(Be(t),null);case 22:case 23:return At(t),Eo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&As(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&A(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fn(Ke),Be(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Py(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Ke),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dt(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(o(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return A(Ye),null;case 4:return je(),null;case 10:return fn(t.type),null;case 22:case 23:return At(t),Eo(),e!==null&&A(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Ke),null;case 25:return null;default:return null}}function Vf(e,t){switch(co(t),t.tag){case 3:fn(Ke),je();break;case 26:case 27:case 5:Dt(t);break;case 4:je();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:A(Ye);break;case 10:fn(t.type);break;case 22:case 23:At(t),Eo(),e!==null&&A(Sa);break;case 24:fn(Ke)}}function ci(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var d=n.create,y=n.inst;l=d(),y.destroy=l}n=n.next}while(n!==c)}}catch(b){Re(t,t.return,b)}}function Fn(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=t;var C=n,H=b;try{H()}catch(V){Re(c,C,V)}}}l=l.next}while(l!==d)}}catch(V){Re(t,t.return,V)}}function Kf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ld(t,n)}catch(l){Re(e,e.return,l)}}}function Xf(e,t,n){n.props=Na(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Re(e,t,l)}}function ui(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){Re(e,t,c)}}function en(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Re(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Re(e,t,c)}else n.current=null}function Qf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Re(e,e.return,c)}}function ac(e,t,n){try{var l=e.stateNode;S0(l,e.type,n,t),l[yt]=t}catch(c){Re(e,e.return,c)}}function Wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rn));else if(l!==4&&(l===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}function Ms(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ms(e,t,n),e=e.sibling;e!==null;)Ms(e,t,n),e=e.sibling}function Zf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ct(t,l,n),t[it]=e,t[yt]=n}catch(d){Re(e,e.return,d)}}var yn=!1,We=!1,sc=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,nt=null;function e0(e,t){if(e=e.containerInfo,Cc=Zs,e=cd(e),Jr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var y=0,b=-1,C=-1,H=0,V=0,Q=e,q=null;t:for(;;){for(var G;Q!==n||c!==0&&Q.nodeType!==3||(b=y+c),Q!==d||l!==0&&Q.nodeType!==3||(C=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(G=Q.firstChild)!==null;)q=Q,Q=G;for(;;){if(Q===e)break t;if(q===n&&++H===c&&(b=y),q===d&&++V===l&&(C=y),(G=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=G}n=b===-1||C===-1?null:{start:b,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tc={focusedElem:e,selectionRange:n},Zs=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,l=n.stateNode;try{var ce=Na(n.type,c);e=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){Re(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Rc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Pf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n),l&4&&ci(5,n);break;case 1:if(xn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Re(n,n.return,y)}else{var c=Na(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Re(n,n.return,y)}}l&64&&Kf(n),l&512&&ui(n,n.return);break;case 3:if(xn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ld(e,t)}catch(y){Re(n,n.return,y)}}break;case 27:t===null&&l&4&&Zf(n);case 26:case 5:xn(e,n),t===null&&l&4&&Qf(n),l&512&&ui(n,n.return);break;case 12:xn(e,n);break;case 31:xn(e,n),l&4&&nh(e,n);break;case 13:xn(e,n),l&4&&ah(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=c0.bind(null,n),A0(e,n))));break;case 22:if(l=n.memoizedState!==null||yn,!l){t=t!==null&&t.memoizedState!==null||We,c=yn;var d=We;yn=l,(We=t)&&!d?bn(e,n,(n.subtreeFlags&8772)!==0):xn(e,n),yn=c,We=d}break;case 30:break;default:xn(e,n)}}function eh(e){var t=e.alternate;t!==null&&(e.alternate=null,eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,xt=!1;function vn(e,t,n){for(n=n.child;n!==null;)th(e,t,n),n=n.sibling}function th(e,t,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(dt,n)}catch{}switch(n.tag){case 26:We||en(n,t),vn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||en(n,t);var l=He,c=xt;Jn(n.type)&&(He=n.stateNode,xt=!1),vn(e,t,n),xi(n.stateNode),He=l,xt=c;break;case 5:We||en(n,t);case 6:if(l=He,c=xt,He=null,vn(e,t,n),He=l,xt=c,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(d){Re(n,t,d)}else try{He.removeChild(n.stateNode)}catch(d){Re(n,t,d)}break;case 18:He!==null&&(xt?(e=He,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),jl(e)):Kh(He,n.stateNode));break;case 4:l=He,c=xt,He=n.stateNode.containerInfo,xt=!0,vn(e,t,n),He=l,xt=c;break;case 0:case 11:case 14:case 15:Fn(2,n,t),We||Fn(4,n,t),vn(e,t,n);break;case 1:We||(en(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Xf(n,t,l)),vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:We=(l=We)||n.memoizedState!==null,vn(e,t,n),We=l;break;default:vn(e,t,n)}}function nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jl(e)}catch(n){Re(t,t.return,n)}}}function ah(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(n){Re(t,t.return,n)}}function t0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jf),t;default:throw Error(o(435,e.tag))}}function Rs(e,t){var n=t0(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=u0.bind(null,e,l);l.then(c,c)}})}function bt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],d=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Jn(b.type)){He=b.stateNode,xt=!1;break e}break;case 5:He=b.stateNode,xt=!1;break e;case 3:case 4:He=b.stateNode.containerInfo,xt=!0;break e}b=b.return}if(He===null)throw Error(o(160));th(d,y,c),He=null,xt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lh(t,e),t=t.sibling}var Xt=null;function lh(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),St(e),l&4&&(Fn(3,e,e.return),ci(3,e),Fn(5,e,e.return));break;case 1:bt(t,e),St(e),l&512&&(We||n===null||en(n,n.return)),l&64&&yn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Xt;if(bt(t,e),St(e),l&512&&(We||n===null||en(n,n.return)),l&4){var d=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ul]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ct(d,l,n),d[it]=e,tt(d),l=d;break e;case"link":var y=lm("link","href",c).get(l+(n.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(b,1);break t}}d=c.createElement(l),ct(d,l,n),c.head.appendChild(d);break;case"meta":if(y=lm("meta","content",c).get(l+(n.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(b,1);break t}}d=c.createElement(l),ct(d,l,n),c.head.appendChild(d);break;default:throw Error(o(468,l))}d[it]=e,tt(d),l=d}e.stateNode=l}else im(c,e.type,e.stateNode);else e.stateNode=am(c,l,e.memoizedProps);else d!==l?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,l===null?im(c,e.type,e.stateNode):am(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ac(e,e.memoizedProps,n.memoizedProps)}break;case 27:bt(t,e),St(e),l&512&&(We||n===null||en(n,n.return)),n!==null&&l&4&&ac(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bt(t,e),St(e),l&512&&(We||n===null||en(n,n.return)),e.flags&32){c=e.stateNode;try{Va(c,"")}catch(ce){Re(e,e.return,ce)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ac(e,c,n!==null?n.memoizedProps:c)),l&1024&&(sc=!0);break;case 6:if(bt(t,e),St(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ce){Re(e,e.return,ce)}}break;case 3:if(Ks=null,c=Xt,Xt=Fs(t.containerInfo),bt(t,e),Xt=c,St(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(t.containerInfo)}catch(ce){Re(e,e.return,ce)}sc&&(sc=!1,ih(e));break;case 4:l=Xt,Xt=Fs(e.stateNode.containerInfo),bt(t,e),St(e),Xt=l;break;case 12:bt(t,e),St(e);break;case 31:bt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 13:bt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Os=mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 22:c=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,H=yn,V=We;if(yn=H||c,We=V||C,bt(t,e),We=V,yn=H,St(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||C||yn||We||Ca(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(d=C.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=C.stateNode;var Q=C.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Re(C,C.return,ce)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ce){Re(C,C.return,ce)}}}else if(t.tag===18){if(n===null){C=t;try{var G=C.stateNode;c?Xh(G,!0):Xh(C.stateNode,!1)}catch(ce){Re(C,C.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Rs(e,n))));break;case 19:bt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 30:break;case 21:break;default:bt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Wf(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,d=lc(e);Ms(e,d,c);break;case 5:var y=n.stateNode;n.flags&32&&(Va(y,""),n.flags&=-33);var b=lc(e);Ms(e,b,y);break;case 3:case 4:var C=n.stateNode.containerInfo,H=lc(e);ic(e,H,C);break;default:throw Error(o(161))}}catch(V){Re(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ih(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ih(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pf(e,t.alternate,t),t=t.sibling}function Ca(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Ca(t);break;case 1:en(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xf(t,t.return,n),Ca(t);break;case 27:xi(t.stateNode);case 26:case 5:en(t,t.return),Ca(t);break;case 22:t.memoizedState===null&&Ca(t);break;case 30:Ca(t);break;default:Ca(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:bn(c,d,n),ci(4,d);break;case 1:if(bn(c,d,n),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){Re(l,l.return,H)}if(l=d,c=l.updateQueue,c!==null){var b=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)zd(C[c],b)}catch(H){Re(l,l.return,H)}}n&&y&64&&Kf(d),ui(d,d.return);break;case 27:Zf(d);case 26:case 5:bn(c,d,n),n&&l===null&&y&4&&Qf(d),ui(d,d.return);break;case 12:bn(c,d,n);break;case 31:bn(c,d,n),n&&y&4&&nh(c,d);break;case 13:bn(c,d,n),n&&y&4&&ah(c,d);break;case 22:d.memoizedState===null&&bn(c,d,n),ui(d,d.return);break;case 30:break;default:bn(c,d,n)}t=t.sibling}}function rc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Wl(n))}function oc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Qt(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sh(e,t,n,l),t=t.sibling}function sh(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,n,l),c&2048&&ci(9,t);break;case 1:Qt(e,t,n,l);break;case 3:Qt(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(c&2048){Qt(e,t,n,l),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Re(t,t.return,C)}}else Qt(e,t,n,l);break;case 31:Qt(e,t,n,l);break;case 13:Qt(e,t,n,l);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Qt(e,t,n,l):di(e,t):d._visibility&2?Qt(e,t,n,l):(d._visibility|=2,fl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&rc(y,t);break;case 24:Qt(e,t,n,l),c&2048&&oc(t.alternate,t);break;default:Qt(e,t,n,l)}}function fl(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,y=t,b=n,C=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:fl(d,y,b,C,c),ci(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?fl(d,y,b,C,c):di(d,y):(V._visibility|=2,fl(d,y,b,C,c)),c&&H&2048&&rc(y.alternate,y);break;case 24:fl(d,y,b,C,c),c&&H&2048&&oc(y.alternate,y);break;default:fl(d,y,b,C,c)}t=t.sibling}}function di(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:di(n,l),c&2048&&rc(l.alternate,l);break;case 24:di(n,l),c&2048&&oc(l.alternate,l);break;default:di(n,l)}t=t.sibling}}var fi=8192;function hl(e,t,n){if(e.subtreeFlags&fi)for(e=e.child;e!==null;)rh(e,t,n),e=e.sibling}function rh(e,t,n){switch(e.tag){case 26:hl(e,t,n),e.flags&fi&&e.memoizedState!==null&&q0(n,Xt,e.memoizedState,e.memoizedProps);break;case 5:hl(e,t,n);break;case 3:case 4:var l=Xt;Xt=Fs(e.stateNode.containerInfo),hl(e,t,n),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fi,fi=16777216,hl(e,t,n),fi=l):hl(e,t,n));break;default:hl(e,t,n)}}function oh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,uh(l,e)}oh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ch(e),e=e.sibling}function ch(e){switch(e.tag){case 0:case 11:case 15:hi(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:hi(e);break;case 12:hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ks(e)):hi(e);break;default:hi(e)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,uh(l,e)}oh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),ks(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ks(t));break;default:ks(t)}e=e.sibling}}function uh(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Fn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,nt=l;else e:for(n=e;nt!==null;){l=nt;var c=l.sibling,d=l.return;if(eh(l),l===n){nt=null;break e}if(c!==null){c.return=d,nt=c;break e}nt=d}}}var n0={getCacheForType:function(e){var t=rt(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rt(Ke).controller.signal}},a0=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,be=null,_e=0,Me=0,Mt=null,Vn=!1,ml=!1,cc=!1,Sn=0,$e=0,Kn=0,Ta=0,uc=0,Rt=0,gl=0,mi=null,wt=null,dc=!1,Os=0,dh=0,Ds=1/0,zs=null,Xn=null,Pe=0,Qn=null,pl=null,wn=0,fc=0,hc=null,fh=null,gi=0,mc=null;function kt(){return(Ae&2)!==0&&_e!==0?_e&-_e:L.T!==null?bc():Cu()}function hh(){if(Rt===0)if((_e&536870912)===0||Ne){var e=Dl;Dl<<=1,(Dl&3932160)===0&&(Dl=262144),Rt=e}else Rt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Rt}function jt(e,t,n){(e===ze&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(yl(e,0),Wn(e,_e,Rt,!1)),Ll(e,n),((Ae&2)===0||e!==ze)&&(e===ze&&((Ae&2)===0&&(Ta|=n),$e===4&&Wn(e,_e,Rt,!1)),tn(e))}function mh(e,t,n){if((Ae&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||zl(e,t),c=l?s0(e,t):pc(e,t,!0),d=l;do{if(c===0){ml&&!l&&Wn(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!l0(n)){c=pc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;c=mi;var C=b.current.memoizedState.isDehydrated;if(C&&(yl(b,y).flags|=256),y=pc(b,y,!1),y!==2){if(cc&&!C){b.errorRecoveryDisabledLanes|=d,Ta|=d,c=4;break e}d=wt,wt=c,d!==null&&(wt===null?wt=d:wt.push.apply(wt,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){yl(e,0),Wn(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Wn(l,t,Rt,!Vn);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Os+300-mt(),10<c)){if(Wn(l,t,Rt,!Vn),Fi(l,0,!0)!==0)break e;wn=t,l.timeoutHandle=Fh(gh.bind(null,l,n,wt,zs,dc,t,Rt,Ta,gl,Vn,d,"Throttled",-0,0),c);break e}gh(l,n,wt,zs,dc,t,Rt,Ta,gl,Vn,d,null,-0,0)}}break}while(!0);tn(e)}function gh(e,t,n,l,c,d,y,b,C,H,V,Q,q,G){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},rh(t,d,Q);var ce=(d&62914560)===d?Os-mt():(d&4194048)===d?dh-mt():0;if(ce=G0(Q,ce),ce!==null){wn=d,e.cancelPendingCommit=ce(jh.bind(null,e,t,d,n,l,c,y,b,C,V,Q,null,q,G)),Wn(e,d,y,!H);return}}jh(e,t,d,n,l,c,y,b,C)}function l0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],d=c.getSnapshot;c=c.value;try{if(!Nt(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,n,l){t&=~uc,t&=~Ta,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-xe(c),y=1<<d;l[d]=-1,c&=~y}n!==0&&_u(e,n,t)}function Ls(){return(Ae&6)===0?(pi(0),!1):!0}function gc(){if(be!==null){if(Me===0)var e=be.return;else e=be,dn=xa=null,Ro(e),rl=null,Jl=0,e=be;for(;e!==null;)Vf(e.alternate,e),e=e.return;be=null}}function yl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wn=0,gc(),ze=e,be=n=cn(e.current,null),_e=t,Me=0,Mt=null,Vn=!1,ml=zl(e,t),cc=!1,gl=Rt=uc=Ta=Kn=$e=0,wt=mi=null,dc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-xe(l),d=1<<c;t|=e[c],l&=~d}return Sn=t,as(),n}function ph(e,t){pe=null,L.H=si,t===sl||t===ds?(t=Rd(),Me=3):t===xo?(t=Rd(),Me=4):Me=t===Ko?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,be===null&&($e=1,Es(e,Bt(t,e.current)))}function yh(){var e=Tt.current;return e===null?!0:(_e&4194048)===_e?Gt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Gt:!1}function vh(){var e=L.H;return L.H=si,e===null?si:e}function xh(){var e=L.A;return L.A=n0,e}function Us(){$e=4,Vn||(_e&4194048)!==_e&&Tt.current!==null||(ml=!0),(Kn&134217727)===0&&(Ta&134217727)===0||ze===null||Wn(ze,_e,Rt,!1)}function pc(e,t,n){var l=Ae;Ae|=2;var c=vh(),d=xh();(ze!==e||_e!==t)&&(zs=null,yl(e,t)),t=!1;var y=$e;e:do try{if(Me!==0&&be!==null){var b=be,C=Mt;switch(Me){case 8:gc(),y=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var H=Me;if(Me=0,Mt=null,vl(e,b,C,H),n&&ml){y=0;break e}break;default:H=Me,Me=0,Mt=null,vl(e,b,C,H)}}i0(),y=$e;break}catch(V){ph(e,V)}while(!0);return t&&e.shellSuspendCounter++,dn=xa=null,Ae=l,L.H=c,L.A=d,be===null&&(ze=null,_e=0,as()),y}function i0(){for(;be!==null;)bh(be)}function s0(e,t){var n=Ae;Ae|=2;var l=vh(),c=xh();ze!==e||_e!==t?(zs=null,Ds=mt()+500,yl(e,t)):ml=zl(e,t);e:do try{if(Me!==0&&be!==null){t=be;var d=Mt;t:switch(Me){case 1:Me=0,Mt=null,vl(e,t,d,1);break;case 2:case 9:if(Ad(d)){Me=0,Mt=null,Sh(t);break}t=function(){Me!==2&&Me!==9||ze!==e||(Me=7),tn(e)},d.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Ad(d)?(Me=0,Mt=null,Sh(t)):(Me=0,Mt=null,vl(e,t,d,7));break;case 5:var y=null;switch(be.tag){case 26:y=be.memoizedState;case 5:case 27:var b=be;if(y?sm(y):b.stateNode.complete){Me=0,Mt=null;var C=b.sibling;if(C!==null)be=C;else{var H=b.return;H!==null?(be=H,Bs(H)):be=null}break t}}Me=0,Mt=null,vl(e,t,d,5);break;case 6:Me=0,Mt=null,vl(e,t,d,6);break;case 8:gc(),$e=6;break e;default:throw Error(o(462))}}r0();break}catch(V){ph(e,V)}while(!0);return dn=xa=null,L.H=l,L.A=c,Ae=n,be!==null?0:(ze=null,_e=0,as(),$e)}function r0(){for(;be!==null&&!Nr();)bh(be)}function bh(e){var t=Yf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Bs(e):be=t}function Sh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bf(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=Bf(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:Ro(t);default:Vf(n,t),t=be=vd(t,Sn),t=Yf(n,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Bs(e):be=t}function vl(e,t,n,l){dn=xa=null,Ro(t),rl=null,Jl=0;var c=t.return;try{if(Qy(e,c,t,n,_e)){$e=1,Es(e,Bt(n,e.current)),be=null;return}}catch(d){if(c!==null)throw be=c,d;$e=1,Es(e,Bt(n,e.current)),be=null;return}t.flags&32768?(Ne||l===1?e=!0:ml||(_e&536870912)!==0?e=!1:(Vn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tt.current,l!==null&&l.tag===13&&(l.flags|=16384))),wh(t,e)):Bs(t)}function Bs(e){var t=e;do{if((t.flags&32768)!==0){wh(t,Vn);return}e=t.return;var n=Jy(t.alternate,t,Sn);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);$e===0&&($e=5)}function wh(e,t){do{var n=Py(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);$e=6,be=null}function jh(e,t,n,l,c,d,y,b,C){e.cancelPendingCommit=null;do Hs();while(Pe!==0);if((Ae&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(d=t.lanes|t.childLanes,d|=ao,Ip(e,n,d,y,b,C),e===ze&&(be=ze=null,_e=0),pl=t,Qn=e,wn=n,fc=d,hc=c,fh=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d0(Ha,function(){return Th(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=X.p,X.p=2,y=Ae,Ae|=4;try{e0(e,t,n)}finally{Ae=y,X.p=c,L.T=l}}Pe=1,_h(),Eh(),Nh()}}function _h(){if(Pe===1){Pe=0;var e=Qn,t=pl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=Ae;Ae|=4;try{lh(t,e);var d=Tc,y=cd(e.containerInfo),b=d.focusedElem,C=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&od(b.ownerDocument.documentElement,b)){if(C!==null&&Jr(b)){var H=C.start,V=C.end;if(V===void 0&&(V=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(V,b.value.length);else{var Q=b.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var G=q.getSelection(),ce=b.textContent.length,he=Math.min(C.start,ce),De=C.end===void 0?he:Math.min(C.end,ce);!G.extend&&he>De&&(y=De,De=he,he=y);var D=rd(b,he),R=rd(b,De);if(D&&R&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var B=Q.createRange();B.setStart(D.node,D.offset),G.removeAllRanges(),he>De?(G.addRange(B),G.extend(R.node,R.offset)):(B.setEnd(R.node,R.offset),G.addRange(B))}}}}for(Q=[],G=b;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var K=Q[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Zs=!!Cc,Tc=Cc=null}finally{Ae=c,X.p=l,L.T=n}}e.current=t,Pe=2}}function Eh(){if(Pe===2){Pe=0;var e=Qn,t=pl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var l=X.p;X.p=2;var c=Ae;Ae|=4;try{Pf(e,t.alternate,t)}finally{Ae=c,X.p=l,L.T=n}}Pe=3}}function Nh(){if(Pe===4||Pe===3){Pe=0,Cr();var e=Qn,t=pl,n=wn,l=fh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,pl=Qn=null,Ch(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Xn=null),Or(n),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(dt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,c=X.p,X.p=2,L.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];d(b.value,{componentStack:b.stack})}}finally{L.T=t,X.p=c}}(wn&3)!==0&&Hs(),tn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===mc?gi++:(gi=0,mc=e):gi=0,pi(0)}}function Ch(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function Hs(){return _h(),Eh(),Nh(),Th()}function Th(){if(Pe!==5)return!1;var e=Qn,t=fc;fc=0;var n=Or(wn),l=L.T,c=X.p;try{X.p=32>n?32:n,L.T=null,n=hc,hc=null;var d=Qn,y=wn;if(Pe=0,pl=Qn=null,wn=0,(Ae&6)!==0)throw Error(o(331));var b=Ae;if(Ae|=4,ch(d.current),sh(d,d.current,y,n),Ae=b,pi(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{X.p=c,L.T=l,Ch(e,t)}}function Ah(e,t,n){t=Bt(n,t),t=Vo(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Ll(e,2),tn(e))}function Re(e,t,n){if(e.tag===3)Ah(e,e,n);else for(;t!==null;){if(t.tag===3){Ah(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xn===null||!Xn.has(l))){e=Bt(n,e),n=Mf(2),l=Gn(t,n,2),l!==null&&(Rf(n,l,t,e),Ll(l,2),tn(l));break}}t=t.return}}function yc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new a0;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(cc=!0,c.add(n),e=o0.bind(null,e,t,n),t.then(e,e))}function o0(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(_e&n)===n&&($e===4||$e===3&&(_e&62914560)===_e&&300>mt()-Os?(Ae&2)===0&&yl(e,0):uc|=n,gl===_e&&(gl=0)),tn(e)}function Mh(e,t){t===0&&(t=ju()),e=pa(e,t),e!==null&&(Ll(e,t),tn(e))}function c0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mh(e,n)}function u0(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Mh(e,n)}function d0(e,t){return Ua(e,t)}var Is=null,xl=null,vc=!1,qs=!1,xc=!1,Zn=0;function tn(e){e!==xl&&e.next===null&&(xl===null?Is=xl=e:xl=xl.next=e),qs=!0,vc||(vc=!0,h0())}function pi(e,t){if(!xc&&qs){xc=!0;do for(var n=!1,l=Is;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var y=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=c&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Dh(l,d))}else d=_e,d=Fi(l,l===ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zl(l,d)||(n=!0,Dh(l,d));l=l.next}while(n);xc=!1}}function f0(){Rh()}function Rh(){qs=vc=!1;var e=0;Zn!==0&&j0()&&(e=Zn);for(var t=mt(),n=null,l=Is;l!==null;){var c=l.next,d=kh(l,t);d===0?(l.next=null,n===null?Is=c:n.next=c,c===null&&(xl=n)):(n=l,(e!==0||(d&3)!==0)&&(qs=!0)),l=c}Pe!==0&&Pe!==5||pi(e),Zn!==0&&(Zn=0)}function kh(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-xe(d),b=1<<y,C=c[y];C===-1?((b&n)===0||(b&l)!==0)&&(c[y]=Hp(b,t)):C<=t&&(e.expiredLanes|=b),d&=~b}if(t=ze,n=_e,n=Fi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ba(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||zl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ba(l),Or(n)){case 2:case 8:n=Gi;break;case 32:n=Ha;break;case 268435456:n=me;break;default:n=Ha}return l=Oh.bind(null,e),n=Ua(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ba(l),e.callbackPriority=2,e.callbackNode=null,2}function Oh(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hs()&&e.callbackNode!==n)return null;var l=_e;return l=Fi(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mh(e,l,t),kh(e,mt()),e.callbackNode!=null&&e.callbackNode===n?Oh.bind(null,e):null)}function Dh(e,t){if(Hs())return null;mh(e,t,!0)}function h0(){E0(function(){(Ae&6)!==0?Ua(qi,f0):Rh()})}function bc(){if(Zn===0){var e=ll;e===0&&(e=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),Zn=e}return Zn}function zh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qi(""+e)}function Lh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function m0(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var d=zh((c[yt]||null).action),y=l.submitter;y&&(t=(t=y[yt]||null)?zh(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var b=new Pi("action","action",null,l,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zn!==0){var C=y?Lh(c,y):new FormData(c);Io(n,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=y?Lh(c,y):new FormData(c),Io(n,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var Sc=0;Sc<no.length;Sc++){var wc=no[Sc],g0=wc.toLowerCase(),p0=wc[0].toUpperCase()+wc.slice(1);Kt(g0,"on"+p0)}Kt(fd,"onAnimationEnd"),Kt(hd,"onAnimationIteration"),Kt(md,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(ky,"onTransitionRun"),Kt(Oy,"onTransitionStart"),Kt(Dy,"onTransitionCancel"),Kt(gd,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function Uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var y=l.length-1;0<=y;y--){var b=l[y],C=b.instance,H=b.currentTarget;if(b=b.listener,C!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=H;try{d(c)}catch(V){ns(V)}c.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(b=l[y],C=b.instance,H=b.currentTarget,b=b.listener,C!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=H;try{d(c)}catch(V){ns(V)}c.currentTarget=null,d=C}}}}function Se(e,t){var n=t[Dr];n===void 0&&(n=t[Dr]=new Set);var l=e+"__bubble";n.has(l)||(Bh(t,e,2,!1),n.add(l))}function jc(e,t,n){var l=0;t&&(l|=4),Bh(n,e,l,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Gs]){e[Gs]=!0,Mu.forEach(function(n){n!=="selectionchange"&&(y0.has(n)||jc(n,!1,e),jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,jc("selectionchange",!1,t))}}function Bh(e,t,n,l){switch(hm(t)){case 2:var c=F0;break;case 8:c=V0;break;default:c=Hc}n=c.bind(null,t,n,e),c=void 0,!$r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Ec(e,t,n,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=qa(b),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}b=b.parentNode}}l=l.return}Gu(function(){var H=d,V=qr(n),Q=[];e:{var q=pd.get(e);if(q!==void 0){var G=Pi,ce=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":G=uy;break;case"focusin":ce="focus",G=Kr;break;case"focusout":ce="blur",G=Kr;break;case"beforeblur":case"afterblur":G=Kr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=hy;break;case fd:case hd:case md:G=ty;break;case gd:G=gy;break;case"scroll":case"scrollend":G=Wp;break;case"wheel":G=yy;break;case"copy":case"cut":case"paste":G=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ku;break;case"toggle":case"beforetoggle":G=xy}var he=(t&4)!==0,De=!he&&(e==="scroll"||e==="scrollend"),D=he?q!==null?q+"Capture":null:q;he=[];for(var R=H,B;R!==null;){var K=R;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||D===null||(K=Hl(R,D),K!=null&&he.push(vi(R,K,B))),De)break;R=R.return}0<he.length&&(q=new G(q,ce,null,n,V),Q.push({event:q,listeners:he}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&n!==Ir&&(ce=n.relatedTarget||n.fromElement)&&(qa(ce)||ce[Ia]))break e;if((G||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ce=n.relatedTarget||n.toElement,G=H,ce=ce?qa(ce):null,ce!==null&&(De=f(ce),he=ce.tag,ce!==De||he!==5&&he!==27&&he!==6)&&(ce=null)):(G=null,ce=H),G!==ce)){if(he=Fu,K="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(he=Ku,K="onPointerLeave",D="onPointerEnter",R="pointer"),De=G==null?q:Bl(G),B=ce==null?q:Bl(ce),q=new he(K,R+"leave",G,n,V),q.target=De,q.relatedTarget=B,K=null,qa(V)===H&&(he=new he(D,R+"enter",ce,n,V),he.target=B,he.relatedTarget=De,K=he),De=K,G&&ce)t:{for(he=v0,D=G,R=ce,B=0,K=D;K;K=he(K))B++;K=0;for(var fe=R;fe;fe=he(fe))K++;for(;0<B-K;)D=he(D),B--;for(;0<K-B;)R=he(R),K--;for(;B--;){if(D===R||R!==null&&D===R.alternate){he=D;break t}D=he(D),R=he(R)}he=null}else he=null;G!==null&&Hh(Q,q,G,he,!1),ce!==null&&De!==null&&Hh(Q,De,ce,he,!0)}}e:{if(q=H?Bl(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ce=td;else if(Pu(q))if(nd)Ce=Ay;else{Ce=Cy;var ue=Ny}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Hr(H.elementType)&&(Ce=td):Ce=Ty;if(Ce&&(Ce=Ce(e,H))){ed(Q,Ce,n,V);break e}ue&&ue(e,q,H),e==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Br(q,"number",q.value)}switch(ue=H?Bl(H):window,e){case"focusin":(Pu(ue)||ue.contentEditable==="true")&&(Wa=ue,Pr=H,Kl=null);break;case"focusout":Kl=Pr=Wa=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,ud(Q,n,V);break;case"selectionchange":if(Ry)break;case"keydown":case"keyup":ud(Q,n,V)}var ye;if(Qr)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Qa?Zu(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(Xu&&n.locale!=="ko"&&(Qa||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Qa&&(ye=$u()):(zn=V,Yr="value"in zn?zn.value:zn.textContent,Qa=!0)),ue=$s(H,Ee),0<ue.length&&(Ee=new Vu(Ee,e,null,n,V),Q.push({event:Ee,listeners:ue}),ye?Ee.data=ye:(ye=Ju(n),ye!==null&&(Ee.data=ye)))),(ye=Sy?wy(e,n):jy(e,n))&&(Ee=$s(H,"onBeforeInput"),0<Ee.length&&(ue=new Vu("onBeforeInput","beforeinput",null,n,V),Q.push({event:ue,listeners:Ee}),ue.data=ye)),m0(Q,e,H,n,V)}Uh(Q,t)})}function vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Hl(e,n),c!=null&&l.unshift(vi(e,c,d)),c=Hl(e,t),c!=null&&l.push(vi(e,c,d))),e.tag===3)return l;e=e.return}return[]}function v0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hh(e,t,n,l,c){for(var d=t._reactName,y=[];n!==null&&n!==l;){var b=n,C=b.alternate,H=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||H===null||(C=H,c?(H=Hl(n,d),H!=null&&y.unshift(vi(n,H,C))):c||(H=Hl(n,d),H!=null&&y.push(vi(n,H,C)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var x0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Ih(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(b0,"")}function qh(e,t){return t=Ih(t),Ih(e)===t}function Oe(e,t,n,l,c,d){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Va(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Va(e,""+l);break;case"className":Ki(e,"class",l);break;case"tabIndex":Ki(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,n,l);break;case"style":Iu(e,l,d);break;case"data":if(t!=="object"){Ki(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Qi(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",c.name,c,null),Oe(e,t,"formEncType",c.formEncType,c,null),Oe(e,t,"formMethod",c.formMethod,c,null),Oe(e,t,"formTarget",c.formTarget,c,null)):(Oe(e,t,"encType",c.encType,c,null),Oe(e,t,"method",c.method,c,null),Oe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Qi(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=rn);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Qi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Vi(e,"popover",l);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Xp.get(n)||n,Vi(e,n,l))}}function Nc(e,t,n,l,c,d){switch(n){case"style":Iu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Va(e,l):(typeof l=="number"||typeof l=="bigint")&&Va(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[yt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Vi(e,n,l)}}}function ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var y=n[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Oe(e,t,d,y,n,null)}}c&&Oe(e,t,"srcSet",n.srcSet,n,null),l&&Oe(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var b=d=y=c=null,C=null,H=null;for(l in n)if(n.hasOwnProperty(l)){var V=n[l];if(V!=null)switch(l){case"name":c=V;break;case"type":y=V;break;case"checked":C=V;break;case"defaultChecked":H=V;break;case"value":d=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:Oe(e,t,l,V,n,null)}}Lu(e,d,b,C,H,y,c,!1);return;case"select":Se("invalid",e),l=y=d=null;for(c in n)if(n.hasOwnProperty(c)&&(b=n[c],b!=null))switch(c){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:Oe(e,t,c,b,n,null)}t=d,n=y,e.multiple=!!l,t!=null?Fa(e,!!l,t,!1):n!=null&&Fa(e,!!l,n,!0);return;case"textarea":Se("invalid",e),d=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(b=n[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":c=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Oe(e,t,y,b,n,null)}Bu(e,l,c,d);return;case"option":for(C in n)n.hasOwnProperty(C)&&(l=n[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(e,t,C,l,n,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<yi.length;l++)Se(yi[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in n)if(n.hasOwnProperty(H)&&(l=n[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Oe(e,t,H,l,n,null)}return;default:if(Hr(t)){for(V in n)n.hasOwnProperty(V)&&(l=n[V],l!==void 0&&Nc(e,t,V,l,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(l=n[b],l!=null&&Oe(e,t,b,l,n,null))}function S0(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,b=null,C=null,H=null,V=null;for(G in n){var Q=n[G];if(n.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(G)||Oe(e,t,G,null,l,Q)}}for(var q in l){var G=l[q];if(Q=n[q],l.hasOwnProperty(q)&&(G!=null||Q!=null))switch(q){case"type":d=G;break;case"name":c=G;break;case"checked":H=G;break;case"defaultChecked":V=G;break;case"value":y=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==Q&&Oe(e,t,q,G,l,Q)}}Ur(e,y,b,C,H,V,d,c);return;case"select":G=y=b=q=null;for(d in n)if(C=n[d],n.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Oe(e,t,d,null,l,C)}for(c in l)if(d=l[c],C=n[c],l.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==C&&Oe(e,t,c,d,l,C)}t=b,n=y,l=G,q!=null?Fa(e,!!n,q,!1):!!l!=!!n&&(t!=null?Fa(e,!!n,t,!0):Fa(e,!!n,n?[]:"",!1));return;case"textarea":G=q=null;for(b in n)if(c=n[b],n.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Oe(e,t,b,null,l,c)}for(y in l)if(c=l[y],d=n[y],l.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Oe(e,t,y,c,l,d)}Uu(e,q,G);return;case"option":for(var ce in n)q=n[ce],n.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?e.selected=!1:Oe(e,t,ce,null,l,q));for(C in l)q=l[C],G=n[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null)&&(C==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":Oe(e,t,C,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)q=n[he],n.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he)&&Oe(e,t,he,null,l,q);for(H in l)if(q=l[H],G=n[H],l.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Oe(e,t,H,q,l,G)}return;default:if(Hr(t)){for(var De in n)q=n[De],n.hasOwnProperty(De)&&q!==void 0&&!l.hasOwnProperty(De)&&Nc(e,t,De,void 0,l,q);for(V in l)q=l[V],G=n[V],!l.hasOwnProperty(V)||q===G||q===void 0&&G===void 0||Nc(e,t,V,q,l,G);return}}for(var D in n)q=n[D],n.hasOwnProperty(D)&&q!=null&&!l.hasOwnProperty(D)&&Oe(e,t,D,null,l,q);for(Q in l)q=l[Q],G=n[Q],!l.hasOwnProperty(Q)||q===G||q==null&&G==null||Oe(e,t,Q,q,l,G)}function Gh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],d=c.transferSize,y=c.initiatorType,b=c.duration;if(d&&b&&Gh(y)){for(y=0,b=c.responseEnd,l+=1;l<n.length;l++){var C=n[l],H=C.startTime;if(H>b)break;var V=C.transferSize,Q=C.initiatorType;V&&Gh(Q)&&(C=C.responseEnd,y+=V*(C<b?1:(b-H)/(C-H)))}if(--l,t+=8*(d+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,Tc=null;function Ys(e){return e.nodeType===9?e:e.ownerDocument}function $h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mc=null;function j0(){var e=window.event;return e&&e.type==="popstate"?e===Mc?!1:(Mc=e,!0):(Mc=null,!1)}var Fh=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(e){return Vh.resolve(null).then(e).catch(N0)}:Fh;function N0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Kh(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),jl(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")xi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xi(n);for(var d=n.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[Ul]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=y}}else n==="body"&&xi(e.ownerDocument.body);n=c}while(n);jl(t)}function Xh(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Rc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rc(n),zr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function C0(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ul])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function T0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function Qh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$t(e.nextSibling),e===null))return null;return e}function kc(e){return e.data==="$?"||e.data==="$~"}function Oc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function A0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Dc=null;function Wh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return $t(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Jh(e,t,n){switch(t=Ys(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zr(e)}var Yt=new Map,Ph=new Set;function Fs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=X.d;X.d={f:M0,r:R0,D:k0,C:O0,L:D0,m:z0,X:U0,S:L0,M:B0};function M0(){var e=jn.f(),t=Ls();return e||t}function R0(e){var t=Ga(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):jn.r(e)}var bl=typeof document>"u"?null:document;function em(e,t,n){var l=bl;if(l&&typeof t=="string"&&t){var c=Lt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Ph.has(c)||(Ph.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function k0(e){jn.D(e),em("dns-prefetch",e,null)}function O0(e,t){jn.C(e,t),em("preconnect",e,t)}function D0(e,t,n){jn.L(e,t,n);var l=bl;if(l&&e&&t){var c='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Lt(n.imageSizes)+'"]')):c+='[href="'+Lt(e)+'"]';var d=c;switch(t){case"style":d=Sl(e);break;case"script":d=wl(e)}Yt.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(bi(d))||t==="script"&&l.querySelector(Si(d))||(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function z0(e,t){jn.m(e,t);var n=bl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wl(e)}if(!Yt.has(d)&&(e=v({rel:"modulepreload",href:e},t),Yt.set(d,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Si(d)))return}l=n.createElement("link"),ct(l,"link",e),tt(l),n.head.appendChild(l)}}}function L0(e,t,n){jn.S(e,t,n);var l=bl;if(l&&e){var c=$a(l).hoistableStyles,d=Sl(e);t=t||"default";var y=c.get(d);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(bi(d)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(d))&&zc(e,n);var C=y=l.createElement("link");tt(C),ct(C,"link",e),C._p=new Promise(function(H,V){C.onload=H,C.onerror=V}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Vs(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(d,y)}}}function U0(e,t){jn.X(e,t);var n=bl;if(n&&e){var l=$a(n).hoistableScripts,c=wl(e),d=l.get(c);d||(d=n.querySelector(Si(c)),d||(e=v({src:e,async:!0},t),(t=Yt.get(c))&&Lc(e,t),d=n.createElement("script"),tt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function B0(e,t){jn.M(e,t);var n=bl;if(n&&e){var l=$a(n).hoistableScripts,c=wl(e),d=l.get(c);d||(d=n.querySelector(Si(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Yt.get(c))&&Lc(e,t),d=n.createElement("script"),tt(d),ct(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function tm(e,t,n,l){var c=(c=oe.current)?Fs(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Sl(n.href),n=$a(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Sl(n.href);var d=$a(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(bi(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),d||H0(c,e,n,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wl(n),n=$a(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Sl(e){return'href="'+Lt(e)+'"'}function bi(e){return'link[rel="stylesheet"]['+e+"]"}function nm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function H0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ct(t,"link",n),tt(t),e.head.appendChild(t))}function wl(e){return'[src="'+Lt(e)+'"]'}function Si(e){return"script[async]"+e}function am(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(l)return t.instance=l,tt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),ct(l,"style",c),Vs(l,n.precedence,e),t.instance=l;case"stylesheet":c=Sl(n.href);var d=e.querySelector(bi(c));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;l=nm(n),(c=Yt.get(c))&&zc(l,c),d=(e.ownerDocument||e).createElement("link"),tt(d);var y=d;return y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),ct(d,"link",l),t.state.loading|=4,Vs(d,n.precedence,e),t.instance=d;case"script":return d=wl(n.src),(c=e.querySelector(Si(d)))?(t.instance=c,tt(c),c):(l=n,(c=Yt.get(d))&&(l=v({},n),Lc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),tt(c),ct(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Vs(l,n.precedence,e));return t.instance}function Vs(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===t)d=b;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ks=null;function lm(e,t,n){if(Ks===null){var l=new Map,c=Ks=new Map;c.set(n,l)}else c=Ks,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[Ul]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var b=l.get(y);b?b.push(d):l.set(y,[d])}}return l}function im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function I0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function q0(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Sl(l.href),d=t.querySelector(bi(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,tt(d);return}d=t.ownerDocument||t,l=nm(l),(c=Yt.get(c))&&zc(l,c),d=d.createElement("link"),tt(d);var y=d;y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),ct(d,"link",l),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Xs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Uc=0;function G0(e,t){return e.stylesheets&&e.count===0&&Ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Ws(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Uc===0&&(Uc=62500*w0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ws(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Uc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Xs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qs=null;function Ws(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qs=new Map,t.forEach($0,e),Qs=null,Xs.call(e))}function $0(e,t){if(!(t.state.loading&4)){var n=Qs.get(e);if(n)var l=n.get(null);else{n=new Map,Qs.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),d=n.get(y)||l,d===l&&n.set(null,c),n.set(y,c),this.count++,l=Xs.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var wi={$$typeof:U,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Y0(e,t,n,l,c,d,y,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function rm(e,t,n,l,c,d,y,b,C,H,V,Q){return e=new Y0(e,t,n,y,C,H,V,Q,b),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=po(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:n,cache:t},bo(d),e}function om(e){return e?(e=Pa,e):Pa}function cm(e,t,n,l,c,d){c=om(c),l.context===null?l.context=c:l.pendingContext=c,l=qn(t),l.payload={element:n},d=d===void 0?null:d,d!==null&&(l.callback=d),n=Gn(e,l,t),n!==null&&(jt(n,e,t),ei(n,e,t))}function um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bc(e,t){um(e,t),(e=e.alternate)&&um(e,t)}function dm(e){if(e.tag===13||e.tag===31){var t=pa(e,67108864);t!==null&&jt(t,e,67108864),Bc(e,67108864)}}function fm(e){if(e.tag===13||e.tag===31){var t=kt();t=kr(t);var n=pa(e,t);n!==null&&jt(n,e,t),Bc(e,t)}}var Zs=!0;function F0(e,t,n,l){var c=L.T;L.T=null;var d=X.p;try{X.p=2,Hc(e,t,n,l)}finally{X.p=d,L.T=c}}function V0(e,t,n,l){var c=L.T;L.T=null;var d=X.p;try{X.p=8,Hc(e,t,n,l)}finally{X.p=d,L.T=c}}function Hc(e,t,n,l){if(Zs){var c=Ic(l);if(c===null)Ec(e,t,l,Js,n),mm(e,l);else if(X0(c,e,t,n,l))l.stopPropagation();else if(mm(e,l),t&4&&-1<K0.indexOf(e)){for(;c!==null;){var d=Ga(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=da(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var C=1<<31-xe(y);b.entanglements[1]|=C,y&=~C}tn(d),(Ae&6)===0&&(Ds=mt()+500,pi(0))}}break;case 31:case 13:b=pa(d,2),b!==null&&jt(b,d,2),Ls(),Bc(d,2)}if(d=Ic(l),d===null&&Ec(e,t,l,Js,n),d===c)break;c=d}c!==null&&l.stopPropagation()}else Ec(e,t,l,null,n)}}function Ic(e){return e=qr(e),qc(e)}var Js=null;function qc(e){if(Js=null,e=qa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Js=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case qi:return 2;case Gi:return 8;case Ha:case Ar:return 32;case me:return 268435456;default:return 32}default:return 32}}var Gc=!1,Pn=null,ea=null,ta=null,ji=new Map,_i=new Map,na=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function Ei(e,t,n,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Ga(t),t!==null&&dm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function X0(e,t,n,l,c){switch(t){case"focusin":return Pn=Ei(Pn,e,t,n,l,c),!0;case"dragenter":return ea=Ei(ea,e,t,n,l,c),!0;case"mouseover":return ta=Ei(ta,e,t,n,l,c),!0;case"pointerover":var d=c.pointerId;return ji.set(d,Ei(ji.get(d)||null,e,t,n,l,c)),!0;case"gotpointercapture":return d=c.pointerId,_i.set(d,Ei(_i.get(d)||null,e,t,n,l,c)),!0}return!1}function gm(e){var t=qa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Tu(e.priority,function(){fm(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Tu(e.priority,function(){fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ic(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ir=l,n.target.dispatchEvent(l),Ir=null}else return t=Ga(n),t!==null&&dm(t),e.blockedOn=n,!1;t.shift()}return!0}function pm(e,t,n){Ps(e)&&n.delete(t)}function Q0(){Gc=!1,Pn!==null&&Ps(Pn)&&(Pn=null),ea!==null&&Ps(ea)&&(ea=null),ta!==null&&Ps(ta)&&(ta=null),ji.forEach(pm),_i.forEach(pm)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,Gc||(Gc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Q0)))}var tr=null;function ym(e){tr!==e&&(tr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tr===e&&(tr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(qc(l||n)===null)continue;break}var d=Ga(n);d!==null&&(e.splice(t,3),t-=3,Io(d,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function jl(e){function t(C){return er(C,e)}Pn!==null&&er(Pn,e),ea!==null&&er(ea,e),ta!==null&&er(ta,e),ji.forEach(t),_i.forEach(t);for(var n=0;n<na.length;n++){var l=na[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<na.length&&(n=na[0],n.blockedOn===null);)gm(n),n.blockedOn===null&&na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],d=n[l+1],y=c[yt]||null;if(typeof d=="function")y||ym(n);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[yt]||null)b=y.formAction;else if(qc(c)!==null)continue}else b=y.action;typeof b=="function"?n[l+1]=b:(n.splice(l,3),l-=3),ym(n)}}}function vm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function $c(e){this._internalRoot=e}nr.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=kt();cm(n,l,e,t,null,null)},nr.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cm(e.current,2,null,e,null,null),Ls(),t[Ia]=null}};function nr(e){this._internalRoot=e}nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&gm(e)}};var xm=i.version;if(xm!=="19.2.4")throw Error(o(527,xm,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var W0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ar.isDisabled&&ar.supportsFiber)try{dt=ar.inject(W0),et=ar}catch{}}return Ci.createRoot=function(e,t){if(!u(e))throw Error(o(299));var n=!1,l="",c=Nf,d=Cf,y=Tf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=rm(e,1,!1,null,null,n,l,null,c,d,y,vm),e[Ia]=t.current,_c(e),new $c(t)},Ci.hydrateRoot=function(e,t,n){if(!u(e))throw Error(o(299));var l=!1,c="",d=Nf,y=Cf,b=Tf,C=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=rm(e,1,!0,t,n??null,l,c,C,d,y,b,vm),t.context=om(null),n=t.current,l=kt(),l=kr(l),c=qn(l),c.callback=null,Gn(n,c,l),n=l,t.current.lanes=n,Ll(t,n),tn(t),e[Ia]=t.current,_c(e),new nr(t)},Ci.version="19.2.4",Ci}var Am;function sv(){if(Am)return Vc.exports;Am=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Vc.exports=iv(),Vc.exports}var rv=sv();var Mm="popstate";function ov(a={}){function i(u,f){let{pathname:h="/",search:m="",hash:g=""}=Da(u.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ru("",{pathname:h,search:m,hash:g},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function r(u,f){let h=u.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=u.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof f=="string"?f:ki(f))}function o(u,f){Zt(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return uv(i,r,o,a)}function Ie(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Zt(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function cv(){return Math.random().toString(36).substring(2,10)}function Rm(a,i){return{usr:a.state,key:a.key,idx:i}}function ru(a,i,r=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?Da(i):i,state:r,key:i&&i.key||o||cv()}}function ki({pathname:a="/",search:i="",hash:r=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Da(a){let i={};if(a){let r=a.indexOf("#");r>=0&&(i.hash=a.substring(r),a=a.substring(0,r));let o=a.indexOf("?");o>=0&&(i.search=a.substring(o),a=a.substring(0,o)),a&&(i.pathname=a)}return i}function uv(a,i,r,o={}){let{window:u=document.defaultView,v5Compat:f=!1}=o,h=u.history,m="POP",g=null,p=x();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function x(){return(h.state||{idx:null}).idx}function v(){m="POP";let k=x(),z=k==null?null:k-p;p=k,g&&g({action:m,location:T.location,delta:z})}function w(k,z){m="PUSH";let N=ru(T.location,k,z);r&&r(N,k),p=x()+1;let U=Rm(N,p),W=T.createHref(N);try{h.pushState(U,"",W)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;u.location.assign(W)}f&&g&&g({action:m,location:T.location,delta:1})}function j(k,z){m="REPLACE";let N=ru(T.location,k,z);r&&r(N,k),p=x();let U=Rm(N,p),W=T.createHref(N);h.replaceState(U,"",W),f&&g&&g({action:m,location:T.location,delta:0})}function E(k){return dv(k)}let T={get action(){return m},get location(){return a(u,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Mm,v),g=k,()=>{u.removeEventListener(Mm,v),g=null}},createHref(k){return i(u,k)},createURL:E,encodeLocation(k){let z=E(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:j,go(k){return h.go(k)}};return T}function dv(a,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(r,"No window.location.(origin|href) available to create URL");let o=typeof a=="string"?a:ki(a);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function Ug(a,i,r="/"){return fv(a,i,r,!1)}function fv(a,i,r,o){let u=typeof i=="string"?Da(i):i,f=Mn(u.pathname||"/",r);if(f==null)return null;let h=Bg(a);hv(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=_v(f);m=wv(h[g],p,o)}return m}function Bg(a,i=[],r=[],o="",u=!1){let f=(h,m,g=u,p)=>{let x={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&g)return;Ie(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let v=An([o,x.relativePath]),w=r.concat(x);h.children&&h.children.length>0&&(Ie(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Bg(h.children,i,w,v,g)),!(h.path==null&&!h.index)&&i.push({path:v,score:bv(v,h.index),routesMeta:w})};return a.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))f(h,m);else for(let g of Hg(h.path))f(h,m,!0,g)}),i}function Hg(a){let i=a.split("/");if(i.length===0)return[];let[r,...o]=i,u=r.endsWith("?"),f=r.replace(/\?$/,"");if(o.length===0)return u?[f,""]:[f];let h=Hg(o.join("/")),m=[];return m.push(...h.map(g=>g===""?f:[f,g].join("/"))),u&&m.push(...h),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function hv(a){a.sort((i,r)=>i.score!==r.score?r.score-i.score:Sv(i.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var mv=/^:[\w-]+$/,gv=3,pv=2,yv=1,vv=10,xv=-2,km=a=>a==="*";function bv(a,i){let r=a.split("/"),o=r.length;return r.some(km)&&(o+=xv),i&&(o+=pv),r.filter(u=>!km(u)).reduce((u,f)=>u+(mv.test(f)?gv:f===""?yv:vv),o)}function Sv(a,i){return a.length===i.length&&a.slice(0,-1).every((o,u)=>o===i[u])?a[a.length-1]-i[i.length-1]:0}function wv(a,i,r=!1){let{routesMeta:o}=a,u={},f="/",h=[];for(let m=0;m<o.length;++m){let g=o[m],p=m===o.length-1,x=f==="/"?i:i.slice(f.length)||"/",v=hr({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),w=g.route;if(!v&&p&&r&&!o[o.length-1].route.index&&(v=hr({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:An([f,v.pathname]),pathnameBase:Tv(An([f,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(f=An([f,v.pathnameBase]))}return h}function hr(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,o]=jv(a.path,a.caseSensitive,a.end),u=i.match(r);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:o.reduce((p,{paramName:x,isOptional:v},w)=>{if(x==="*"){let E=m[w]||"";h=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const j=m[w];return v&&!j?p[x]=void 0:p[x]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:a}}function jv(a,i=!1,r=!0){Zt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(o.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(o.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),o]}function _v(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Zt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function Mn(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,o=a.charAt(r);return o&&o!=="/"?null:a.slice(r)||"/"}var Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Nv(a,i="/"){let{pathname:r,search:o="",hash:u=""}=typeof a=="string"?Da(a):a,f;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?f=Om(r.substring(1),"/"):f=Om(r,i)):f=i,{pathname:f,search:Av(o),hash:Mv(u)}}function Om(a,i){let r=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Wc(a,i,r,o){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(a){return a.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Ig(a){let i=Cv(a);return i.map((r,o)=>o===i.length-1?r.pathname:r.pathnameBase)}function qg(a,i,r,o=!1){let u;typeof a=="string"?u=Da(a):(u={...a},Ie(!u.pathname||!u.pathname.includes("?"),Wc("?","pathname","search",u)),Ie(!u.pathname||!u.pathname.includes("#"),Wc("#","pathname","hash",u)),Ie(!u.search||!u.search.includes("#"),Wc("#","search","hash",u)));let f=a===""||u.pathname==="",h=f?"/":u.pathname,m;if(h==null)m=r;else{let v=i.length-1;if(!o&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;u.pathname=w.join("/")}m=v>=0?i[v]:"/"}let g=Nv(u,m),p=h&&h!=="/"&&h.endsWith("/"),x=(f||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var An=a=>a.join("/").replace(/\/\/+/g,"/"),Tv=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Av=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Mv=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Rv=class{constructor(a,i,r,o=!1){this.status=a,this.statusText=i||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function kv(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Ov(a){return a.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $g(a,i){let r=a;if(typeof r!="string"||!Ev.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,u=!1;if(Gg)try{let f=new URL(window.location.href),h=r.startsWith("//")?new URL(f.protocol+r):new URL(r),m=Mn(h.pathname,i);h.origin===f.origin&&m!=null?r=m+h.search+h.hash:u=!0}catch{Zt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yg=["POST","PUT","PATCH","DELETE"];new Set(Yg);var Dv=["GET",...Yg];new Set(Dv);var Ml=_.createContext(null);Ml.displayName="DataRouter";var vr=_.createContext(null);vr.displayName="DataRouterState";var zv=_.createContext(!1),Fg=_.createContext({isTransitioning:!1});Fg.displayName="ViewTransition";var Lv=_.createContext(new Map);Lv.displayName="Fetchers";var Uv=_.createContext(null);Uv.displayName="Await";var Ft=_.createContext(null);Ft.displayName="Navigation";var zi=_.createContext(null);zi.displayName="Location";var ln=_.createContext({outlet:null,matches:[],isDataRoute:!1});ln.displayName="Route";var mu=_.createContext(null);mu.displayName="RouteError";var Vg="REACT_ROUTER_ERROR",Bv="REDIRECT",Hv="ROUTE_ERROR_RESPONSE";function Iv(a){if(a.startsWith(`${Vg}:${Bv}:{`))try{let i=JSON.parse(a.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function qv(a){if(a.startsWith(`${Vg}:${Hv}:{`))try{let i=JSON.parse(a.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new Rv(i.status,i.statusText,i.data)}catch{}}function Gv(a,{relative:i}={}){Ie(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=_.useContext(Ft),{hash:u,pathname:f,search:h}=Ui(a,{relative:i}),m=f;return r!=="/"&&(m=f==="/"?r:An([r,f])),o.createHref({pathname:m,search:h,hash:u})}function Li(){return _.useContext(zi)!=null}function Rn(){return Ie(Li(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(zi).location}var Kg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xg(a){_.useContext(Ft).static||_.useLayoutEffect(a)}function xr(){let{isDataRoute:a}=_.useContext(ln);return a?nx():$v()}function $v(){Ie(Li(),"useNavigate() may be used only in the context of a <Router> component.");let a=_.useContext(Ml),{basename:i,navigator:r}=_.useContext(Ft),{matches:o}=_.useContext(ln),{pathname:u}=Rn(),f=JSON.stringify(Ig(o)),h=_.useRef(!1);return Xg(()=>{h.current=!0}),_.useCallback((g,p={})=>{if(Zt(h.current,Kg),!h.current)return;if(typeof g=="number"){r.go(g);return}let x=qg(g,JSON.parse(f),u,p.relative==="path");a==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:An([i,x.pathname])),(p.replace?r.replace:r.push)(x,p.state,p)},[i,r,f,u,a])}_.createContext(null);function Yv(){let{matches:a}=_.useContext(ln),i=a[a.length-1];return i?i.params:{}}function Ui(a,{relative:i}={}){let{matches:r}=_.useContext(ln),{pathname:o}=Rn(),u=JSON.stringify(Ig(r));return _.useMemo(()=>qg(a,JSON.parse(u),o,i==="path"),[a,u,o,i])}function Fv(a,i){return Qg(a,i)}function Qg(a,i,r,o,u){Ie(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=_.useContext(Ft),{matches:h}=_.useContext(ln),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",v=m&&m.route;{let N=v&&v.path||"";Zg(p,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=Rn(),j;if(i){let N=typeof i=="string"?Da(i):i;Ie(x==="/"||N.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${N.pathname}" was given in the \`location\` prop.`),j=N}else j=w;let E=j.pathname||"/",T=E;if(x!=="/"){let N=x.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=Ug(a,{pathname:T});Zt(v||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Zt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Wv(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},g,N.params),pathname:An([x,f.encodeLocation?f.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?x:An([x,f.encodeLocation?f.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),h,r,o,u);return i&&z?_.createElement(zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function Vv(){let a=tx(),i=kv(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:f},"ErrorBoundary")," or"," ",_.createElement("code",{style:f},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},i),r?_.createElement("pre",{style:u},r):null,h)}var Kv=_.createElement(Vv,null),Wg=class extends _.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){this.props.onError?this.props.onError(a,i):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const r=qv(a.digest);r&&(a=r)}let i=a!==void 0?_.createElement(ln.Provider,{value:this.props.routeContext},_.createElement(mu.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?_.createElement(Xv,{error:a},i):i}};Wg.contextType=zv;var Zc=new WeakMap;function Xv({children:a,error:i}){let{basename:r}=_.useContext(Ft);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=Iv(i.digest);if(o){let u=Zc.get(i);if(u)throw u;let f=$g(o.location,r);if(Gg&&!Zc.get(i))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw Zc.set(i,h),h}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return a}function Qv({routeContext:a,match:i,children:r}){let o=_.useContext(Ml);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(ln.Provider,{value:a},r)}function Wv(a,i=[],r=null,o=null,u=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let f=a,h=r?.errors;if(h!=null){let x=f.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ie(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let m=!1,g=-1;if(r)for(let x=0;x<f.length;x++){let v=f[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=x),v.route.id){let{loaderData:w,errors:j}=r,E=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!j||j[v.route.id]===void 0);if(v.route.lazy||E){m=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}let p=r&&o?(x,v)=>{o(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Ov(r.matches),errorInfo:v})}:void 0;return f.reduceRight((x,v,w)=>{let j,E=!1,T=null,k=null;r&&(j=h&&v.route.id?h[v.route.id]:void 0,T=v.route.errorElement||Kv,m&&(g<0&&w===0?(Zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):g===w&&(E=!0,k=v.route.hydrateFallbackElement||null)));let z=i.concat(f.slice(0,w+1)),N=()=>{let U;return j?U=T:E?U=k:v.route.Component?U=_.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=x,_.createElement(Qv,{match:v,routeContext:{outlet:x,matches:z,isDataRoute:r!=null},children:U})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?_.createElement(Wg,{location:r.location,revalidation:r.revalidation,component:T,error:j,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):N()},null)}function gu(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(a){let i=_.useContext(Ml);return Ie(i,gu(a)),i}function Jv(a){let i=_.useContext(vr);return Ie(i,gu(a)),i}function Pv(a){let i=_.useContext(ln);return Ie(i,gu(a)),i}function pu(a){let i=Pv(a),r=i.matches[i.matches.length-1];return Ie(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function ex(){return pu("useRouteId")}function tx(){let a=_.useContext(mu),i=Jv("useRouteError"),r=pu("useRouteError");return a!==void 0?a:i.errors?.[r]}function nx(){let{router:a}=Zv("useNavigate"),i=pu("useNavigate"),r=_.useRef(!1);return Xg(()=>{r.current=!0}),_.useCallback(async(u,f={})=>{Zt(r.current,Kg),r.current&&(typeof u=="number"?await a.navigate(u):await a.navigate(u,{fromRouteId:i,...f}))},[a,i])}var Dm={};function Zg(a,i,r){!i&&!Dm[a]&&(Dm[a]=!0,Zt(!1,r))}_.memo(ax);function ax({routes:a,future:i,state:r,onError:o}){return Qg(a,void 0,r,o,i)}function Wt(a){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lx({basename:a="/",children:i=null,location:r,navigationType:o="POP",navigator:u,static:f=!1,unstable_useTransitions:h}){Ie(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:m,navigator:u,static:f,unstable_useTransitions:h,future:{}}),[m,u,f,h]);typeof r=="string"&&(r=Da(r));let{pathname:p="/",search:x="",hash:v="",state:w=null,key:j="default"}=r,E=_.useMemo(()=>{let T=Mn(p,m);return T==null?null:{location:{pathname:T,search:x,hash:v,state:w,key:j},navigationType:o}},[m,p,x,v,w,j,o]);return Zt(E!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(Ft.Provider,{value:g},_.createElement(zi.Provider,{children:i,value:E}))}function ix({children:a,location:i}){return Fv(ou(a),i)}function ou(a,i=[]){let r=[];return _.Children.forEach(a,(o,u)=>{if(!_.isValidElement(o))return;let f=[...i,u];if(o.type===_.Fragment){r.push.apply(r,ou(o.props.children,f));return}Ie(o.type===Wt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=ou(o.props.children,f)),r.push(h)}),r}var or="get",cr="application/x-www-form-urlencoded";function br(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function sx(a){return br(a)&&a.tagName.toLowerCase()==="button"}function rx(a){return br(a)&&a.tagName.toLowerCase()==="form"}function ox(a){return br(a)&&a.tagName.toLowerCase()==="input"}function cx(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ux(a,i){return a.button===0&&(!i||i==="_self")&&!cx(a)}var lr=null;function dx(){if(lr===null)try{new FormData(document.createElement("form"),0),lr=!1}catch{lr=!0}return lr}var fx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jc(a){return a!=null&&!fx.has(a)?(Zt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cr}"`),null):a}function hx(a,i){let r,o,u,f,h;if(rx(a)){let m=a.getAttribute("action");o=m?Mn(m,i):null,r=a.getAttribute("method")||or,u=Jc(a.getAttribute("enctype"))||cr,f=new FormData(a)}else if(sx(a)||ox(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(o=g?Mn(g,i):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||or,u=Jc(a.getAttribute("formenctype"))||Jc(m.getAttribute("enctype"))||cr,f=new FormData(m,a),!dx()){let{name:p,type:x,value:v}=a;if(x==="image"){let w=p?`${p}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else p&&f.append(p,v)}}else{if(br(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=or,o=null,u=cr,h=a}return f&&u==="text/plain"&&(h=f,f=void 0),{action:o,method:r.toLowerCase(),encType:u,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yu(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function mx(a,i,r,o){let u=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:i&&Mn(u.pathname,i)==="/"?u.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function gx(a,i){if(a.id in i)return i[a.id];try{let r=await import(a.module);return i[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function yx(a,i,r){let o=await Promise.all(a.map(async u=>{let f=i.routes[u.route.id];if(f){let h=await gx(f,r);return h.links?h.links():[]}return[]}));return Sx(o.flat(1).filter(px).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function zm(a,i,r,o,u,f){let h=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,m=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return f==="assets"?i.filter((g,p)=>h(g,p)||m(g,p)):f==="data"?i.filter((g,p)=>{let x=o.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function vx(a,i,{includeHydrateFallback:r}={}){return xx(a.map(o=>{let u=i.routes[o.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function xx(a){return[...new Set(a)]}function bx(a){let i={},r=Object.keys(a).sort();for(let o of r)i[o]=a[o];return i}function Sx(a,i){let r=new Set;return new Set(i),a.reduce((o,u)=>{let f=JSON.stringify(bx(u));return r.has(f)||(r.add(f),o.push({key:f,link:u})),o},[])}function Jg(){let a=_.useContext(Ml);return yu(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function wx(){let a=_.useContext(vr);return yu(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var vu=_.createContext(void 0);vu.displayName="FrameworkContext";function Pg(){let a=_.useContext(vu);return yu(a,"You must render this element inside a <HydratedRouter> element"),a}function jx(a,i){let r=_.useContext(vu),[o,u]=_.useState(!1),[f,h]=_.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:v}=i,w=_.useRef(null);_.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let T=z=>{z.forEach(N=>{h(N.isIntersecting)})},k=new IntersectionObserver(T,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[a]),_.useEffect(()=>{if(o){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[o]);let j=()=>{u(!0)},E=()=>{u(!1),h(!1)};return r?a!=="intent"?[f,w,{}]:[f,w,{onFocus:Ti(m,j),onBlur:Ti(g,E),onMouseEnter:Ti(p,j),onMouseLeave:Ti(x,E),onTouchStart:Ti(v,j)}]:[!1,w,{}]}function Ti(a,i){return r=>{a&&a(r),r.defaultPrevented||i(r)}}function _x({page:a,...i}){let{router:r}=Jg(),o=_.useMemo(()=>Ug(r.routes,a,r.basename),[r.routes,a,r.basename]);return o?_.createElement(Nx,{page:a,matches:o,...i}):null}function Ex(a){let{manifest:i,routeModules:r}=Pg(),[o,u]=_.useState([]);return _.useEffect(()=>{let f=!1;return yx(a,i,r).then(h=>{f||u(h)}),()=>{f=!0}},[a,i,r]),o}function Nx({page:a,matches:i,...r}){let o=Rn(),{future:u,manifest:f,routeModules:h}=Pg(),{basename:m}=Jg(),{loaderData:g,matches:p}=wx(),x=_.useMemo(()=>zm(a,i,p,f,o,"data"),[a,i,p,f,o]),v=_.useMemo(()=>zm(a,i,p,f,o,"assets"),[a,i,p,f,o]),w=_.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let T=new Set,k=!1;if(i.forEach(N=>{let U=f.routes[N.route.id];!U||!U.hasLoader||(!x.some(W=>W.route.id===N.route.id)&&N.route.id in g&&h[N.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:T.add(N.route.id))}),T.size===0)return[];let z=mx(a,m,u.unstable_trailingSlashAwareDataRequests,"data");return k&&T.size>0&&z.searchParams.set("_routes",i.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[z.pathname+z.search]},[m,u.unstable_trailingSlashAwareDataRequests,g,o,f,x,i,a,h]),j=_.useMemo(()=>vx(v,f),[v,f]),E=Ex(v);return _.createElement(_.Fragment,null,w.map(T=>_.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),j.map(T=>_.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),E.map(({key:T,link:k})=>_.createElement("link",{key:T,nonce:r.nonce,...k,crossOrigin:k.crossOrigin??r.crossOrigin})))}function Cx(...a){return i=>{a.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tx&&(window.__reactRouterVersion="7.13.0")}catch{}function Ax({basename:a,children:i,unstable_useTransitions:r,window:o}){let u=_.useRef();u.current==null&&(u.current=ov({window:o,v5Compat:!0}));let f=u.current,[h,m]=_.useState({action:f.action,location:f.location}),g=_.useCallback(p=>{r===!1?m(p):_.startTransition(()=>m(p))},[r]);return _.useLayoutEffect(()=>f.listen(g),[f,g]),_.createElement(lx,{basename:a,children:i,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:r})}var ep=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=_.forwardRef(function({onClick:i,discover:r="render",prefetch:o="none",relative:u,reloadDocument:f,replace:h,state:m,target:g,to:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w,...j},E){let{basename:T,unstable_useTransitions:k}=_.useContext(Ft),z=typeof p=="string"&&ep.test(p),N=$g(p,T);p=N.to;let U=Gv(p,{relative:u}),[W,Y,te]=jx(o,j),P=kx(p,{replace:h,state:m,target:g,preventScrollReset:x,relative:u,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function J(ie){i&&i(ie),ie.defaultPrevented||P(ie)}let le=_.createElement("a",{...j,...te,href:N.absoluteURL||U,onClick:N.isExternal||f?i:J,ref:Cx(E,Y),target:g,"data-discover":!z&&r==="render"?"true":void 0});return W&&!z?_.createElement(_.Fragment,null,le,_.createElement(_x,{page:U})):le});sa.displayName="Link";var tp=_.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:o="",end:u=!1,style:f,to:h,viewTransition:m,children:g,...p},x){let v=Ui(h,{relative:p.relative}),w=Rn(),j=_.useContext(vr),{navigator:E,basename:T}=_.useContext(Ft),k=j!=null&&Ux(v)&&m===!0,z=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,N=w.pathname,U=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(N=N.toLowerCase(),U=U?U.toLowerCase():null,z=z.toLowerCase()),U&&T&&(U=Mn(U,T)||U);const W=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Y=N===z||!u&&N.startsWith(z)&&N.charAt(W)==="/",te=U!=null&&(U===z||!u&&U.startsWith(z)&&U.charAt(z.length)==="/"),P={isActive:Y,isPending:te,isTransitioning:k},J=Y?i:void 0,le;typeof o=="function"?le=o(P):le=[o,Y?"active":null,te?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ie=typeof f=="function"?f(P):f;return _.createElement(sa,{...p,"aria-current":J,className:le,ref:x,style:ie,to:h,viewTransition:m},typeof g=="function"?g(P):g)});tp.displayName="NavLink";var Mx=_.forwardRef(({discover:a="render",fetcherKey:i,navigate:r,reloadDocument:o,replace:u,state:f,method:h=or,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w,...j},E)=>{let{unstable_useTransitions:T}=_.useContext(Ft),k=zx(),z=Lx(m,{relative:p}),N=h.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&ep.test(m),W=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let te=Y.nativeEvent.submitter,P=te?.getAttribute("formmethod")||h,J=()=>k(te||Y.currentTarget,{fetcherKey:i,method:P,navigate:r,replace:u,state:f,relative:p,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w});T&&r!==!1?_.startTransition(()=>J()):J()};return _.createElement("form",{ref:E,method:N,action:z,onSubmit:o?g:W,...j,"data-discover":!U&&a==="render"?"true":void 0})});Mx.displayName="Form";function Rx(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function np(a){let i=_.useContext(Ml);return Ie(i,Rx(a)),i}function kx(a,{target:i,replace:r,state:o,preventScrollReset:u,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=xr(),x=Rn(),v=Ui(a,{relative:f});return _.useCallback(w=>{if(ux(w,i)){w.preventDefault();let j=r!==void 0?r:ki(x)===ki(v),E=()=>p(a,{replace:j,state:o,preventScrollReset:u,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:m});g?_.startTransition(()=>E()):E()}},[x,p,v,r,o,i,a,u,f,h,m,g])}var Ox=0,Dx=()=>`__${String(++Ox)}__`;function zx(){let{router:a}=np("useSubmit"),{basename:i}=_.useContext(Ft),r=ex(),o=a.fetch,u=a.navigate;return _.useCallback(async(f,h={})=>{let{action:m,method:g,encType:p,formData:x,body:v}=hx(f,i);if(h.navigate===!1){let w=h.fetcherKey||Dx();await o(w,r,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await u(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:v,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,u,i,r])}function Lx(a,{relative:i}={}){let{basename:r}=_.useContext(Ft),o=_.useContext(ln);Ie(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),f={...Ui(a||".",{relative:i})},h=Rn();if(a==null){f.search=h.search;let m=new URLSearchParams(f.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(v=>v).forEach(v=>m.append("index",v));let x=m.toString();f.search=x?`?${x}`:""}}return(!a||a===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:An([r,f.pathname])),ki(f)}function Ux(a,{relative:i}={}){let r=_.useContext(Fg);Ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=np("useViewTransitionState"),u=Ui(a,{relative:i});if(!r.isTransitioning)return!1;let f=Mn(r.currentLocation.pathname,o)||r.currentLocation.pathname,h=Mn(r.nextLocation.pathname,o)||r.nextLocation.pathname;return hr(u.pathname,h)!=null||hr(u.pathname,f)!=null}const oa={SETTINGS:"dailyEventAI_settings",LAST_REFRESH:"dailyEventAI_lastRefresh",CACHED_DATA:"dailyEventAI_cachedData",ARTICLE_VIEWS:"dailyEventAI_articleViews"},ap="/api",Ot={uiMode:"timeline",customSortTopStories:!0,theme:"dark",fontSize:26,freshnessLimitHours:36,hideOlderThanHours:60,weatherFreshnessLimit:4,strictFreshness:!0,filteringMode:"source",rankingMode:"smart",rankingWeights:{temporal:{weekendBoost:2,entertainmentBoost:2.5},geo:{cityMatch:1.5,maxScore:5},freshness:{decayHours:26,maxBoost:3},impact:{boost:1,highImpactBoost:2.5},visual:{videoBoost:1.3,imageBoost:1.15},sentiment:{positiveBoost:.5,negativeBoost:.3},keyword:{matchBoost:2},source:{tier1Boost:.25,tier2Boost:.15,tier3Boost:0},viewedPenalty:.4,trending:{threshold:12},audit:{consensusThreshold:2,anomalySigma:2}},buzzRankingWeights:{visual:{videoBoost:2,imageBoost:1.5},freshness:{decayHours:12,maxBoost:2},trending:{threshold:10}},buzz:{entertainment:{enabled:!0,positiveKeywords:["tamil","kollywood","hindi","bollywood","hollywood","ott","netflix","prime video","disney","hotstar"],positiveMultiplier:2,negativeKeywords:["gossip","rumour","dating","spotted"],negativeMultiplier:2,filterThreshold:0},technology:{enabled:!0,positiveKeywords:["startup","ai","artificial intelligence","innovation","funding","launch","generative ai","llm"],positiveMultiplier:2,negativeKeywords:["rumour","leak","speculation"],negativeMultiplier:2,filterThreshold:0},sports:{enabled:!0,positiveKeywords:["cricket","football","ipl","world cup","india vs","final","highlights"],positiveMultiplier:2,negativeKeywords:["opinion","blog"],negativeMultiplier:2,filterThreshold:0}},weather:{models:{ecmwf:!0,gfs:!0,icon:!0},cities:["chennai","trichy","muscat"],showHumidity:!0,showWind:!1},sections:{world:{enabled:!0,count:5},india:{enabled:!0,count:5},chennai:{enabled:!0,count:5},trichy:{enabled:!0,count:5},local:{enabled:!0,count:5},social:{enabled:!0,count:25},entertainment:{enabled:!0,count:5},business:{enabled:!0,count:5},technology:{enabled:!0,count:5},sports:{enabled:!0,count:5}},newsSources:{bbc:!0,reuters:!0,ndtv:!0,theHindu:!0,toi:!0,financialExpress:!0,dtNext:!0,omanObserver:!0,moneyControl:!0,variety:!0,hollywoodReporter:!0,bollywoodHungama:!0,filmCompanion:!0,indiaToday:!0,timesOfOman:!0},sourceTiers:{tier1:["BBC","Reuters","TechCrunch","The Verge","ESPN"],tier2:["NDTV","The Hindu","Times of India","Moneycontrol","Indian Express"],tier3:["Oman Observer","DT Next","Bollywood Hungama"]},market:{showIndices:!0,showGainers:!0,showLosers:!0,showMutualFunds:!0,showIPO:!0,showSectorals:!0,showCommodities:!0,showCurrency:!0,showFIIDII:!0,cacheMinutes:15},entertainment:{tamilCount:5,hindiCount:5,hollywoodCount:3,ottCount:2},socialTrends:{worldCount:8,indiaCount:8,tamilnaduCount:5,muscatCount:4},customFeeds:[],feedBlockedKeywords:[],highImpactKeywords:["Budget","Election","Summit","Treaty","War","Crash","Landfall","Verdict","Resigns","Assassination"],upAhead:{categories:{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0,shopping:!0,civic:!0,weather_alerts:!0,airlines:!0},ranking:{movies:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},events:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},festivals:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},sports:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},shopping:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},airlines:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},alerts:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},weather_alerts:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0},civic:{positiveMultiplier:2,negativeMultiplier:2,filterThreshold:0}},locations:["Chennai","Muscat"],customLocation:"",signals:["upcoming","scheduled","starting","launches","opens","begins","commences","from today","this weekend","next week","releasing","premieres","debuts","kicks off","set to","slated for","expected on","effective from","valid till","last date","deadline","registrations open","bookings open","doors open","book now","tickets available","grab your","register","rsvp","sign up","enroll","apply before","limited seats","early bird","pre-order","advance booking","buy tickets","entry free","venue","stadium","auditorium","convention centre","exhibition hall","multiplex","arena","grounds","schedule","timetable","lineup","itinerary","match day","race day","show timings","showtimes","time slot","batch"],keywords:{movies:["release date","releasing","release","in theatres","in theaters","first day","advance booking","fdfs","premiere","preview","sneak peek","special screening","ott release","streaming from","now streaming","available on","direct to ott","digital premiere","tickets","showtimes","book now","bookmyshow","ticketnew","paytm movies","trailer launch","teaser release","motion poster"],events:["concert","live music","standup","comedy show","theatre","theater","drama","stage play","dance recital","sabha","kutcheri","kutchery","exhibition","expo","book fair","trade fair","flea market","art gallery","trade show","workshop","masterclass","bootcamp","seminar","webinar","hackathon","meetup","food festival","pop-up","tasting","brunch","food walk","heritage walk","night market","entry fee","passes available","gate open","limited slots","registration"],sports:[" vs "," v/s ","match","fixture","squad announced","playing xi","toss","innings","schedule","points table","qualifier","semi final","final","playoffs","stadium","live on","broadcast","streaming","start time","kick off","first ball"],festivals:["holiday","bank holiday","gazetted","declared holiday","government holiday","pongal","diwali","deepavali","navratri","dussehra","eid","ramadan","christmas","onam","vishu","ugadi","holi","ganesh","jayanti","puja","pooja","thai pusam","observed on","falls on","celebrated on","auspicious","muhurtham","tithi"],shopping:["sale","mega sale","flash sale","clearance","end of season","flat discount","upto off","cashback","coupon","promo code","shopping festival","exhibition sale","trade fair","grand opening","limited period","ends today","last day","offer valid","while stocks last","hurry"],airlines:["oman air","goindigo","salam air","ticket offer","flight deal","air india","vistara","akasa air","fare sale","booking open"],alerts:["power cut","power shutdown","load shedding","tangedco","tneb","scheduled maintenance","water cut","water supply","disruption","traffic advisory","road closure","diversion","metro shutdown","bus route change","train cancelled","flight delayed","boil water advisory","mosquito fogging","tree trimming","construction zone"],weather_alerts:["warning","alert","advisory","watch","red alert","orange alert","yellow alert","heavy rain","very heavy rain","cyclone","thunderstorm","heat wave","cold wave","fog","flooding","high tide","storm surge","imd","met department","weather bulletin"],civic:["vip movement","vip visit","road block","security arrangement","route change","bandh","hartal","strike","protest march","rasta roko","rail roko","corporation notice","tender","public hearing","ward meeting","grievance day"],movies_negative:["review","reviewed","reviews","opinion","editorial","column","interview","gossip","rumour","rumor","spotted","dating","controversy","trolled","slammed","reacts","reaction","leaked","wardrobe malfunction","breakup","case explained","box office collection","day 1 collection","total collection","worldwide gross","opening weekend","first week collection","crosses crore","nett collection","promo shoot","shooting begins","wrapped up","schedule wrap","title reveal","first look","motion poster","cast revealed","plot leaked","producer","director","music director","remuneration","salary","budget","rights sold","satellite rights","audio launch","pre-release event","success meet","press meet","renamed","casts","court","petition","arrested","stealing","sewage","overflow","warns against","talks","deal","financial results","board meeting","did for free","bank holiday alert","check full list","divorce","decommission","released crore","schedules board meeting","fog","mist"],events_negative:["cancelled","postponed","webinar","virtual only","legacy","tribute","obituary"],sports_negative:["rumour","speculation","opinion","prediction","predictions","bracketology","power rankings","fantasy value"],festivals_negative:[],shopping_negative:["expired","sold out"],airlines_negative:["accident","crash","emergency landing","technical snag"],alerts_negative:["rumour","hoax","fake news"],civic_negative:["clinic","surgery","transplant","arrested","held"],negative:["review","reviewed","reviews","opinion","editorial","column","op-ed","analysis","deep dive","explainer","explained","interview","memoir","podcast","recap","retrospective","lookback","throwback","gossip","rumour","rumor","spotted","dating","divorce","controversy","trolled","slammed","reacts","reaction","claps back","feud","leaked","wardrobe malfunction","breakup","arrested","murder","stabbed","robbery","scam","fraud","accused","chargesheet","sentenced","bail","fir filed","kidnap","suicide","death toll","fatal","quarterly results","earnings call","dividend","stock split","ipo allotment","listing gains","shareholding pattern","promoter stake","mutual fund nav","portfolio rebalancing","alleges","slams","hits out","war of words","defamation","no confidence","horse trading","exit poll","poll prediction","meme","was held","concluded","wrapped up","came to an end","successfully completed","inaugurated by","flagged off","took place","was celebrated","passes away","passed away","demise","rip","condolences","last rites","funeral","pays tribute","mourns","obituary","top 10","top 5","best of","worst of","reasons why","things you","ranked","all you need to know","everything we know","box office collection","day 1 collection","total collection","worldwide gross","opening weekend","first week collection","crosses crore","nett collection","shocking","you won't believe","jaw dropping","gone viral","breaks the internet","exclusive","board meeting","financial results","quarterly results","dividend","earnings call","stock split","bonus issue","record date","schedules board meeting","to consider","fund raising","petrol price","price hike","title reveal","first look","renamed","locks release date","casts","producer","court","petition","arrested","stealing","sewage","warns","talks","deal","did for free","bank holiday alert","check full list","decommission","fog","mist","opens office","launches","inaugurated","reveals"]}},sectionOverrides:{},newspaper:{enableImages:!0,headlinesCount:3,leadsCount:6,briefsCount:12},enableNewScoring:!0,enableProximityScoring:!1,maxTopicPercent:40,maxGeoPercent:30,followedTopics:[],readingHistory:[],topicSuggestions:{enabled:!0,basedOnReadingHistory:!0},enableCache:!0,crawlerMode:"auto",debugLogs:!1,lastUpdated:0};function Le(){let a=Ot.fontSize;typeof window<"u"&&(a=window.innerWidth>=1024?18:26);const i={...Ot,fontSize:a};try{const r=localStorage.getItem(oa.SETTINGS);if(r){const o=JSON.parse(r);return lp(i,o)}}catch(r){console.error("Error reading settings:",r)}return{...i}}function Bi(a){try{const i={...a,lastUpdated:Date.now()};return localStorage.setItem(oa.SETTINGS,JSON.stringify(i)),Bx(i),!0}catch(i){return console.error("Error saving settings:",i),!1}}async function Bx(a){try{(await fetch(`${ap}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok||console.warn("Failed to save settings to API")}catch(i){console.warn("API save error:",i)}}async function Hx(){try{const a=await fetch(`${ap}/settings`);return a.ok?await a.json():null}catch(a){return console.warn("API fetch error:",a),null}}function Pc(a){try{const i=localStorage.getItem(oa.LAST_REFRESH),r=i?JSON.parse(i):{};r[a]=new Date().toISOString(),localStorage.setItem(oa.LAST_REFRESH,JSON.stringify(r))}catch(i){console.error("Error setting last refresh:",i)}}function Ix(a=null){try{const i=localStorage.getItem(oa.LAST_REFRESH);if(!i)return"Never";const r=JSON.parse(i);let o=null;if(a&&r[a])o=new Date(r[a]);else{const g=Object.values(r).map(p=>new Date(p).getTime());g.length>0&&(o=new Date(Math.max(...g)))}if(!o)return"Never";const f=new Date-o,h=Math.floor(f/6e4),m=Math.floor(f/36e5);return h<1?"Just now":h<60?`${h} min${h>1?"s":""} ago`:m<24?`${m} hour${m>1?"s":""} ago`:o.toLocaleDateString()}catch{return"Unknown"}}function lp(a,i){const r={...a};for(const o in i){const u=i[o];u!=null&&(typeof u=="object"&&!Array.isArray(u)?r[o]=lp(a[o]||{},u):r[o]=u)}return r}function qx(a){const i=Le();i.followedTopics=i.followedTopics||[],i.followedTopics.push({...a,id:`topic_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,created:new Date().toISOString(),lastFetched:null}),Bi(i)}function Gx(a){const i=Le();i.followedTopics=i.followedTopics.filter(r=>r.id!==a),Bi(i)}function $x(a){const i=Le(),r=i.followedTopics.find(o=>o.id===a);r&&(r.lastFetched=new Date().toISOString(),Bi(i))}function Yx(a){if(!(!a||a.length===0))try{const i=localStorage.getItem(oa.ARTICLE_VIEWS),r=i?JSON.parse(i):{};a.forEach(o=>{r[o]=(r[o]||0)+1}),localStorage.setItem(oa.ARTICLE_VIEWS,JSON.stringify(r))}catch(i){console.error("[Storage] Error incrementing views",i)}}function ip(a){try{const i=localStorage.getItem(oa.ARTICLE_VIEWS);return(i?JSON.parse(i):{})[a]||0}catch{return 0}}function Fx(a){return Le().readingHistory?.some(r=>r.id===a)||!1}function sp(a){if(!a||!a.title)return;const i=Le(),r=i.readingHistory||[];r.some(o=>o.id===a.id)||(r.unshift({id:a.id,title:a.title,description:a.description||"",timestamp:Date.now()}),r.length>50&&(r.length=50),i.readingHistory=r,Bi(i))}function Vx(){const i=Le().readingHistory||[];if(i.length===0)return[];const r=i.map(m=>`${m.title} ${m.description}`).join(" ").toLowerCase(),o=["the","and","in","of","to","a","is","for","on","with","at","from","by","an","be","as","it","has","that","are","was","will","says","said","after","over","new","more","about","can","top","best","india","news","update","latest","today","live"],u=r.match(/\b[a-z]{4,}\b/g)||[],f={};return u.forEach(m=>{o.includes(m)||(f[m]=(f[m]||0)+1)}),Object.entries(f).sort((m,g)=>g[1]-m[1]).slice(0,5).map(([m,g])=>({word:m.charAt(0).toUpperCase()+m.slice(1),count:g}))}const Ai={nifty50:"^NSEI",sensex:"^BSESN",niftyBank:"^NSEBANK",niftyIT:"^CNXIT",niftyMidcap:"NIFTYMIDCAP150.NS",niftyPharma:"^CNXPHARMA",niftyAuto:"^CNXAUTO"},Kx="https://query1.finance.yahoo.com/v8/finance/chart/",Xx=[a=>`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}`,a=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`];async function Cl(a){const i=`${Kx}${encodeURIComponent(a)}?interval=1d&range=1d`,r=async(o,u={})=>{const f=new AbortController,h=setTimeout(()=>f.abort(),1e4);try{const m=await fetch(o,{...u,signal:f.signal});return clearTimeout(h),m}catch(m){throw clearTimeout(h),m}};for(const o of Xx)try{const u=o(i),f=await r(u);if(f.ok)return await f.json()}catch(u){console.warn(`[MarketService] Proxy failed: ${u.message}`)}throw new Error(`Failed to fetch market data for ${a}`)}async function Qx(a,i,r){if(!r)return null;const o=`https://www.alphavantage.co/query?function=${a}&symbol=${i}&apikey=${r}`;try{const f=await(await fetch(o)).json();if(f["Global Quote"])return f["Global Quote"];if(f["Top Gainers, Losers, and Most Active"])return f}catch(u){console.warn("Alpha Vantage fetch failed",u)}return null}function Tl(a){const i=a.chart?.result?.[0]||a.finance?.result?.[0];if(!i||!i.meta)return null;const r=i.meta,o=r.regularMarketPrice,u=r.chartPreviousClose||r.previousClose,f=o-u,h=u?f/u*100:0,m=r.regularMarketTime?r.regularMarketTime*1e3:Date.now();return{price:o,change:f,changePercent:h.toFixed(2),timestamp:m}}async function Wx(){console.log("[MarketService] Fetching Indian indices...");const a=Object.entries(Ai).map(async([o,u])=>{try{const f=await Cl(u),h=Tl(f);return h?(console.log(`[MarketService]  ${o}: ${h.price}`),{name:o==="nifty50"?"NIFTY 50":o==="sensex"?"SENSEX":o==="niftyBank"?"BANK NIFTY":o==="niftyIT"?"NIFTY IT":o==="niftyPharma"?"NIFTY PHARMA":o==="niftyAuto"?"NIFTY AUTO":"MIDCAP 150",symbol:u,value:h.price.toLocaleString("en-IN"),change:h.change.toFixed(2),changePercent:h.changePercent,direction:h.change>=0?"up":"down",currency:"",timestamp:h.timestamp}):null}catch(f){return console.warn(`[MarketService]  Failed to fetch ${o}:`,f.message),null}}),r=(await Promise.all(a)).filter(o=>o!==null);return r.length===0?(console.warn("[MarketService] Yahoo Indices failed, trying backup..."),await Zx()):r}async function Zx(){const a={"NIFTY 50":"INDEXNSE:NIFTY_50",SENSEX:"INDEXBOM:SENSEX"};try{const i=Object.entries(a).map(async([o,u])=>{const f=`https://www.google.com/finance/quote/${u}`,h=`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(f)}`,p=(await(await fetch(h)).text()).match(/<div[^>]*class="[^"]*YMlKec[^"]*"[^>]*>([^<]+)<\/div>/);if(p&&p[1]){const x=p[1].replace(/,/g,""),v=parseFloat(x);return{name:o,symbol:u,value:v.toLocaleString("en-IN"),change:"0.00",changePercent:"0.00",direction:"neutral",currency:"",timestamp:Date.now(),source:"Google (Backup)"}}return null});return(await Promise.all(i)).filter(o=>o!==null)}catch(i){return console.error("Backup indices fetch failed",i),[]}}const Jx="https://api.mfapi.in/mf/",Px=[{code:"119551",name:"SBI Bluechip Fund"},{code:"120503",name:"HDFC Mid-Cap Opportunities"},{code:"118834",name:"ICICI Prudential Value Discovery"},{code:"122639",name:"Axis Long Term Equity Fund"},{code:"125354",name:"Mirae Asset Large Cap Fund"},{code:"118989",name:"Kotak Emerging Equity Fund"}];async function e1(){return console.log("[MarketService] Fetching Mutual Fund NAVs..."),(await Promise.allSettled(Px.map(async r=>{const u=await(await fetch(`${Jx}${r.code}`)).json();if(!u.data||u.data.length===0)throw new Error("No NAV data");const f=parseFloat(u.data[0].nav),h=u.data.length>1?parseFloat(u.data[1].nav):f,m=f-h,g=(m/h*100).toFixed(2);return{code:r.code,name:u.meta?.scheme_name||r.name,category:u.meta?.scheme_category||"Equity",fundHouse:u.meta?.fund_house||"Unknown",nav:f.toFixed(2),navDate:u.data[0].date,change:m.toFixed(2),changePercent:g,direction:m>=0?"up":"down"}}))).filter(r=>r.status==="fulfilled").map(r=>r.value)}async function t1(){console.log("[MarketService] Fetching IPO data from IPOWatch...");const i=`https://api.allorigins.win/get?url=${encodeURIComponent("https://ipowatch.in/upcoming-ipo-calendar-ipo-list/")}`;try{const r=await fetch(i);if(!r.ok)throw new Error("Proxy failed");const u=(await r.json()).contents,m=new DOMParser().parseFromString(u,"text/html").querySelectorAll("table");let g=null;for(const E of m){const T=E.textContent.toLowerCase();if(T.includes("ipo")&&T.includes("price")||T.includes("ipo name")){g=E;break}}if(!g)throw new Error("No IPO table found");const p=Array.from(g.querySelectorAll("tr")),x=[];for(let E=1;E<p.length;E++){const T=p[E].querySelectorAll("td");if(T.length<3)continue;const k=T[0]?.textContent?.trim()||"Unknown";let z="Upcoming",N="TBA";const U=T[1]?.textContent?.trim(),W=T[2]?.textContent?.trim();U&&(z=U),W&&(N=W);let Y="upcoming";const te=z.toLowerCase();te.includes("live")||te.includes("open")?Y="live":te.includes("close")?Y="recent":te.includes("upcoming")&&(Y="upcoming");const P=k.includes("SME")||g.textContent.includes("SME");x.push({name:k,openDate:N,closeDate:"",status:Y,isSME:P,issueSize:"-"})}const v=x.filter(E=>E.status==="upcoming").slice(0,5),w=x.filter(E=>E.status==="live"),j=x.filter(E=>E.status==="recent").slice(0,5);return{upcoming:v.length?v:x.slice(0,3),live:w,recent:j.length?j:x.slice(3,6),fetchedAt:Date.now()}}catch(r){return console.error("[MarketService] IPO Fetch Failed:",r),{upcoming:[],live:[],recent:[],fetchedAt:Date.now(),error:r.message}}}const n1="https://query1.finance.yahoo.com/v1/finance/screener/predefined/saved/screener/new?scrIds=day_gainers&count=5",a1="https://query1.finance.yahoo.com/v1/finance/screener/predefined/saved/screener/new?scrIds=day_losers&count=5";async function Lm(a){const i=`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}`;try{const r=await fetch(i);return r.ok?((await r.json()).finance?.result?.[0]?.quotes||[]).map(f=>({symbol:f.symbol.replace(".NS","").replace(".BO",""),price:f.regularMarketPrice?.toFixed(2)||"0.00",change:f.regularMarketChange?.toFixed(2)||"0.00",changePercent:f.regularMarketChangePercent?.toFixed(2)||"0.00",direction:(f.regularMarketChange||0)>=0?"up":"down",volume:f.regularMarketVolume})).filter(f=>f.symbol):[]}catch(r){return console.warn("[MarketService] Screener fetch failed:",r),[]}}const l1=["RELIANCE.NS","TCS.NS","HDFCBANK.NS","INFY.NS","ICICIBANK.NS","HINDUNILVR.NS","SBIN.NS","BHARTIARTL.NS","ITC.NS","KOTAKBANK.NS","LT.NS","AXISBANK.NS","ASIANPAINT.NS","MARUTI.NS","BAJFINANCE.NS"];async function i1(){console.log("[MarketService] Using fallback for movers...");const a=l1.slice(0,10).map(async u=>{try{const f=await Cl(u),h=Tl(f);return h?{symbol:u.replace(".NS",""),price:h.price.toFixed(2),change:h.change.toFixed(2),changePercent:parseFloat(h.changePercent),direction:h.change>=0?"up":"down"}:null}catch{return null}}),o=(await Promise.all(a)).filter(u=>u!==null).sort((u,f)=>f.changePercent-u.changePercent);return{gainers:o.filter(u=>u.changePercent>0).slice(0,5),losers:o.filter(u=>u.changePercent<0).slice(-5).reverse()}}async function s1(){console.log("[MarketService] Fetching top movers...");const i=Le().alphaVantageKey;if(i)try{console.log("[MarketService] Trying Alpha Vantage for Movers...");const r=await Qx("TOP_GAINERS_LOSERS","",i);if(r&&r.top_gainers&&r.top_losers){const o=u=>u.slice(0,5).map(f=>({symbol:f.ticker,price:parseFloat(f.price).toFixed(2),change:parseFloat(f.change_amount).toFixed(2),changePercent:parseFloat(f.change_percentage.replace("%","")).toFixed(2),direction:parseFloat(f.change_amount)>=0?"up":"down"}));return{gainers:o(r.top_gainers),losers:o(r.top_losers)}}}catch(r){console.warn("[MarketService] Alpha Vantage failed:",r)}try{const[r,o]=await Promise.all([Lm(n1),Lm(a1)]);if(r.length>0||o.length>0)return console.log("[MarketService]  Used Screener API"),{gainers:r.slice(0,5),losers:o.slice(0,5)}}catch{console.warn("[MarketService] Screener API failed, trying fallback...")}return await i1()}async function r1(){console.log("[MarketService] Fetching sectoral indices...");const a=[{key:"niftyBank",name:"Bank Nifty",symbol:Ai.niftyBank},{key:"niftyIT",name:"Nifty IT",symbol:Ai.niftyIT},{key:"niftyPharma",name:"Nifty Pharma",symbol:Ai.niftyPharma},{key:"niftyAuto",name:"Nifty Auto",symbol:Ai.niftyAuto}];return(await Promise.allSettled(a.map(async r=>{const o=await Cl(r.symbol),u=Tl(o);if(!u)throw new Error("No data");return{name:r.name,value:u.price.toFixed(2),change:u.change.toFixed(2),changePercent:u.changePercent,timestamp:u.timestamp}}))).filter(r=>r.status==="fulfilled").map(r=>r.value)}async function o1(){console.log("[MarketService] Fetching commodities...");try{const a=await Cl("INR=X"),i=Tl(a),r=i?i.price:84,o=[{name:"Gold",symbol:"GC=F",type:"gold"},{name:"Silver",symbol:"SI=F",type:"silver"},{name:"Crude Oil",symbol:"CL=F",type:"crude"}];return(await Promise.allSettled(o.map(async f=>{let h=null;try{const x=await Cl(f.symbol);h=Tl(x)}catch{console.warn(`[MarketService] Failed to fetch ${f.name} (${f.symbol})`)}if(!h)throw new Error("No data");let m,g,p;return f.type==="gold"?(m=h.price*r/31.1035*10,g=h.change*r/31.1035*10,p="/10g"):f.type==="silver"?(m=h.price*r/31.1035*1e3,g=h.change*r/31.1035*1e3,p="/kg"):(m=h.price*r,g=h.change*r,p="/bbl"),{name:f.name,value:m.toFixed(2),change:g.toFixed(2),changePercent:h.changePercent,unit:p,direction:g>=0?"up":"down",timestamp:h.timestamp}}))).filter(f=>f.status==="fulfilled").map(f=>f.value)}catch{return[]}}async function c1(){console.log("[MarketService] Fetching currency rates...");const a=[{name:"USD/INR",symbol:"INR=X"},{name:"OMR/INR",symbol:"OMRINR=X"}],i=a.map(async u=>{try{const f=await Cl(u.symbol),h=Tl(f);if(!h)throw new Error("No data");return{name:u.name,value:h.price.toFixed(2),change:h.change.toFixed(2),changePercent:h.changePercent,timestamp:h.timestamp,source:"yahoo"}}catch{return null}}),o=(await Promise.all(i)).filter(u=>u!==null);if(o.length===a.length)return o;console.log("[MarketService]  Yahoo Currency failed, using fallback...");try{const f=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(!f||!f.rates)throw new Error("Fallback API failed");const h=f.rates.INR,m=f.rates.OMR,g=[];if(g.push({name:"USD/INR",value:h.toFixed(2),change:"0.00",changePercent:"0.00",timestamp:Date.now(),source:"fallback"}),m){const p=h/m;g.push({name:"OMR/INR",value:p.toFixed(2),change:"0.00",changePercent:"0.00",timestamp:Date.now(),source:"fallback"})}return g}catch(u){return console.error("[MarketService]  All currency sources failed:",u),o}}async function u1(){return{fii:{buy:12500.5,sell:11800.3,net:700.2},dii:{buy:8900.7,sell:9200.4,net:-299.7},date:new Date().toISOString().split("T")[0]}}const Um="indian_market_data",d1=14400*1e3;async function f1(){try{const a=await fetch("/data/market_snapshot.json");if(a.ok)return await a.json()}catch(a){console.warn("[MarketService] Failed to load static snapshot",a)}return null}async function h1(){console.log("[MarketService]  Fetching all market data...");const[a,i,r,o,u,f,h,m]=await Promise.allSettled([Wx(),e1(),t1(),s1(),r1(),o1(),c1(),u1()]),g={indices:a.status==="fulfilled"?a.value:[],mutualFunds:i.status==="fulfilled"?i.value:[],ipo:r.status==="fulfilled"?r.value:{upcoming:[],live:[],recent:[]},movers:o.status==="fulfilled"?o.value:{gainers:[],losers:[]},sectorals:u.status==="fulfilled"?u.value:[],commodities:f.status==="fulfilled"?f.value:[],currencies:h.status==="fulfilled"?h.value:[],fiidii:m.status==="fulfilled"?m.value:{fii:{},dii:{},date:""},fetchedAt:Date.now(),errors:{indices:a.status==="rejected"?a.reason?.message:null}};if(g.indices.length>0){try{localStorage.setItem(Um,JSON.stringify(g)),console.log("[MarketService]  Fresh data cached")}catch(x){console.warn("[MarketService] Cache write failed",x)}return g}console.warn("[MarketService] Critical data (Indices) missing. Checking cache...");try{const x=localStorage.getItem(Um);if(x){const v=JSON.parse(x),w=Date.now()-(v.fetchedAt||0);if(w<d1)return console.log(`[MarketService]  Returning cached data (${(w/6e4).toFixed(0)} mins old)`),{...v,isStale:!0,staleReason:"Network/Proxy Failure - Showing cached data"};console.warn("[MarketService] Cache expired")}}catch(x){console.error("[MarketService] Cache read failed",x)}console.warn("[MarketService] Cache unavailable/expired. Attempting static snapshot...");const p=await f1();return p?(console.log("[MarketService]  Loaded snapshot data"),{...p,isSnapshot:!0,fetchedAt:p.generated_at?new Date(p.generated_at).getTime():Date.now()}):g}const rp=_.createContext(null),eu="market_cache",m1=900*1e3;function g1({children:a}){const[i,r]=_.useState(null),[o,u]=_.useState(!0),[f,h]=_.useState(null),[m,g]=_.useState(null),p=_.useCallback(async(v=!1)=>{if(!v)try{const w=localStorage.getItem(eu);if(w){const j=JSON.parse(w);if(Date.now()-j.fetchedAt<m1){console.log("[MarketContext] Using cached data"),r(j),u(!1),g(j.fetchedAt);return}}}catch{console.warn("[MarketContext] Cache read failed")}u(!0),h(null);try{const w=await h1();r(w),g(Date.now()),localStorage.setItem(eu,JSON.stringify(w)),console.log("[MarketContext]  Market data loaded")}catch(w){console.error("[MarketContext]  Failed to load market data:",w);try{const j=localStorage.getItem(eu);if(j){const E=JSON.parse(j),T=Date.now()-E.fetchedAt;console.log(`[MarketContext] Using stale cache due to fetch error (Age: ${(T/6e4).toFixed(0)}m)`),r(E),g(E.fetchedAt),T>14400*1e3?h("Network error. Data is expired (>4h)."):h("Network error. Showing cached data.")}else{try{const E=await fetch("/data/market_snapshot.json");if(E.ok){const T=await E.json();if(T&&T.indices&&T.indices.length>0){console.log("[MarketContext] Using static snapshot fallback"),r(T),g(new Date(T.generated_at).getTime()),h("Using offline snapshot (Live data failed)");return}}}catch(E){console.warn("Static fallback failed",E)}h(w.message)}}catch{h(w.message)}}finally{u(!1)}},[]);_.useEffect(()=>{p()},[p]);const x=_.useCallback(()=>p(!0),[p]);return s.jsx(rp.Provider,{value:{marketData:i,loading:o,error:f,lastFetch:m,refreshMarket:x},children:a})}function op(){const a=_.useContext(rp);if(!a)throw new Error("useMarket must be used within MarketProvider");return a}const cp=({loadingPhase:a})=>{const{marketData:i,loading:r,lastFetch:o}=op(),u=_.useRef(null),f=_.useRef(!1),h=_.useMemo(()=>{if(!i)return[];const{indices:v=[],commodities:w=[]}=i,j=[...v,...w];return["NIFTY 50","NSE 50","50","SENSEX","BSE SENSEX","Gold","Silver"].map(T=>j.find(k=>k.name===T)).filter(Boolean)},[i]);_.useEffect(()=>{let v,w=0;const j=40;let E=0;const T=z=>{w||(w=z);const N=z-w;if(w=z,u.current&&!f.current){const U=j*N/1e3;if(E+=U,E>=1){const W=Math.floor(E);E-=W;const{scrollLeft:Y,scrollWidth:te}=u.current;Y>=te/2?u.current.scrollLeft=0:u.current.scrollLeft+=W}}else w=z;v=requestAnimationFrame(T)},k=setTimeout(()=>{v=requestAnimationFrame(T)},1e3);return()=>{cancelAnimationFrame(v),clearTimeout(k)}},[h]);const m=v=>{if(!v.timestamp)return!0;const j=Date.now()-v.timestamp,T=["Gold","Silver","Crude Oil"].includes(v.name)?3600*1e3:900*1e3;return j>T},g=v=>v?new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",p=v=>v==="NSE 50"||v==="50"?"NIFTY 50":v==="BSE SENSEX"?"SENSEX":v,x=()=>{if(!a)return{};let v="transparent";return a===1?v="rgba(144, 238, 144, 0.2)":a===2?v="rgba(60, 179, 113, 0.2)":a===3&&(v="rgba(34, 139, 34, 0.2)"),{background:`linear-gradient(to bottom, transparent, ${v})`,transition:"background 0.5s ease"}};return r&&h.length===0||h.length===0?null:s.jsxs("div",{className:"market-ticker-container",style:x(),children:[s.jsx("div",{className:"ticker-label",children:""}),s.jsx("div",{className:"ticker-track-wrapper",ref:u,onMouseEnter:()=>f.current=!0,onMouseLeave:()=>f.current=!1,onTouchStart:()=>f.current=!0,onTouchEnd:()=>f.current=!1,children:s.jsx("div",{className:"ticker-track",children:[...h,...h].map((v,w)=>{const j=m(v);return s.jsxs("div",{className:`ticker-item ${j?"stale-data":""}`,children:[s.jsx("span",{className:"ticker-name",children:p(v.name)}),s.jsxs("span",{className:"ticker-price",children:[v.name==="Gold"||v.name==="Silver"?v.value:typeof v.value=="number"?v.value.toFixed(2):v.value,v.unit?s.jsx("span",{style:{fontSize:"0.7em",marginLeft:"2px"},children:v.unit}):""]}),s.jsxs("span",{className:`ticker-change ${parseFloat(v.change)>=0?"positive":"negative"}`,children:[parseFloat(v.change)>=0?"":""," ",Math.abs(parseFloat(v.changePercent)).toFixed(2),"%"]})]},`${v.name}-${w}`)})})}),o&&s.jsxs("div",{className:"ticker-updated",children:[s.jsx("span",{style:{marginRight:"4px"},children:""})," ",g(o)]})]})},up=_.createContext();function p1({children:a}){const[i,r]=_.useState(()=>Le()),[o,u]=_.useState(0),f=_.useCallback(m=>{Bi(m),r(m),u(g=>g+1)},[]),h=_.useCallback(()=>{const m=Le();r(m),u(g=>g+1)},[]);return _.useEffect(()=>{(async()=>{try{const g=await Hx();if(g){const p=Le(),x=g.lastUpdated||0,v=p.lastUpdated||0;if(x>v)console.log("[Settings] Syncing from server (Remote is newer)..."),localStorage.setItem("dailyEventAI_settings",JSON.stringify(g)),h();else if(!p.upAhead?.keywords?.shopping){console.log("[Settings] Patching missing keywords from remote...");const w={...g,...p,upAhead:{...g.upAhead,...p.upAhead}};w.upAhead.keywords||(w.upAhead.keywords=g.upAhead.keywords),localStorage.setItem("dailyEventAI_settings",JSON.stringify(w)),h()}}}catch(g){console.warn("[Settings] Failed to sync with server",g)}})()},[h]),_.useEffect(()=>{const m=g=>{g.key==="dailyEventAI_settings"&&(console.log("[SettingsContext] Storage changed in another tab, reloading"),h())};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[h]),_.useEffect(()=>{i.fontSize&&(document.documentElement.style.fontSize=i.fontSize+"px")},[i.fontSize]),_.useEffect(()=>{document.documentElement.setAttribute("data-theme",i.theme||"dark")},[i.theme]),s.jsx(up.Provider,{value:{settings:i,updateSettings:f,reloadSettings:h,settingsVersion:o},children:a})}function pt(){const a=_.useContext(up);if(!a)throw new Error("useSettings must be used within SettingsProvider");return a}const y1=()=>{const{settings:a,updateSettings:i}=pt(),r=a.theme==="light",o=()=>{i({...a,theme:r?"dark":"light"})};return s.jsx("button",{onClick:o,className:"header__action-btn",title:r?"Switch to Dark Mode":"Switch to Light Mode",style:{background:"transparent",border:"none",cursor:"pointer",padding:"0 8px",color:"var(--text-primary)"},children:r?"":""})};function Ra({title:a,icon:i,showBack:r=!1,backTo:o="/",actions:u,pills:f,activePill:h,onPillChange:m,compact:g=!1,loadingPhase:p}){const[x,v]=_.useState(window.innerWidth>=1024);_.useEffect(()=>{const j=()=>v(window.innerWidth>=1024);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const w=j=>j.includes("Morning")?"":j.includes("Midday")?"":j.includes("Evening")?"":j;return s.jsxs("header",{className:`header ${g?"header--compact":""}`,children:[r?s.jsxs(sa,{to:o,className:"header__back",children:[s.jsx("span",{children:""}),s.jsx("span",{children:a})]}):s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x&&s.jsx(y1,{}),s.jsx("h1",{className:"header__title"})]}),!r&&s.jsx(cp,{loadingPhase:p}),f&&s.jsx("div",{className:"header__pills",children:f.map(j=>s.jsx("button",{className:`time-pill time-pill--matte ${h===j?"time-pill--active":""}`,onClick:()=>m&&m(j),title:j,children:w(j)},j))}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:u})]})}const Al={bbc:{name:"BBC",credibility:2,staffSize:5500,bureaus:50,avgArticleLength:800,updateFrequency:"continuous",weight:1.8,categories:["world","business","technology","entertainment"]},reuters:{name:"Reuters",credibility:1.95,staffSize:2500,bureaus:200,avgArticleLength:600,updateFrequency:"continuous",weight:1.8,categories:["world","business"]},apnews:{name:"AP News",credibility:1.9,staffSize:2500,bureaus:250,avgArticleLength:500,updateFrequency:"continuous",weight:1.75,categories:["world","business","sports"]},aljazeera:{name:"Al Jazeera",credibility:1.7,staffSize:2e3,bureaus:60,avgArticleLength:900,updateFrequency:"hourly",weight:1.6,categories:["world","business"]},cnn:{name:"CNN",credibility:1.6,staffSize:3e3,bureaus:40,avgArticleLength:400,updateFrequency:"continuous",weight:1.5,categories:["world","business","technology"]},ndtv:{name:"NDTV",credibility:1.75,staffSize:1200,bureaus:15,avgArticleLength:600,updateFrequency:"continuous",weight:1.6,categories:["india","business","technology"]},thehindu:{name:"The Hindu",credibility:1.8,staffSize:800,bureaus:12,avgArticleLength:800,updateFrequency:"hourly",weight:1.65,categories:["india","world","business","technology"]},toi:{name:"Times of India",credibility:1.6,staffSize:1500,bureaus:25,avgArticleLength:500,updateFrequency:"continuous",weight:1.5,categories:["india","entertainment","sports"]},financialexpress:{name:"Financial Express",credibility:1.65,staffSize:300,bureaus:5,avgArticleLength:700,updateFrequency:"hourly",weight:1.55,categories:["business","technology"]},indianexpress:{name:"Indian Express",credibility:1.7,staffSize:400,bureaus:8,avgArticleLength:750,updateFrequency:"hourly",weight:1.6,categories:["india","world","business"]},techcrunch:{name:"TechCrunch",credibility:1.7,staffSize:200,bureaus:3,avgArticleLength:600,updateFrequency:"hourly",weight:1.6,categories:["technology"],specialization:"startups, VC"},theverge:{name:"The Verge",credibility:1.65,staffSize:100,bureaus:1,avgArticleLength:900,updateFrequency:"hourly",weight:1.55,categories:["technology"],specialization:"gadgets, consumer tech"},espn:{name:"ESPN",credibility:1.7,staffSize:500,bureaus:10,avgArticleLength:500,updateFrequency:"continuous",weight:1.6,categories:["sports"]},bollywoodhungama:{name:"Bollywood Hungama",credibility:1.4,staffSize:100,bureaus:2,avgArticleLength:400,updateFrequency:"hourly",weight:1.3,categories:["entertainment"],specialization:"Indian cinema"},googlenews:{name:"Google News",credibility:1.5,staffSize:0,bureaus:0,avgArticleLength:0,updateFrequency:"continuous",weight:1,categories:["world","india","business","technology","entertainment","sports"]},default:{name:"Default Source",credibility:1,staffSize:50,bureaus:1,avgArticleLength:400,updateFrequency:"daily",weight:.9,categories:[]}},v1=a=>{const i=Object.keys(Al).find(g=>a.toLowerCase().replace(/\s+/g,"").includes(g))||"default",r=Al[i],o=r.credibility/2*.4,f=Math.min(r.staffSize/5500,1)*.3,m=Math.min(r.bureaus/250,1)*.3;return o+f+m},x1=(a,i)=>{const r=Object.keys(Al).find(u=>a.toLowerCase().replace(/\s+/g,"").includes(u))||"default",o=Al[r];return!o.categories||o.categories.includes(i)?o.weight:o.weight*.7},Bm="https://news.google.com/rss",b1="https://news.google.com/rss/search",Hm={WORLD:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGx1YlY4U0JXVnVMVlZUR2dKVlV5Z0FQAQ",BUSINESS:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGx6TVdZU0JXVnVMVlZUR2dKVlV5Z0FQAQ",TECHNOLOGY:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRGRqTVhZU0JXVnVMVlZUR2dKVlV5Z0FQAQ",ENTERTAINMENT:"CAAqJggKIiBDQkFTRWvfSkwyMHZNREpxYW5RU0JXVnVMVlZUR2dKVlV5Z0FQAQ",SPORTS:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRFp1ZEdvU0JXVnVMVlZUR2dKVlV5Z0FQAQ",SCIENCE:"CAAqJggKIiBDQkFTRWvfSkwyMHZNRFp0Y1RjU0JXVnVMVlZUR2dKVlV5Z0FQAQ",HEALTH:"CAAqJggKIiBDQkFTRWvfSkwyMHZNR3QwTlRFU0JXVnVMVlZUR2dKVlV5Z0FQAQ"};function la({category:a,query:i,country:r="IN",lang:o="en"}){const u=`${o}-${r}`,f=r,h=`${r}:${o}`,m=`hl=${u}&gl=${f}&ceid=${h}`;if(i)return`${b1}?q=${encodeURIComponent(i)}&${m}`;if(a){const g=a.toUpperCase();if(Hm[g])return`${Bm}/topics/${Hm[g]}?${m}`}return`${Bm}?${m}`}const _l={WORLD_IN:la({category:"world",country:"IN",lang:"en"}),BUSINESS_IN:la({category:"business",country:"IN",lang:"en"}),BUSINESS_IN_SEARCH:la({query:"Business Economy India",country:"IN",lang:"en"}),TECH_IN:la({category:"technology",country:"IN",lang:"en"}),TECH_IN_SEARCH:la({query:"Technology Startups India",country:"IN",lang:"en"}),TAMIL_NADU:la({query:"Tamil Nadu",country:"IN",lang:"ta"}),CHENNAI:la({query:"Chennai",country:"IN",lang:"en"}),WORLD_US:la({category:"world",country:"US",lang:"en"})},Sr={tamil:["https://www.thenewsminute.com/tamil-nadu/entertainment/feed","https://www.behindwoods.com/tamil-movies/rss-feeds/news.xml","https://timesofindia.indiatimes.com/rssfeeds/1081479906.cms","https://www.filmibeat.com/rss/filmibeat-tamil-fb.xml"],hindi:["https://www.bollywoodhungama.com/rss/news.xml","https://www.filmfare.com/feeds/bollywood.xml","https://timesofindia.indiatimes.com/rssfeeds/-2128936835.cms"],hollywood:["https://www.hollywoodreporter.com/feed/","https://variety.com/feed/","https://deadline.com/feed/"],ott:["https://www.whats-on-netflix.com/feed/","https://www.cordcuttersnews.com/feed/","https://www.streamingmedia.com/RSS/Articles.aspx"]};function S1(a){const i=["horoscope","rasipalan","zodiac","astrology","prediction","numerology"];return a.filter(r=>{const o=(r.title+" "+r.description).toLowerCase();return!i.some(u=>o.includes(u))})}async function w1(){console.log("[EntertainmentService] Fetching Tamil/Kollywood news...");const a=[];for(const r of Sr.tamil)try{const o=await ca(r,"entertainment");a.push(...o.map(u=>({...u,category:"Tamil Cinema",region:"tamil"})))}catch(o){console.warn(`[EntertainmentService] Failed to fetch ${r}:`,o.message)}return S1(a).sort((r,o)=>(o.publishedAt||0)-(r.publishedAt||0)).slice(0,20)}async function j1(){console.log("[EntertainmentService] Fetching Hindi/Bollywood news...");const a=[];for(const i of Sr.hindi)try{const r=await ca(i,"entertainment");a.push(...r.map(o=>({...o,category:"Hindi Cinema",region:"hindi"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function _1(){console.log("[EntertainmentService] Fetching Hollywood news...");const a=[];for(const i of Sr.hollywood)try{const r=await ca(i,"entertainment");a.push(...r.map(o=>({...o,category:"Hollywood",region:"hollywood"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function E1(){console.log("[EntertainmentService] Fetching OTT/Streaming news...");const a=[];for(const i of Sr.ott)try{const r=await ca(i,"entertainment");a.push(...r.map(o=>({...o,category:"OTT & Streaming",region:"ott"})))}catch(r){console.warn(`[EntertainmentService] Failed to fetch ${i}:`,r.message)}return a.sort((i,r)=>(r.publishedAt||0)-(i.publishedAt||0)).slice(0,20)}async function N1(a={}){console.log("[EntertainmentService]  Fetching all entertainment news...");const{tamilPercent:i=40,hindiPercent:r=35,hollywoodPercent:o=15,ottPercent:u=10}=a,[f,h,m,g]=await Promise.allSettled([w1(),j1(),_1(),E1()]),p=f.status==="fulfilled"?f.value:[],x=h.status==="fulfilled"?h.value:[],v=m.status==="fulfilled"?m.value:[],w=g.status==="fulfilled"?g.value:[],j=40,E={tamil:Math.round(j*(i/100)),hindi:Math.round(j*(r/100)),hollywood:Math.round(j*(o/100)),ott:Math.round(j*(u/100))},k=[...p.slice(0,E.tamil),...x.slice(0,E.hindi),...v.slice(0,E.hollywood),...w.slice(0,E.ott)].sort(()=>Math.random()-.5);return console.log("[EntertainmentService]  Entertainment news fetched:",{tamil:E.tamil,hindi:E.hindi,hollywood:E.hollywood,ott:E.ott,total:k.length}),k}const Im={abandon:-2,accident:-2,alert:-1,ambitious:2,asset:2,active:1,advance:2,agree:1,amazing:4,approve:2,award:3,awesome:4,bad:-3,bailout:-2,beautiful:3,benefit:2,best:3,boost:1,breakthrough:3,bright:1,bull:2,bullish:2,buy:1,calm:2,cancel:-1,care:2,celebrate:3,challenge:-1,champion:2,cheap:-1,clean:2,collapse:-2,climb:1,comfort:2,commit:1,confidence:2,conflict:-2,congrats:2,congratulate:2,cool:1,correct:1,crash:-2,crisis:-3,criticize:-2,danger:-2,dead:-3,debt:-2,decline:-1,defeat:-2,deficit:-2,denied:-2,depression:-2,destroy:-3,devastate:-3,difficult:-1,disaster:-2,disease:-1,dispute:-2,doubt:-1,down:-1,drop:-1,dump:-1,earn:1,earnings:1,ease:2,easy:1,effective:2,efficient:2,emergency:-2,encourage:2,enjoy:2,error:-2,excellent:3,cite:2,expand:1,fail:-2,failure:-2,fake:-3,fall:-1,fantastic:4,fear:-2,fight:-1,fine:2,fraud:-4,free:1,fresh:1,fun:4,gain:2,good:3,great:3,growth:2,happy:3,hard:-1,harm:-2,hate:-3,healthy:2,help:2,hero:2,high:1,hope:2,hurt:-2,ignore:-1,ill:-2,improve:2,increase:1,infect:-2,inflation:-2,injury:-2,innovate:1,innovative:2,inspire:2,intelligent:2,invest:1,joke:2,joy:3,jump:1,kill:-3,lack:-2,lag:-1,lead:1,leader:1,legal:1,lie:-2,like:2,loss:-3,love:3,low:-1,luck:3,lucky:3,market:1,merger:2,miss:-1,mistake:-2,murder:-3,negative:-2,nice:3,outperform:2,outstanding:5,panic:-3,perfect:3,plunge:-2,poor:-2,positive:2,praise:3,problem:-2,profit:2,progress:2,promise:1,proud:2,protect:1,rally:2,recession:-2,record:2,recover:1,reject:-1,reliable:2,relief:1,rescue:2,resolve:2,restore:1,reward:2,rich:2,risk:-2,safe:1,save:2,scandal:-3,scare:-2,secure:2,sell:-1,shares:1,shortage:-2,sick:-2,significant:1,smart:1,smile:2,solid:2,solve:1,spark:1,stable:2,stock:1,stop:-1,strength:2,strong:2,success:2,suffer:-2,surge:1,surprise:2,sweet:2,tech:1,terrible:-3,terrified:-3,threat:-2,top:2,tough:-1,tragedy:-2,trouble:-2,trust:1,ugly:-3,uncertain:-1,unemployment:-2,unfair:-2,up:1,upset:-2,urgent:-1,useful:2,value:1,victory:3,violation:-2,violence:-3,volatile:-1,vulnerable:-2,weak:-2,wealth:3,win:4,winner:4,wonderful:4,worry:-3,worst:-3,wow:4,wrong:-2,yes:1},C1=a=>a.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(i=>i.length>0),qm=a=>{if(!a||a.trim().length===0)return{score:0,comparative:0,label:"neutral"};const i=C1(a);let r=0;i.forEach(f=>{Im[f]&&(r+=Im[f])});const o=i.length>0?r/i.length:0;let u="neutral";return o>.05?u="positive":o<-.05&&(u="negative"),{score:r,comparative:o,label:u}},T1=(a,i)=>{const r=qm(a),o=qm(i),u=r.comparative*.6+o.comparative*.4;let f="neutral";return u>.05?f="positive":u<-.05&&(f="negative"),{label:f,comparative:u,titleSentiment:r,descriptionSentiment:o}};var tu,Gm;function A1(){if(Gm)return tu;Gm=1,tu={compareTwoStrings:a,findBestMatch:i};function a(o,u){if(o=o.replace(/\s+/g,""),u=u.replace(/\s+/g,""),o===u)return 1;if(o.length<2||u.length<2)return 0;let f=new Map;for(let m=0;m<o.length-1;m++){const g=o.substring(m,m+2),p=f.has(g)?f.get(g)+1:1;f.set(g,p)}let h=0;for(let m=0;m<u.length-1;m++){const g=u.substring(m,m+2),p=f.has(g)?f.get(g):0;p>0&&(f.set(g,p-1),h++)}return 2*h/(o.length+u.length-2)}function i(o,u){if(!r(o,u))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const f=[];let h=0;for(let g=0;g<u.length;g++){const p=u[g],x=a(o,p);f.push({target:p,rating:x}),x>f[h].rating&&(h=g)}const m=f[h];return{ratings:f,bestMatch:m,bestMatchIndex:h}}function r(o,u){return!(typeof o!="string"||!Array.isArray(u)||!u.length||u.find(function(f){return typeof f!="string"}))}return tu}var M1=A1();const R1=Lg(M1),k1=(a,i=.75)=>{if(!a||a.length===0)return[];const r=[],o=new Set;for(let u=0;u<a.length;u++){if(o.has(u))continue;const f=[a[u]];o.add(u);for(let h=u+1;h<a.length;h++){if(o.has(h))continue;R1.compareTwoStrings(a[u].title.toLowerCase(),a[h].title.toLowerCase())>i&&(f.push(a[h]),o.add(h))}r.push(f)}return r},O1=a=>{if(!a||a.length===0)return null;const r=[...a].sort((h,m)=>m.impactScore-h.impactScore)[0],o=[...new Set(a.map(h=>h.source))],u=o.length,f=1+(u-1)*.1;return{...r,sourceCount:u,allSources:o,clusteredItems:a.length,impactScore:r.impactScore*f,clusterRepresentative:!0}},D1=(a,i=.75)=>{const r=new Set,o=[];for(const h of a)!h.id||r.has(h.id)||(r.add(h.id),o.push(h));return k1(o,i).map(O1).filter(h=>h!==null)};function z1(a){return a.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim()}class L1{constructor(){this.newsMap=new Map,this.breaking=new Set}checkBreakingNews(i,r=Date.now()){if(!i||!i.title||!i.publishedAt)return{isBreaking:!1,breakingScore:0,multiplier:1};const o=z1(i.title),u=(r-i.publishedAt)/1e3/60;let f=!1,h=0;for(const[m,g]of this.newsMap.entries())if(this.calculateSimilarity(o,m)>.7){(r-g.firstSeen)/1e3/60<60&&!g.sources.has(i.source)&&(g.sources.add(i.source),g.count++),g.count>=2&&u<60&&(f=!0,h=Math.log(60/Math.max(1,u))||1,h=Math.min(h,3),this.breaking.add(o));break}return this.newsMap.has(o)||this.newsMap.set(o,{firstSeen:i.publishedAt,sources:new Set([i.source]),count:1,title:i.title}),{isBreaking:f,breakingScore:h,multiplier:f?h:1}}calculateSimilarity(i,r){const o=new Set(i.split(/\s+/)),u=new Set(r.split(/\s+/)),f=[...o].filter(m=>u.has(m)).length,h=new Set([...o,...u]).size;return f/Math.max(h,1)}cleanup(i=120){const r=Date.now(),o=[];for(const[u,f]of this.newsMap.entries())(r-f.firstSeen)/1e3/60>i&&o.push(u);return o.forEach(u=>{this.newsMap.delete(u),this.breaking.delete(u)}),o.length}getBreakingStories(){const i=[];for(const[r,o]of this.newsMap.entries())o.count>=2&&i.push({title:o.title,sourceCount:o.count,sources:[...o.sources],firstSeen:o.firstSeen});return i}}const U1=new L1;function B1(a,i,r){const o=`${a} ${i}`.toLowerCase();let u=1;/\b(world|international|global|planet|earth|un|united nations)\b/.test(o)?u=1.5:/\b(india|country|nation|nationwide|federal|central govt|modi|parliament)\b/.test(o)?u=1.3:/\b(state|tamil nadu|kerala|karnataka|region|district)\b/.test(o)&&(u=1.1);let f=1;/\b(billions?|trillions?)\b/.test(o)?f=1.5:/\b(millions?|lakhs?|crores?)\b/.test(o)?f=1.3:/\b(thousands?|hundreds of thousands?)\b/.test(o)&&(f=1.1);let h=1;return r&&r.highImpactKeywords&&Array.isArray(r.highImpactKeywords)&&r.highImpactKeywords.some(g=>g?new RegExp(`\\b${g.toLowerCase()}\\b`,"i").test(o):!1)&&(h=r.rankingWeights?.impact?.highImpactBoost||2.5),u*f*h}const H1={chennai:{lat:13.0827,lon:80.2707,boost:2},trichy:{lat:10.7905,lon:78.7047,boost:1.8},"tamil nadu":{lat:11.1271,lon:78.6569,boost:1.6},muscat:{lat:23.588,lon:58.3829,boost:1.5},india:{lat:20.5937,lon:78.9629,boost:1.3}};function I1(a,i){const r=Le();if(r.enableProximityScoring===!1)return 1;const o=`${a} ${i}`.toLowerCase();let u=1;const f=r.rankingWeights?.geo?.cityMatch||1.5,h=r.rankingWeights?.geo?.maxScore||5;for(const[m,g]of Object.entries(H1))o.includes(m.toLowerCase())&&g.boost>u&&(u=g.boost);if(r.weather?.cities)for(const m of r.weather.cities)o.includes(m.toLowerCase())&&f>u&&(u=f);return Math.min(u,h)}const $m=new Map;function q1(a){return a.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(i=>i.length>3)}function G1(a,i,r){const o=`${a} ${i}`,u=q1(o);if(u.length===0)return 1;let f=0;u.forEach(g=>{const p=$m.get(g)||{count:0};p.count<2&&f++,$m.set(g,{count:p.count+1,lastSeen:Date.now()})});const h=f/u.length;return 1+Math.min(h*.5,.5)}function $1(a,i=[]){const o=Le().followedTopics||[];if(o.length===0)return 1;const u=a.toLowerCase();return o.some(h=>{const m=typeof h=="string"?h:h.name;if(!m)return!1;const g=m.toLowerCase();return u.includes(g)||i&&i.some(p=>p.toLowerCase().includes(g))})?1.5:1}const Y1=["hero","rescue","miracle","triumph","tragedy","survival","family","child","mother","father","couple","wedding","journey","struggle","overcome","inspire","brave","courage","heartbreak","reunion","loss","hope","dream","volunteer","charity","donation","help","saved","lifeline","community","spirit","kindness"];function F1(a,i){const r=`${a} ${i}`.toLowerCase();let o=0;Y1.forEach(f=>{r.includes(f.toLowerCase())&&o++});const u=1+o*.2;return Math.min(u,2)}function V1(a,i=null){if(!a)return 1;const r=i?.rankingWeights?.visual?.videoBoost||1.3,o=i?.rankingWeights?.visual?.imageBoost||1.15;return/youtube|vimeo|video|youtu\.be/i.test(a)?r:/\.(jpg|jpeg|png|gif|webp|svg)/i.test(a)||/images|img|photo|static/i.test(a)?o:Math.min(o,1.1)}const Ym={world:["UN","NATO","United Nations","international","embassy","foreign","global","war","peace talks","summit","G7","G20","EU","European Union","Middle East","Ukraine","Russia","Gaza","Israel","Palestine","Hamas","Hezbollah","Iran","China","USA","UK","Biden","Trump","Putin","Zelenskyy","Netanyahu","diplomacy","geopolitical","sanctions","treaty","United States","Britain","France","Germany","Australia","Canada","Japan","South Korea","North Korea"],india:["Delhi","New Delhi","Modi","BJP","Congress","Parliament","Supreme Court","India","Indian","Lok Sabha","Rajya Sabha","PM","President","RBI","central government","nationwide","union minister","Amit Shah","Rahul Gandhi","AAP","Kejriwal","Mamata Banerjee","Trinamool","CPM","Elections","ECI","Election Commission","CBI","ED","Enforcement Directorate","UPSC","NEET","census","aadhaar","pan card","railways","vande bharat","isro","chandrayaan","aditya-l1","gaganyaan","defence","army","navy","air force"],chennai:["Chennai","Madras","Marina Beach","TN Assembly","MTC","CMDA","Anna University","Kauvery Hospital","Apollo Chennai","Tambaram","Egmore","T Nagar","Adyar","Velachery","Guindy","Mylapore","Triplicane","Chromepet","Pallavaram","OMR","ECR","Old Mahabalipuram Road","East Coast Road","Koyambedu","Anna Nagar","Besant Nagar","Thiruvanmiyur","IIT Madras","Loyola College","Presidency College","Ripon Building","Greater Chennai Corporation","GCC","Chennai Metro","CMRL","Central Station","Egmore Station","Meenambakkam","Chennai Airport","Nungambakkam","Kodambakkam"],trichy:["Trichy","Tiruchirappalli","Srirangam","BHEL Trichy","NIT Trichy","Rock Fort","Kaveri","Cauvery","Thanjavur","Delta districts","Samayapuram","Manapparai","Thiruverumbur","Lalgudi","Musiri","Thuraiyur","Pudukkottai","Karur","Perambalur","Ariyalur","Kallanai","Mukkombu","Butterfly Park","Tiruchirapalli"],business:["stock","market","economy","GDP","inflation","RBI","Sensex","Nifty","shares","BSE","NSE","earnings","revenue","profit","loss","IPO","merger","acquisition","startup","funding","investment","corporate","CEO","CFO","bank","finance","fiscal","monetary","repo rate","tax","GST","income tax","customs","export","import","trade","rupee","dollar","gold","silver","oil","crude","brent","crypto","bitcoin","ethereum","blockchain","mutual fund","SIP","dividend","quarterly results","Adani","Ambani","Tata","Reliance","Infosys","TCS","Wipro","HDFC","ICICI","SBI"],technology:["AI","tech","technology","Google","Apple","Microsoft","software","hardware","cyber","crypto","blockchain","iPhone","Android","app","cloud","data","algorithm","machine learning","artificial intelligence","ChatGPT","OpenAI","Gemini","LLM","neural network","robotics","automation","5G","6G","telecom","semiconductor","chip","processor","Intel","AMD","Nvidia","Samsung","OnePlus","Xiaomi","cybersecurity","hacker","malware","ransomware","virus","SpaceX","NASA","satellite","rocket","drone","electric vehicle","EV","Tesla","Elon Musk","Mark Zuckerberg","Sundar Pichai","Satya Nadella","Tim Cook"],entertainment:["film","movie","actor","actress","director","box office","OTT","Netflix","Amazon Prime","Disney+","cinema","theatre","Kollywood","Bollywood","Hollywood","music","album","concert","award","Oscar","Emmy","Grammy","celebrity","release","trailer","teaser","review","blockbuster","star","superstar","hero","heroine","villain","script","screenplay","cinematography","Rajinikanth","Kamal Haasan","Vijay","Ajith","Suriya","Dhanush","Vikram","Nayanthara","Trisha","Anirudh","AR Rahman","Shah Rukh Khan","Salman Khan","Aamir Khan","Deepika Padukone","Alia Bhatt","Ranbir Kapoor","Karan Johar","Tollywood","Mollywood"],sports:["cricket","football","IPL","Olympics","match","championship","FIFA","World Cup","player","coach","team","goal","wicket","run","tennis","badminton","hockey","trophy","medal","CSK","MI","RCB","stadium","tournament","league","series","test match","ODI","T20","century","half-century","hat-trick","penalty","corner","free kick","grand slam","Wimbledon","US Open","French Open","Australian Open","F1","Formula 1","racing","driver","athlete","gold medal","silver medal","bronze medal","BCCI","ICC","Virat Kohli","Rohit Sharma","Dhoni","MS Dhoni","Messi","Ronaldo","Neymar","Mbappe"]},dp={"Narendra Modi":"india","Rahul Gandhi":"india","Amit Shah":"india","Arvind Kejriwal":"india","Mamata Banerjee":"india","Droupadi Murmu":"india","Jagdeep Dhankhar":"india","Nirmala Sitharaman":"india","S. Jaishankar":"india","Rajnath Singh":"india","Nitin Gadkari":"india","Mallikarjun Kharge":"india","MK Stalin":"chennai","Edappadi Palaniswami":"chennai","K. Annamalai":"chennai",Annamalai:"chennai","Udhayanidhi Stalin":"chennai","Thol. Thirumavalavan":"chennai",Seeman:"chennai","Kamal Haasan":"entertainment",Rajinikanth:"entertainment",Vijay:"entertainment","Thalapathy Vijay":"entertainment","Ajith Kumar":"entertainment",Suriya:"entertainment","Shah Rukh Khan":"entertainment","Salman Khan":"entertainment","Alia Bhatt":"entertainment","Deepika Padukone":"entertainment","Taylor Swift":"entertainment",Beyonce:"entertainment","Chennai Super Kings":"sports",CSK:"sports","Mumbai Indians":"sports","Royal Challengers Bangalore":"sports",RCB:"sports","Indian Cricket Team":"sports","Virat Kohli":"sports","MS Dhoni":"sports","Rohit Sharma":"sports","Ravindra Jadeja":"sports","R Ashwin":"sports","Jasprit Bumrah":"sports","Lionel Messi":"sports","Cristiano Ronaldo":"sports","Novak Djokovic":"sports","Rafael Nadal":"sports","Carlos Alcaraz":"sports","PV Sindhu":"sports","Neeraj Chopra":"sports","R Praggnanandhaa":"sports","D Gukesh":"sports",OpenAI:"technology",Tesla:"technology",SpaceX:"technology",Nvidia:"technology","Sam Altman":"technology","Mark Zuckerberg":"technology","Sundar Pichai":"technology","Satya Nadella":"technology","Tim Cook":"technology","Gautam Adani":"business","Mukesh Ambani":"business","Ratan Tata":"business","N Chandrasekaran":"business","Uday Kotak":"business","Nifty 50":"business",Sensex:"business"};function K1(a,i,r=""){const o=`${a} ${i}`.toLowerCase();for(const[g,p]of Object.entries(dp)){const x=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`\\b${x}\\b`,"i").test(o))return p}const u={};Object.keys(Ym).forEach(g=>u[g]=0);for(const[g,p]of Object.entries(Ym))p.forEach(x=>{const v=x.toLowerCase(),w=["star","hero","mass","play","act","cast","plot","vijay","ajith","suriya","vikram","release"];v.length<=3||w.includes(v)?new RegExp(`\\b${v}\\b`,"i").test(o)&&u[g]++:o.includes(v)&&u[g]++});const h=Object.keys(u).sort((g,p)=>u[p]-u[g])[0];return u[h]>=2?h:null}const X1=300,ut={entries:[],subscribers:new Set,stats:{totalFetches:0,successes:0,failures:0,totalMs:0,byService:{}}};function Fm(){ut.subscribers.forEach(a=>a())}function Q1(a){ut.stats.byService[a]||(ut.stats.byService[a]={ok:0,fail:0,totalMs:0,lastStatus:null,lastTime:null})}const an={add(a,i,r,o={}){const u={ts:Date.now(),level:a,service:i,message:r,...o};ut.entries.push(u),ut.entries.length>X1&&ut.entries.shift(),ut.stats.totalFetches++,Q1(i);const f=ut.stats.byService[i];a==="error"?(ut.stats.failures++,f.fail++,f.lastStatus="fail"):(ut.stats.successes++,f.ok++,f.lastStatus="ok"),o.durationMs&&(ut.stats.totalMs+=o.durationMs,f.totalMs+=o.durationMs),f.lastTime=Date.now(),Fm()},info(a,i,r){this.add("info",a,i,r)},warn(a,i,r){this.add("warn",a,i,r)},error(a,i,r){this.add("error",a,i,r)},success(a,i,r){this.add("success",a,i,r)},getEntries(){return ut.entries},getStats(){return ut.stats},subscribe(a){return ut.subscribers.add(a),()=>ut.subscribers.delete(a)},clear(){ut.entries.length=0,ut.stats={totalFetches:0,successes:0,failures:0,totalMs:0,byService:{}},Fm()}},nu=[{name:"rss2json",url:"https://api.rss2json.com/v1/api.json",format:a=>`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.json();if(i.status==="ok")return{title:i.feed?.title,items:i.items||[]};throw new Error("rss2json status not ok")}},{name:"codetabs",url:"https://api.codetabs.com/v1/proxy",format:a=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.text();if(!i)throw new Error("Empty response from codetabs");return Vm(i)}},{name:"allorigins",url:"https://api.allorigins.win/get",format:a=>`https://api.allorigins.win/get?url=${encodeURIComponent(a)}`,parse:async a=>{const i=await a.json();if(!i.contents)throw new Error("No content from allorigins");return Vm(i.contents)}}];function Vm(a){const r=new DOMParser().parseFromString(a,"text/xml");if(r.getElementsByTagName("parsererror").length>0)throw new Error("XML Parsing Error");const o=r.querySelector("channel > title")?.textContent||"Unknown Source",u=Array.from(r.querySelectorAll("item")).map(f=>{const h=f.querySelector("title")?.textContent,m=f.querySelector("link")?.textContent,g=f.querySelector("pubDate")?.textContent,p=f.querySelector("description")?.textContent,x=f.querySelector("guid")?.textContent,v=f.querySelector("author")?.textContent||f.querySelector("dc\\:creator")?.textContent,w=f.querySelector("enclosure"),j=w?{url:w.getAttribute("url"),type:w.getAttribute("type")}:null,E=f.querySelector("media\\:content")||f.querySelector("content"),T=E?{url:E.getAttribute("url")}:null,k=f.querySelector("media\\:thumbnail")||f.querySelector("thumbnail"),z=k?k.getAttribute("url"):null;return{title:h,link:m,pubDate:g,description:p,guid:x,author:v,enclosure:j,"media:content":T,thumbnail:z}});return{title:o,items:u}}class W1{constructor(){this.currentIndex=0,this.failureCounts=new Map,this.lastSuccess=new Map}async fetchViaProxy(i){const r=nu.length;let o=null;for(let u=0;u<r;u++){const f=(this.currentIndex+u)%r,h=nu[f];try{const m=h.format(i),g=new AbortController,p=setTimeout(()=>g.abort(),8e3);let x;try{x=await fetch(m,{signal:g.signal})}finally{clearTimeout(p)}if(!x.ok)throw new Error(`HTTP ${x.status}`);const v=await h.parse(x);if(!v||!v.items||v.items.length===0)throw new Error("No items returned");return this.failureCounts.set(h.name,0),this.lastSuccess.set(h.name,Date.now()),this.currentIndex=f,an.info("proxy",`${h.name} OK (${v.items.length} items)`),v}catch(m){console.warn(`[ProxyManager] ${h.name} failed for ${i}:`,m.message),o=m;const g=(this.failureCounts.get(h.name)||0)+1;this.failureCounts.set(h.name,g)}}throw an.error("proxy",`All proxies failed: ${o?.message}`),new Error(`All proxies failed. Last error: ${o?.message}`)}getProxyHealth(){return nu.map(i=>({name:i.name,failures:this.failureCounts.get(i.name)||0,lastSuccess:this.lastSuccess.get(i.name)||null}))}}const fp=new W1,cu="news_section_health",Km=3;function Xm(a,i){if(a)try{const r=localStorage.getItem(cu),o=r?JSON.parse(r):{},u=o[a]||[];u.unshift(i),u.length>Km&&(u.length=Km),o[a]=u,localStorage.setItem(cu,JSON.stringify(o))}catch(r){console.warn("[SectionHealth] Failed to record fetch count:",r)}}function Z1(a,i){try{const r=localStorage.getItem(cu),u=(r?JSON.parse(r):{})[a]||[];if(u.length===0)return{status:"ok",ratio:1,avg:i,history:[]};const h=u.reduce((p,x)=>p+x,0)/u.length;if(h===0)return{status:"ok",ratio:1,avg:0,history:u};const m=i/h;let g="ok";return m<.1?g="critical":m<.5&&(g="warning"),{status:g,ratio:m,avg:h,history:u}}catch(r){return console.warn("[SectionHealth] Failed to compute health:",r),{status:"ok",ratio:1,avg:0,history:[]}}}function J1(a){if(!a||a.length<=3)return!1;const i=a[0].source;return a.every(r=>r.source===i)}const P1={world:[_l.WORLD_IN,"https://feeds.bbci.co.uk/news/rss.xml","https://feeds.bbci.co.uk/news/world/rss.xml","https://www.aljazeera.com/xml/rss/all.xml",_l.WORLD_US],india:[_l.TAMIL_NADU,"https://feeds.feedburner.com/ndtvnews-top-stories","https://www.thehindu.com/news/national/feeder/default.rss","https://timesofindia.indiatimes.com/rssfeedstopstories.cms"],chennai:[_l.CHENNAI,"https://www.thehindu.com/news/cities/chennai/feeder/default.rss"],trichy:["https://www.thehindu.com/news/cities/Tiruchirapalli/feeder/default.rss"],local:["https://news.google.com/rss/search?q=Muscat+Oman&hl=en-OM&gl=OM&ceid=OM:en","https://www.muscatdaily.com/feed"],business:[_l.BUSINESS_IN_SEARCH,"https://economictimes.indiatimes.com/rssfeedstopstories.cms","https://www.moneycontrol.com/rss/business.xml","https://www.livemint.com/rss/money","https://feeds.bbci.co.uk/news/business/rss.xml","https://www.cnbc.com/id/10001147/device/rss/rss.html"],technology:[_l.TECH_IN_SEARCH,"https://gadgets360.com/rss/news","https://techcrunch.com/feed/","https://www.theverge.com/rss/index.xml"],sports:["https://www.espn.com/espn/rss/news"],entertainment:["https://www.bollywoodhungama.com/rss/news.xml","https://feeds.bbci.co.uk/news/entertainment_and_arts/rss.xml","https://www.hindustantimes.com/feeds/rss/entertainment/tamil-cinema/rssfeed.xml","https://www.hindustantimes.com/feeds/rss/entertainment/telugu-cinema/rssfeed.xml","https://www.pinkvilla.com/rss/feed/entertainment"],social:["https://www.theverge.com/rss/index.xml"]},eb={bbc:"BBC",ndtv:"NDTV",theHindu:"The Hindu",toi:"Times of India",financialExpress:"Financial Express",dtNext:"DT Next",omanObserver:"Oman Observer",moneyControl:"Moneycontrol",indiaToday:"India Today",variety:"Variety",hollywoodReporter:"Hollywood Reporter",bollywoodHungama:"Bollywood Hungama",alJazeera:"Al Jazeera"},tb=["breaking","election","war","crisis","ai","market","inflation","conflict","gold","storm","rain"],nb=new RegExp(tb.join("|"),"i"),ab=300*1e3,mr=new Map;function hp(a,i){if(!a&&!i)return!1;const r=(a||"")+" "+(i||"");return nb.test(r)}function Qm(a,i){if(!a||!i||i.length===0)return 0;const r=a.toLowerCase();let o=0;return i.forEach(u=>{u&&r.includes(u.toLowerCase())&&o++}),o}function au(a){return a?a.replace(/<[^>]*>?/gm,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim():""}function lb(a){let i=0;if(!a)return"0";for(let r=0;r<a.length;r++)i=(i<<5)-i+a.charCodeAt(r),i|=0;return i.toString()}function ib(a){if(!a)return"Unknown";if(a.includes(" - Google News"))return"Google News";const i=Object.keys(Al).find(r=>r!=="default"&&a.toLowerCase().includes(r.toLowerCase()));return i?Al[i].name:a}function sb(a,i,r){if(!i)return null;const o=i.match(/(?:["])([^"]{30,150})(?:["])/);if(o&&o[1]){let u=o[1].trim();if(u.length>0)return`"${u}"`}return null}function xu(a,i,r=0,o=null){const u=o||Le(),f=u.rankingWeights||{},h=(Date.now()-a.publishedAt)/(1e3*60*60),m=f.freshness?.maxBoost||3;let g;if(u.rankingMode==="smart")g=m/(1+Math.exp(.5*(h-12)));else{const ee=f.freshness?.decayHours||26;g=Math.max(0,(ee-h)/ee)*m}const p=v1(a.source),x=x1(a.source,i),v=f.source?.tier1Boost||.5,w=p*x,j=f.keyword?.matchBoost||2,E=hp(a.title,a.description)?j:0,T=i==="world"?1.5:i==="business"?1.2:1;let k=0;a.sentiment&&(a.sentiment.label==="positive"?k=f.sentiment?.positiveBoost||.5:a.sentiment.label==="negative"&&(k=f.sentiment?.negativeBoost||.3));const N=/\b(live|updates|ongoing|developing)\b/i.test(a.title)?1.5:1,U=U1.checkBreakingNews(a);a.isBreaking=U.isBreaking,a.breakingScore=U.breakingScore;const W=U.multiplier;if(u.enableNewScoring===!1)return(g+w+E+k)*T*W*N;const Y=B1(a.title,a.description,u),te=I1(a.title,a.description),P=G1(a.title,a.description),J=$1(a.title,null),le=F1(a.title,a.description),ie=V1(a.imageUrl,u),ne=g+E+k,I=1+p*x*v,re=ne*I,se=Y*te*P*J*le*ie;let ae=0,L=1;const X=u.buzz?.[i];if(X&&X.enabled){const ee=a.title+" "+a.description,oe=Qm(ee,X.positiveKeywords),de=Qm(ee,X.negativeKeywords),we=oe*(X.positiveMultiplier||1),je=de*(X.negativeMultiplier||1),at=we-je;at<(X.filterThreshold||0)?L=.01:ae=at*2}let $=1;const Z=new Date().getDay(),S=Z===0||Z===6||Z===5;if(["entertainment","social","movies"].includes(i)||a.section==="entertainment"){const ee=u.rankingWeights?.temporal?.entertainmentBoost||2.5;$*=ee}if(S&&["entertainment","social","local","chennai","trichy","events"].includes(i)){const ee=u.rankingWeights?.temporal?.weekendBoost||2;$*=ee}const A=f.viewedPenalty||.4;let O=1;r>0&&(O=A,r>3&&(O=A/2));const F=(re+ae)*se*$*T*W*N*O*L;return(u.debugLogs||o)&&(a._scoreBreakdown={freshness:g,sourceScore:p,categoryWeight:x,keywordBoost:E,sentimentBoost:k,impact:Y,proximity:te,novelty:P,currency:J,visual:ie,sectionPriority:T,breakingBoost:W,seenPenalty:O,total:F}),F}function rb(a,i){let r=null;for(const[o,u]of Object.entries(eb))if(a.includes(u)||u.includes(a)){r=o;break}return r?i[r]!==!1:!0}async function uu(a,i=10,r=null){const o=Date.now();if(i===0)return[];const u=a;let f=[];const h=Le();if(h.enableCache!==!1){const p=mr.get(u);if(p&&Date.now()-p.timestamp<ab){const x=Math.round((Date.now()-p.timestamp)/1e3);return console.log(`[RSS]  Cache HIT for ${a} (age: ${x}s)`),Wm(p.data,a,i,r)}console.log(`[RSS]  Cache MISS for ${a} - Fetching fresh data`)}else console.log(`[RSS]  Cache DISABLED by user settings for ${a}`);if(a==="entertainment"){console.log("[RSS] Using entertainmentService for entertainment section");try{const x=Le()?.entertainment||{},v=await N1(x);return console.log(`[RSS] Entertainment: Got ${v.length} articles with distribution`),v.slice(0,i)}catch(p){console.error("[RSS] Entertainment service failed:",p)}}const g=P1[a]||[];if(g.length===0)return console.warn(`[RSS] No feeds defined for section: ${a}`),[];try{console.log(`[RSS] Feeds for ${a}:`,g);const p=await Promise.allSettled(g.map(j=>ca(j,a))),x=[],v=[];p.forEach((j,E)=>{j.status==="fulfilled"&&j.value?(x.push(j.value),console.log(`[RSS]  Feed ${E+1}/${g.length} succeeded`)):(v.push(g[E]),console.warn(`[RSS]  Feed ${E+1}/${g.length} failed: ${j.reason?.message||"Unknown error"}`))}),v.length>0&&x.length>0&&(console.log(`[RSS] Retrying ${v.length} failed feed(s) for ${a}...`),await new Promise(E=>setTimeout(E,2e3)),(await Promise.allSettled(v.map(E=>ca(E,a)))).forEach((E,T)=>{E.status==="fulfilled"&&E.value?(x.push(E.value),console.log(`[RSS]  Retry succeeded: ${v[T]}`)):console.error(`[RSS]  Retry also failed: ${v[T]}`)})),f=x.flat();const w=Date.now()-o;console.log(`[RSS] Section '${a}' stats:`,{totalFeeds:g.length,successCount:x.length,failureCount:g.length-x.length,totalItems:f.length}),an.success("rss",`${a}: ${f.length} items from ${x.length}/${g.length} feeds`,{durationMs:w}),h.enableCache!==!1&&(mr.set(u,{timestamp:Date.now(),data:f}),console.log(`[RSS]  Cached ${f.length} items for ${a}`))}catch(p){return console.error(`[RSS] Unexpected error fetching section ${a}:`,{errorMessage:p.message,errorStack:p.stack,section:a}),an.error("rss",`${a}: ${p.message}`,{durationMs:Date.now()-o}),f.length>0?f:[]}try{let p=null;if(a==="social"){const w=Le();w.buzzRankingWeights&&(p={...w,rankingWeights:{...w.rankingWeights,...w.buzzRankingWeights}})}const x=await Wm(f,a,i,r,p);x.forEach(w=>{w.sourceCount||(w.sourceCount=1)});const v=Z1(a,x.length);return Xm(a,x.length),x.health=v,x.isSingleSource=J1(x),x}catch(p){console.error(`[RSS] Ranking failed for ${a}:`,p);const x=f.slice(0,i);return Xm(a,x.length),x}}async function ca(a,i){const{title:r,items:o}=await fp.fetchViaProxy(a);return o.map(u=>ob(u,r,i))}function ob(a,i,r="general"){const o=a.pubDate||a.created||new Date().toISOString(),u=Date.parse(o)||Date.now();let f=i;a.author&&(f=a.author),f=ib(f);const h=lb(a.link||a.guid||a.title),m=a.description||"",p=K1(a.title||"",m||"",f)||r;let x=null;if(a.enclosure&&a.enclosure.url)x=a.enclosure.url;else if(a.thumbnail)x=a.thumbnail;else if(a["media:content"]&&a["media:content"].url)x=a["media:content"].url;else if(m.includes("<img")){const j=m.match(/<img[^>]+src="([^">]+)"/);j&&(x=j[1])}x&&!x.startsWith("http")&&(x=null);const v=["business","market"].includes(r)||/\b(stock|market|shares|trading|sensex|nifty|bank|economy|crypto|ipo|revenue|profit)\b/i.test(a.title+m);let w=null;return v&&(w=T1(a.title,au(m))),{id:h,title:a.title,headline:a.title,description:m,summary:au(m),link:a.link,url:a.link,source:f,publishedAt:u,fetchedAt:Date.now(),time:new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),impactScore:0,section:p,criticsView:sb(a.title,au(m)),sentiment:w?{label:w.label,comparative:w.comparative,titleSentiment:w.titleSentiment,descriptionSentiment:w.descriptionSentiment}:null,imageUrl:x}}async function Wm(a,i,r,o,u=null){try{const f=new Set,h=Date.now(),m=u||Le(),g=m.hideOlderThanHours||m.freshnessLimitHours||60,p=g*60*60*1e3,x=m.strictFreshness===!1,v=m.rankingMode!=="legacy";console.log(`[RSSDebug] filtering for ${i}: Limit=${g}h. Items=${a.length}`);const w=m.feedBlockedKeywords||[],j=a.filter(T=>{if(w.length>0){const N=(T.title+" "+T.description).toLowerCase();if(w.some(U=>N.includes(U.toLowerCase())))return!1}const z=/\b(live|updates)\b/i.test(T.title)?p*3:p;if(!x&&h-T.publishedAt>z)return!1;if(m.filteringMode==="keyword"){if(!hp(T.title,T.description))return!1}else if(m.topWebsitesOnly){if(!["BBC","Reuters","NDTV","The Hindu","Times of India","Moneycontrol"].some(U=>T.source.includes(U)))return!1}else if(o&&!rb(T.source,o))return!1;return!0}).map(T=>{const k=T.section||i,z=ip(T.id),N=v?xu(T,k,z,m):0;return{...T,section:k,impactScore:N}}).filter(T=>f.has(T.id)?!1:(f.add(T.id),!0)),E=D1(j,.75);return m.rankingMode==="legacy"?E.sort((T,k)=>k.publishedAt-T.publishedAt):E.sort((T,k)=>k.impactScore-T.impactScore),console.log(`[RSS] Final count for ${i}: ${E.length} (requested ${r})`),E.slice(0,r)}catch(f){throw console.error(`[RSS] Ranking error for ${i}:`,f),f}}function cb(){const a=mr.size;return mr.clear(),console.log(`[RSS]  Cleared ${a} cache entries`),a}function ub(a,i=20,r=40,o=30){const u=[],f=new Map,h=new Map,m=[...a].sort((g,p)=>(p.impactScore||0)-(g.impactScore||0));for(const g of m){if(u.length>=i)break;const p=g.section||"general",x=db(g.title,g.description),v=f.get(p)||0,w=h.get(x)||0,j=Math.floor(i*(r/100)),E=Math.floor(i*(o/100));v>=j||w>=E||(u.push(g),f.set(p,v+1),h.set(x,w+1))}return console.log("[Composer] Final composition:",{total:u.length,byTopic:Object.fromEntries(f),byGeo:Object.fromEntries(h)}),u}function db(a,i){const r=`${a||""} ${i||""}`.toLowerCase();return/chennai|madras/i.test(r)?"chennai":/trichy|tiruchirappalli/i.test(r)?"trichy":/tamil nadu|tn /i.test(r)?"tamil-nadu":/india|delhi|mumbai|bangalore/i.test(r)?"india":"global"}const Zm="news_audit_history";function fb(a){if(a.length===0)return 0;const i=[...a].sort((o,u)=>o-u),r=Math.floor(i.length/2);return i.length%2!==0?i[r]:(i[r-1]+i[r])/2}function mp(a){return a.length===0?0:a.reduce((i,r)=>i+r,0)/a.length}function hb(a,i){if(a.length===0)return 0;const r=a.map(u=>Math.pow(u-i,2)),o=mp(r);return Math.sqrt(o)}function mb(a,i){const r={},o=i?.rankingWeights?.audit?.consensusThreshold||2;return a.forEach(u=>{const f=u.sourceCount||1;let h=null;f>=o+1?h="":f>=o&&(h=""),r[u.id]={count:f,sources:u.allSources||[u.source],badge:h}}),r}function gb(a,i){const r={};if(!i)return r;const o=new Set;i.followedTopics&&i.followedTopics.forEach(f=>o.add(f.query.toLowerCase())),i.upAhead&&i.upAhead.keywords&&Object.values(i.upAhead.keywords).flat().forEach(f=>{f&&o.add(f.toLowerCase())});const u=Object.entries(i.newsSources||{}).filter(([f,h])=>h).map(([f])=>f.toLowerCase());return a.forEach(f=>{const h=(f.title||"").toLowerCase(),m=(f.source||"").toLowerCase();let g=[],p=0;o.forEach(w=>{h.includes(w)&&(g.push(w),p+=1)});const x=u.some(w=>m.includes(w)||w.includes(m));let v=null;g.length>0&&(v=x?"":""),r[f.id]={score:p,matches:g,badge:v}}),r}function pb(a,i){const r={};if(a.length<3)return r;const o=Date.now(),u=a.map(m=>(o-new Date(m.publishedAt).getTime())/(1e3*60*60)),f=fb(u),h=i?.rankingWeights?.freshness?.anomalyThreshold||2;return a.forEach((m,g)=>{const p=u[g];let x="none",v=null;p>6&&p>f*h&&(x="age",v=""),r[m.id]={type:x,badge:v}}),r}function yb(a,i){const r={};if(a.length<5)return r;const o=a.map(m=>m.impactScore||0),u=mp(o),f=hb(o,u),h=i?.rankingWeights?.audit?.anomalySigma||2;return a.forEach(m=>{const g=m.impactScore||0;let p="none",x=null;g>u+h*f?(p="score_high",x=""):g<u-1.5*f&&(p="score_low",x=""),r[m.id]={type:p,badge:x}}),r}async function vb(a,i){const r={};let o={};try{const f=localStorage.getItem(Zm);o=f?JSON.parse(f):{}}catch(f){console.warn("Failed to load audit history",f)}const u={};Object.entries(a).forEach(([f,h])=>{if(!Array.isArray(h)||h.length===0)return;const m=mb(h,i),g=gb(h,i),p=pb(h,i),x=yb(h,i),v=h.slice(0,10).map(j=>j.id),w=new Set(o[f]||[]);u[f]=v,h.forEach(j=>{const E=j.id,T=v.includes(E)&&w.has(E)?"":null;let k=null;j.isBreaking&&m[E]?.count>1?k="":j.isBreaking&&(k=""),r[E]={consensus:m[E],relevance:g[E],anomaly:x[E]?.badge?x[E]:p[E]?.badge?p[E]:{type:"none",badge:null},persistenceBadge:T,breakingVerified:k}})});try{localStorage.setItem(Zm,JSON.stringify(u))}catch(f){console.warn("Failed to save audit history",f)}return r}const gp=_.createContext(),ir=["world","india","chennai","trichy"];function xb({children:a}){const{settingsVersion:i}=pt(),r=_.useRef(i),[o,u]=_.useState({}),[f,h]=_.useState([]),[m,g]=_.useState(!0),[p,x]=_.useState([]),[v,w]=_.useState({}),[j,E]=_.useState(0),[T,k]=_.useState({}),z=_.useCallback(async U=>{if(!p.includes(U)){console.log(`[NewsContext] Lazy loading section: ${U}`);try{const W=Le();if(W.sections[U]&&!W.sections[U].enabled){console.log(`[NewsContext] Skipping lazy load for disabled section: ${U}`);return}const Y=W.sections[U]?.count||10,te=await uu(U,Y+5,W.newsSources);u(P=>({...P,[U]:te||[]}))}catch(W){console.error(`[NewsContext] Failed to load section ${U}:`,W),w(Y=>({...Y,[U]:W.message}))}finally{x(W=>[...new Set([...W,U])])}}},[p]),N=_.useCallback(async(U=null)=>{g(!0);const W=Date.now();try{const Y=Le();if(!Y){console.error("[NewsContext] Settings not available");return}const P=U||["world","india","chennai","trichy","local","social","entertainment","business","technology"],J=P.filter(re=>ir.includes(re)),le=P.filter(re=>!ir.includes(re)),ie=[J,le].filter(re=>re.length>0);let ne={};for(const re of ie){const se={},ae={};console.log(`[NewsContext] Fetching batch: ${re.join(", ")}`),await Promise.all(re.map(async S=>{if(Y.sections[S]?.enabled!==!1)try{const A=Y.sections[S]?.count||10,O=await uu(S,A+5,Y.newsSources);O&&Array.isArray(O)?se[S]=O:se[S]=[]}catch(A){console.error(`[NewsContext] Error ${S}:`,A),ae[S]=A.message,se[S]=[]}})),Object.assign(ne,se);const L=Object.values(ne).flat(),X={};Object.keys(ne).forEach(S=>X[S]=[]),L.forEach(S=>{const A=S.section||"uncategorized";X[A]||(X[A]=[]),X[A].push(S)}),Object.keys(X).forEach(S=>{X[S].sort((A,O)=>(O.impactScore||0)-(A.impactScore||0))});const $=Object.values(X).flat(),M=ub($,20,Y.maxTopicPercent||40,Y.maxGeoPercent||30);if(M&&M.length>0){const S=M.map(A=>A.id);Yx(S)}u(S=>({...S,...X,frontPage:M})),w(S=>({...S,...ae})),x(S=>[...new Set([...S,...Object.keys(se)])]);const Z=L.filter(S=>S.isBreaking||S.breakingScore&&S.breakingScore>1.5).sort((S,A)=>(A.breakingScore||0)-(S.breakingScore||0)).slice(0,3);h(Z)}E(Date.now());const I=Date.now()-W;console.log(`[NewsContext]  Refresh complete in ${I}ms`)}catch(Y){console.error("[NewsContext]  Fatal refresh error:",{errorMessage:Y.message,errorStack:Y.stack,timestamp:new Date().toISOString()})}finally{g(!1)}},[]);return _.useEffect(()=>{if(j===0)return;console.log("[NewsContext] Scheduling audit...");const U=setTimeout(async()=>{try{const W=Le(),Y=await vb(o,W);k(te=>({...te,...Y}))}catch(W){console.error("[NewsContext] Audit failed:",W)}},3e3);return()=>clearTimeout(U)},[j]),_.useEffect(()=>{r.current!==i&&(console.log("[NewsContext] Settings changed (v"+i+") - refreshing"),cb(),r.current=i,N())},[i,N]),_.useEffect(()=>{console.log("[NewsContext] Mounting - Initial fetch (Priority Only)"),N(ir);const U=setInterval(()=>{console.log("[NewsContext] Auto-refresh (5min cycle)"),N(ir)},300*1e3);return()=>{clearInterval(U),console.log("[NewsContext] Unmounting")}},[N]),s.jsx(gp.Provider,{value:{newsData:o,loading:m,errors:v,refreshNews:N,breakingNews:f,lastFetch:j,loadSection:z,loadedSections:p,auditResults:T},children:a})}function wr(){return _.useContext(gp)}function nn({id:a,title:i,icon:r,colorClass:o,news:u=[],maxDisplay:f=3,showExpand:h=!0,error:m=null,extraContent:g=null,onArticleClick:p=null,showCritics:x=!0}){const[v,w]=_.useState(!1),[j,E]=_.useState(!1),{auditResults:T}=wr(),z=Le().rankingWeights?.trending?.threshold||12,N=v?u.length:Math.min(f,u.length),U=u.slice(0,N),W=u.length>f,Y=u.health||{status:"ok"},te=u.isSingleSource,P=I=>!I&&I!==0?"":I>15?"":I>10?"":I>6?"":I>3?"":"",J=I=>{switch(I?.toUpperCase()){case"HIGH":return"news-item__confidence--high";case"MEDIUM":return"news-item__confidence--medium";case"LOW":return"news-item__confidence--low";default:return""}},le=I=>{if(!I)return"";const re=Math.floor((Date.now()-I)/1e3);let se=re/31536e3;return se>1?Math.floor(se)+"y ago":(se=re/2592e3,se>1?Math.floor(se)+"mo ago":(se=re/86400,se>1?Math.floor(se)+"d ago":(se=re/3600,se>1?Math.floor(se)+"h ago":(se=re/60,se>1?Math.floor(se)+"m ago":"Just now"))))},ie=I=>{sp(I),p&&p(I),I.url&&window.open(I.url,"_blank","noopener,noreferrer")},ne=()=>m?s.jsxs("div",{className:"empty-state",style:{borderColor:"rgba(255, 87, 87, 0.3)"},children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{style:{color:"#ff5757"},children:m})]}):u.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:"No news available for this section"})]}):s.jsxs(s.Fragment,{children:[g,s.jsx("div",{className:"news-list",children:U.map((I,re)=>s.jsxs("article",{className:"news-item",onClick:()=>ie(I),style:{cursor:I.url?"pointer":"default"},children:[s.jsxs("div",{className:"news-item__badges",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.85rem"},children:[P(I.impactScore)&&s.jsx("span",{title:`Impact Score: ${I.impactScore?.toFixed(1)}`,children:P(I.impactScore)}),I.isBreaking&&s.jsx("span",{title:"Breaking News",children:""}),!I.isBreaking&&I.impactScore>z&&s.jsx("span",{title:"Trending",children:""}),T[I.id]&&s.jsxs("span",{className:"audit-badges",style:{display:"flex",gap:"4px"},children:[T[I.id].consensus?.badge&&s.jsx("span",{title:`Corroborated by ${T[I.id].consensus.count} sources`,children:T[I.id].consensus.badge}),T[I.id].persistenceBadge&&s.jsx("span",{title:"Persistence",children:T[I.id].persistenceBadge}),T[I.id].relevance?.badge&&s.jsx("span",{title:"Relevance",children:T[I.id].relevance.badge}),T[I.id].anomaly?.badge&&s.jsx("span",{title:`Anomaly: ${T[I.id].anomaly.type}`,children:T[I.id].anomaly.badge}),T[I.id].breakingVerified&&s.jsx("span",{title:"Verified",children:T[I.id].breakingVerified})]})]}),s.jsxs("h3",{className:"news-item__headline",children:[" ",I.headline,I.url&&s.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"8px",color:"var(--accent-secondary)"},children:""})]}),I.summary&&s.jsx("p",{className:"news-item__summary",children:I.summary}),x&&I.criticsView&&s.jsxs("div",{className:"news-item__critics",children:[s.jsx("span",{children:""}),s.jsxs("div",{children:[s.jsx("strong",{style:{color:"var(--accent-secondary)",display:"block",marginBottom:"2px"},children:"Critics Take:"}),I.criticsView]})]}),s.jsxs("div",{className:"news-item__meta",children:[I.sentiment&&s.jsx("span",{className:`sentiment-badge sentiment--${I.sentiment.label}`,title:`Sentiment: ${I.sentiment.label}`,children:I.sentiment.label==="positive"?"":I.sentiment.label==="negative"?"":""}),s.jsx("span",{className:"news-item__source",children:I.source}),I.sourceCount>1&&s.jsxs("span",{className:"news-item__consensus",title:`Reported by ${I.sourceCount} sources`,children:[" ",I.sourceCount," sources"]}),s.jsx("span",{children:"|"}),s.jsx("span",{children:le(I.publishedAt)||I.time}),I.sourceCount&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"|"}),s.jsxs("span",{children:["#",I.sourceCount," Sources"]})]}),s.jsx("span",{children:"|"}),s.jsx("span",{className:`news-item__confidence ${J(I.confidence)}`,children:I.confidence})]})]},I.id||re))}),h&&W&&s.jsxs("div",{className:"news-more",onClick:()=>w(!v),children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:v?"":""}),s.jsx("span",{children:v?"Collapse":`See ${u.length-f} more stories`})]})]});return s.jsxs("section",{className:"news-section",id:a,children:[s.jsxs("h2",{className:`news-section__title ${o}`,onClick:()=>E(!j),style:{cursor:"pointer"},title:`Tap to fold/unfold. Health: ${Y.status.toUpperCase()}`,children:[s.jsx("span",{children:r}),i,Y.status==="critical"&&s.jsx("span",{title:"Critical: Feed yield < 10% of average",style:{marginLeft:"8px"},children:""}),Y.status==="warning"&&s.jsx("span",{title:"Warning: Feed yield < 50% of average",style:{marginLeft:"8px"},children:""}),te&&u.length>3&&s.jsx("span",{title:"Single Source: Potential echo chamber",style:{marginLeft:"8px"},children:""}),u.length>0&&s.jsxs("span",{style:{opacity:.6,fontSize:"0.9em",marginLeft:"6px"},children:["(",u.length,")"]}),s.jsx("span",{style:{marginLeft:"8px",fontSize:"0.8em",opacity:.5},children:j?"":""}),u.length>0&&u[0].fetchedAt&&s.jsx("span",{style:{fontSize:"0.65rem",marginLeft:"auto",padding:"2px 6px",borderRadius:"4px",background:Date.now()-u[0].fetchedAt<36e5?"rgba(0, 255, 0, 0.2)":"rgba(255, 165, 0, 0.2)",color:Date.now()-u[0].fetchedAt<36e5?"#4caf50":"#ffa726",border:"1px solid currentColor",fontWeight:"normal"},children:Date.now()-u[0].fetchedAt<3e5?"LIVE":le(u[0].fetchedAt)})]}),!j&&ne()]})}const bu=({sections:a})=>{const i=r=>{const o=document.getElementById(r);if(o){const h=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:h,behavior:"smooth"})}};return!a||a.length===0?null:s.jsx("div",{className:"section-navigator",children:a.map(({id:r,icon:o,label:u})=>s.jsx("button",{className:"section-navigator__btn",onClick:()=>i(r),title:u,children:s.jsx("span",{className:"section-navigator__icon",children:o})},r))})},bb=({items:a})=>{const[i,r]=_.useState(0);if(_.useEffect(()=>{if(!a||a.length<2)return;const u=setInterval(()=>{r(f=>(f+1)%a.length)},5e3);return()=>clearInterval(u)},[a]),!a||a.length===0)return null;const o=a[i];return s.jsxs("div",{className:"breaking-news-banner",children:[s.jsxs("div",{className:"breaking-label",children:[s.jsx("span",{className:"pulse-icon",children:""})," BREAKING"]}),s.jsxs("div",{className:"breaking-content",children:[s.jsx("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"breaking-link",children:o.title}),s.jsxs("span",{className:"breaking-time",children:[o.time,"  ",o.source]})]}),a.length>1&&s.jsx("div",{className:"breaking-controls",children:a.map((u,f)=>s.jsx("span",{className:`control-dot ${f===i?"active":""}`,onClick:()=>r(f)},f))})]})},Sb=({title:a,icon:i,actions:r,loadingPhase:o})=>{const u=a!=="Market Brief";return s.jsxs("header",{className:"header timeline-header",children:[u&&s.jsx("h1",{className:"header__title",style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"1.1rem"},children:s.jsx("span",{children:a})}),s.jsx(cp,{loadingPhase:o}),s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:r})]})};function wb(a){const i=a.filter(g=>g?.precipitation_probability!=null);if(i.length===0)return null;const r=i.map(g=>g.precipitation_probability),o=Math.round(r.reduce((g,p)=>g+p,0)/r.length),u=Math.min(...r),f=Math.max(...r),h=f-u,m=h>30;return{avg:o,min:u,max:f,range:h,isWideRange:m,displayString:`${m?"!":"~"}${o}% (${u}-${f}%)`,symbol:m?"!":"~",models:i.length}}function Jm(a){const i=a.filter(f=>f?.temperature_2m!=null);if(i.length===0)return null;let r=0,o=0;const u={ecmwf:1.2,icon:1,gfs:.8};return i.forEach(f=>{const h=u[f.modelName]||1;o+=f.temperature_2m*h,r+=h}),Math.round(r===0?i.reduce((f,h)=>f+h.temperature_2m,0)/i.length:o/r)}function Pm(a){const i=a.filter(o=>o?.apparent_temperature!=null);if(i.length===0)return null;const r=i.map(o=>o.apparent_temperature);return Math.round(r.reduce((o,u)=>o+u,0)/r.length)}function eg(a){const i=a.filter(h=>h?.weather_code!=null);if(i.length===0)return null;const r=i.map(h=>h.weather_code),o={};r.forEach(h=>{o[h]=(o[h]||0)+1});let u=0,f=r[0];for(const[h,m]of Object.entries(o))m>u&&(u=m,f=parseInt(h));return f}function jb(a){const i=a.filter(f=>f?.precipitation!=null);if(i.length===0)return 0;let r=0,o=0;const u={ecmwf:1.2,icon:1,gfs:.8};return i.forEach(f=>{const h=u[f.modelName]||1;o+=f.precipitation*h,r+=h}),r===0?0:parseFloat((o/r).toFixed(1))}function pp(a){return Object.entries(a).filter(([i,r])=>r!==null).map(([i,r])=>i)}function yp(a){const i={ecmwf:"ECMWF",gfs:"GFS",icon:"ICON"};return a.map(r=>i[r]||r).join(", ")}function _b(a,i,r,o){const u=Eb(i),f=Nb(a),h=`${u}_${f}`,m={night_cloudy:"day_overcast",night_overcast:"day_overcast",night_fog:"day_fog",night_drizzle:"day_drizzle",night_lightRain:"day_lightRain",night_rain:"day_rain",night_heavyRain:"day_heavyRain",night_storm:"day_storm",night_snow:"day_snow",night_wind:"day_wind",dawn_partlyCloudy:"day_partlyCloudy",dawn_cloudy:"day_cloudy",dawn_rain:"day_rain",dusk_partlyCloudy:"day_partlyCloudy",dusk_cloudy:"day_cloudy",dusk_rain:"day_rain"};return m[h]?m[h]:h}function Eb(a){return a>=6&&a<8?"dawn":a>=8&&a<17?"day":a>=17&&a<19?"dusk":"night"}function Nb(a){return a===0||a<=1?"clear":a===2?"partlyCloudy":a===3?"overcast":a>=45&&a<=48?"fog":a>=51&&a<=55||a>=56&&a<=57?"drizzle":a===61?"lightRain":a===63?"rain":a===65?"heavyRain":a>=66&&a<=67?"rain":a>=71&&a<=77?"snow":a>=80&&a<=82?"rain":a===85||a===86?"snow":a>=95&&a<=99?"storm":"cloudy"}const vp={ecmwf:"https://api.open-meteo.com/v1/ecmwf",gfs:"https://api.open-meteo.com/v1/gfs",icon:"https://api.open-meteo.com/v1/dwd-icon"},tg={chennai:{lat:13.0827,lon:80.2707},trichy:{lat:10.7905,lon:78.7047},muscat:{lat:23.5859,lon:58.4059}};async function Cb(a){const i=a.toLowerCase();if(tg[i])return tg[i];try{const r=JSON.parse(localStorage.getItem("weather_geo_cache")||"{}");if(r[i])return r[i]}catch{console.warn("Geocode cache read failed")}try{console.log(`[WeatherService] Geocoding ${a}...`);const o=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(a)}&count=1&language=en&format=json`)).json();if(o.results&&o.results.length>0){const u={lat:o.results[0].latitude,lon:o.results[0].longitude};try{const f=JSON.parse(localStorage.getItem("weather_geo_cache")||"{}");f[i]=u,localStorage.setItem("weather_geo_cache",JSON.stringify(f))}catch{}return u}}catch(r){console.error("Geocoding failed:",r)}throw new Error(`Location not found: ${a}`)}async function Tb(a,i,r){const o=vp[a];if(!o)throw new Error(`Unknown model: ${a}`);const u=new URLSearchParams({latitude:i,longitude:r,current:"temperature_2m,weather_code,apparent_temperature,relative_humidity_2m,wind_speed_10m,wind_direction_10m",hourly:"temperature_2m,precipitation_probability,precipitation,weather_code,apparent_temperature,relative_humidity_2m,wind_speed_10m,wind_direction_10m,uv_index,cloud_cover,visibility,dew_point_2m",daily:"precipitation_probability_max,precipitation_sum,uv_index_max",timezone:"auto"}),f=`${o}?${u}`;console.log(`[WeatherService] Fetching ${a.toUpperCase()}...`);const h=await fetch(f);if(!h.ok)throw new Error(`${a.toUpperCase()} API request failed: ${h.status}`);const m=await h.json();return console.log(`[WeatherService]  ${a.toUpperCase()}: Success`),m}async function Ab(a){const i=Date.now();let r,o;try{const m=await Cb(a);r=m.lat,o=m.lon}catch{throw new Error(`Unknown location: ${a}`)}const f=Le().weather?.models||{ecmwf:!0,gfs:!0,icon:!0},h=Object.keys(vp).filter(m=>f[m]!==!1);h.length===0&&(console.warn("[WeatherService] No models enabled, using all models"),h.push("ecmwf","gfs","icon")),console.log(`[WeatherService] Fetching from models: ${h.join(", ")}`);try{const m=await Promise.allSettled(h.map(v=>Tb(v,r,o))),g={};h.forEach((v,w)=>{g[v]=m[w].status==="fulfilled"?m[w].value:null,m[w].status==="rejected"&&console.warn(`[WeatherService]  ${v.toUpperCase()} failed:`,m[w].reason?.message)});const p=pp(g);if(p.length===0)throw new Error("All weather models failed to fetch data");const x=Date.now()-i;return console.log(`[WeatherService]  ${p.length}/${h.length} models succeeded: ${yp(p)}`),an.success("weather",`${a}: ${p.length}/${h.length} models OK`,{durationMs:x}),Mb(g,a)}catch(m){throw console.error(`[WeatherService]  Error fetching weather for ${a}:`,m),an.error("weather",`${a}: ${m.message}`,{durationMs:Date.now()-i}),m}}function Mb(a,i){const r=[a.ecmwf?.current,a.gfs?.current,a.icon?.current].filter(Boolean),o=($,M)=>_b($,M??new Date().getHours()),u=$=>$<=1?"":$<=3?"":$<=67?"":$<=99?"":"",f={0:"Clear",1:"Mainly Clear",2:"Partly Cloudy",3:"Overcast",45:"Fog",48:"Fog",51:"Light Drizzle",61:"Light Rain",63:"Rain",65:"Heavy Rain",80:"Rain Showers",95:"Thunderstorm"},h=$=>f[$]||"Unknown",m=($,M)=>{const Z=[];for(let me=$;me<=M;me++)Z.push(me);const S=[];a.ecmwf?.hourly&&S.push(a.ecmwf.hourly),a.gfs?.hourly&&S.push(a.gfs.hourly),a.icon?.hourly&&S.push(a.icon.hourly);const A={},O=[],F=[],ee=[],oe=[],de=[],we=[],je=[],at=[],Dt=[];Z.forEach(me=>{a.ecmwf?.hourly?.precipitation_probability?.[me]!=null&&(A.ecmwf||(A.ecmwf=[]),A.ecmwf.push(a.ecmwf.hourly.precipitation_probability[me])),a.gfs?.hourly?.precipitation_probability?.[me]!=null&&(A.gfs||(A.gfs=[]),A.gfs.push(a.gfs.hourly.precipitation_probability[me])),a.icon?.hourly?.precipitation_probability?.[me]!=null&&(A.icon||(A.icon=[]),A.icon.push(a.icon.hourly.precipitation_probability[me]));const qe=S.map(xe=>({modelName:xe._modelName,temperature_2m:xe.temperature_2m?.[me],apparent_temperature:xe.apparent_temperature?.[me],precipitation:xe.precipitation?.[me],precipitation_probability:xe.precipitation_probability?.[me],weather_code:xe.weather_code?.[me],relative_humidity_2m:xe.relative_humidity_2m?.[me],wind_speed_10m:xe.wind_speed_10m?.[me],uv_index:xe.uv_index?.[me],cloud_cover:xe.cloud_cover?.[me]})),On=Jm(qe),dt=Pm(qe),et=jb(qe),Et=eg(qe);On!==null&&O.push(On),dt!==null&&F.push(dt),et!==null&&ee.push(et),Et!==null&&de.push(Et),qe.forEach(xe=>{xe.precipitation_probability!=null&&oe.push({precipitation_probability:xe.precipitation_probability}),xe.relative_humidity_2m!=null&&we.push(xe.relative_humidity_2m),xe.wind_speed_10m!=null&&je.push(xe.wind_speed_10m),xe.uv_index!=null&&at.push(xe.uv_index),xe.cloud_cover!=null&&Dt.push(xe.cloud_cover)})});const ve=O.length>0?Math.round(O.reduce((me,qe)=>me+qe,0)/O.length):null,lt=F.length>0?Math.round(F.reduce((me,qe)=>me+qe,0)/F.length):ve,Vt=ee.reduce((me,qe)=>me+qe,0),Rl=wb(oe),kn=[];Object.values(A).forEach(me=>{if(me.length>0){const qe=Math.round(me.reduce((On,dt)=>On+dt,0)/me.length);kn.push(qe)}});let Ii=0,La=0,ua=0;kn.length>0&&(La=Math.min(...kn),ua=Math.max(...kn),Ii=ua-La);let Ua=Vt.toFixed(1)+"mm";Vt<1&&(Ua="-");const Ba=de.length>0?de[Math.floor(de.length/2)]:0,Nr=u(Ba),Cr=Math.floor(($+M)/2)%24,mt=o(Ba,Cr),Tr=we.length>0?Math.round(we.reduce((me,qe)=>me+qe,0)/we.length):null,qi=je.length>0?Math.round(je.reduce((me,qe)=>me+qe,0)/je.length):null,Gi=at.length>0?Math.max(...at):null,Ha=Dt.length>0?Math.round(Dt.reduce((me,qe)=>me+qe,0)/Dt.length):null,Ar=Z.map((me,qe)=>{const On=a.ecmwf?"ecmwf":a.gfs?"gfs":"icon",dt=a[On]?.hourly;if(!dt)return null;const et=dt.temperature_2m?.[me],Et=dt.precipitation?.[me],xe=dt.precipitation_probability?.[me],$i=dt.weather_code?.[me],kl=me%24,Mr=kl>=12?"p":"a";return{time:`${kl%12===0?12:kl%12}${Mr}`,temp:et,precip:Et,prob:xe,icon:u($i),iconId:o($i,me%24)}}).filter(Boolean);return{temp:ve,feelsLike:lt,icon:Nr,iconId:mt,rainMm:Ua,rainProb:Rl||{avg:0,min:0,max:0,displayString:"~0%",isWideRange:!1},probSpread:Ii,minModelAvg:La,maxModelAvg:ua,humidity:Tr,windSpeed:qi,uvIndex:Gi,cloudCover:Ha,hourly:Ar}},g=$=>{const M=$*24;return{morning:m(6+M,11+M),noon:m(12+M,16+M),evening:m(17+M,22+M)}},p=g(0),x=g(1),v=Jm(r),w=Pm(r),j=eg(r),E=r.length>0&&r[0].relative_humidity_2m!=null?Math.round(r.reduce(($,M)=>$+(M.relative_humidity_2m||0),0)/r.length):null,T=r.length>0&&r[0].wind_speed_10m!=null?Math.round(r.reduce(($,M)=>$+(M.wind_speed_10m||0),0)/r.length):null,k=r.length>0&&r[0].wind_direction_10m!=null?Math.round(r.reduce(($,M)=>$+(M.wind_direction_10m||0),0)/r.length):null,z=[a.ecmwf?.daily?.precipitation_probability_max?.[0],a.gfs?.daily?.precipitation_probability_max?.[0],a.icon?.daily?.precipitation_probability_max?.[0]].filter($=>$!=null),N=z.length>0?Math.round(z.reduce(($,M)=>$+M,0)/z.length):0,U=[a.ecmwf?.daily?.precipitation_sum?.[0],a.gfs?.daily?.precipitation_sum?.[0],a.icon?.daily?.precipitation_sum?.[0]].filter($=>$!=null),W=U.length>0?(U.reduce(($,M)=>$+M,0)/U.length).toFixed(1):0,Y=[a.ecmwf?.daily?.uv_index_max?.[0],a.gfs?.daily?.uv_index_max?.[0],a.icon?.daily?.uv_index_max?.[0]].filter($=>$!=null),te=Y.length>0?Math.round(Y.reduce(($,M)=>$+M,0)/Y.length):null,P=pp(a),J=new Date().getHours(),le=[];a.ecmwf?.hourly&&le.push(a.ecmwf.hourly),a.gfs?.hourly&&le.push(a.gfs.hourly),a.icon?.hourly&&le.push(a.icon.hourly);const ie=[],ne=[],I=$=>{const M=J+$,Z=(J+$)%24,S=le.map(ve=>ve.temperature_2m?.[M]).filter(ve=>ve!=null),A=le.map(ve=>ve.precipitation?.[M]).filter(ve=>ve!=null),O=le.map(ve=>ve.precipitation_probability?.[M]).filter(ve=>ve!=null),F=le.map(ve=>ve.weather_code?.[M]).filter(ve=>ve!=null),ee=le.map(ve=>ve.cloud_cover?.[M]).filter(ve=>ve!=null),oe=S.length>0?Math.round(S.reduce((ve,lt)=>ve+lt,0)/S.length):null,de=A.length>0?parseFloat((A.reduce((ve,lt)=>ve+lt,0)/A.length).toFixed(1)):0,we=O.length>0?Math.round(O.reduce((ve,lt)=>ve+lt,0)/O.length):0,je=F.length>0?F[Math.floor(F.length/2)]:0,at=ee.length>0?Math.round(ee.reduce((ve,lt)=>ve+lt,0)/ee.length):0;return{hour:Z,label:$===0?"Now":(ve=>{const lt=ve>=12?"p":"a";return`${ve%12===0?12:ve%12}${lt}`})(Z),temp:oe,precip:de,prob:we,cloud:at,icon:u(je),iconId:o(je,Z),code:je}};for(let $=0;$<24;$+=3)ie.push(I($));for(let $=0;$<8;$++)ne.push(I($));const re=[a.ecmwf?.daily?.temperature_2m_max?.[0],a.gfs?.daily?.temperature_2m_max?.[0],a.icon?.daily?.temperature_2m_max?.[0]].filter($=>$!=null),se=[a.ecmwf?.daily?.temperature_2m_min?.[0],a.gfs?.daily?.temperature_2m_min?.[0],a.icon?.daily?.temperature_2m_min?.[0]].filter($=>$!=null);let ae=re.length>0?Math.round(re.reduce(($,M)=>$+M,0)/re.length):null,L=se.length>0?Math.round(se.reduce(($,M)=>$+M,0)/se.length):null;ae===null&&ie.length>0&&(ae=Math.max(...ie.map($=>$.temp||-999)),ae===-999&&(ae=null)),L===null&&ie.length>0&&(L=Math.min(...ie.map($=>$.temp||999)),L===999&&(L=null));let X="";return parseFloat(W)>0&&(X+=`Today's max rain probability: ${N}%. Total precip: ${W}mm. `),X+=`Condition: ${h(j)}. UV Index: ${te||"N/A"}.`,{name:i.charAt(0).toUpperCase()+i.slice(1),icon:i==="muscat"?"":"",fetchedAt:Date.now(),models:{successful:P,count:P.length,names:yp(P)},current:{temp:v,feelsLike:w,high:ae,low:L,condition:h(j),icon:u(j),iconId:o(j,new Date().getHours()),humidity:E,windSpeed:T,windDirection:k},morning:p.morning,noon:p.noon,evening:p.evening,tomorrow:x,hourly24:ie,next8Hours:ne,summary:X}}const xp=_.createContext();function Rb({children:a}){const{settingsVersion:i}=pt(),r=_.useRef(i),[o,u]=_.useState(null),[f,h]=_.useState(!0),[m,g]=_.useState(null),[p,x]=_.useState(0),v=_.useCallback(async(w=!1)=>{const j=Le(),E=(j?.weatherFreshnessLimit||4)*60*60*1e3;if(!w&&o){const T=Date.now()-p;if(T<900*1e3)return;j?.strictFreshness&&T>E&&u(null)}if(h(!0),j?.sections?.weather===!1){h(!1);return}try{const T=j?.weather?.cities||["chennai","trichy","muscat"],k=await Promise.allSettled(T.map(N=>Ab(N))),z={};T.forEach((N,U)=>{z[N]=k[U].status==="fulfilled"?k[U].value:null}),u(z),x(Date.now()),g(null)}catch(T){console.error("Weather Context Error:",T),g(T),u(null)}finally{h(!1)}},[o,p]);return _.useEffect(()=>{v()},[v]),_.useEffect(()=>{r.current!==i&&(r.current=i,v(!0))},[i,v]),s.jsx(xp.Provider,{value:{weatherData:o,loading:f,error:m,refreshWeather:v},children:a})}function jr(){return _.useContext(xp)}const ng=32,lu={day_clear:s.jsxs("g",{children:[s.jsx("circle",{cx:"16",cy:"16",r:"6",fill:"#FFD93D"}),[0,45,90,135,180,225,270,315].map(a=>s.jsx("line",{x1:"16",y1:"4",x2:"16",y2:"7",stroke:"#FFD93D",strokeWidth:"2",strokeLinecap:"round",transform:`rotate(${a} 16 16)`},a))]}),night_clear:s.jsxs("g",{children:[s.jsx("path",{d:"M20 6 A10 10 0 1 0 26 20 A7 7 0 1 1 20 6Z",fill:"#B8C5E8"}),s.jsx("circle",{cx:"24",cy:"7",r:"1",fill:"#FFE"}),s.jsx("circle",{cx:"27",cy:"12",r:"0.7",fill:"#FFE"})]}),dawn_clear:s.jsxs("g",{children:[s.jsx("rect",{x:"0",y:"22",width:"32",height:"10",fill:"#FF9F43",opacity:"0.3",rx:"2"}),s.jsx("circle",{cx:"16",cy:"22",r:"6",fill:"#FFD93D"}),[0,30,60,90,120,150,180].map(a=>s.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"12",stroke:"#FFD93D",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 16 22)`},a))]}),dusk_clear:s.jsxs("g",{children:[s.jsx("rect",{x:"0",y:"22",width:"32",height:"10",fill:"#E74C3C",opacity:"0.25",rx:"2"}),s.jsx("circle",{cx:"16",cy:"22",r:"6",fill:"#FF6B6B"}),[0,30,60,90,120,150,180].map(a=>s.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"12",stroke:"#FF6B6B",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 16 22)`},a))]}),day_partlyCloudy:s.jsxs("g",{children:[s.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#FFD93D"}),[0,60,120,180,240,300].map(a=>s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"3",stroke:"#FFD93D",strokeWidth:"1.5",strokeLinecap:"round",transform:`rotate(${a} 12 12)`},a)),s.jsx("ellipse",{cx:"20",cy:"22",rx:"9",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"17",cy:"19",rx:"5",ry:"4",fill:"#DFE6ED"})]}),night_partlyCloudy:s.jsxs("g",{children:[s.jsx("path",{d:"M10 6 A6 6 0 1 0 14 12 A4 4 0 1 1 10 6Z",fill:"#B8C5E8"}),s.jsx("ellipse",{cx:"20",cy:"22",rx:"9",ry:"5",fill:"#636E83"}),s.jsx("ellipse",{cx:"17",cy:"19",rx:"5",ry:"4",fill:"#778CA3"})]}),day_cloudy:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"20",rx:"11",ry:"6",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"15",rx:"6",ry:"5",fill:"#DFE6ED"}),s.jsx("ellipse",{cx:"20",cy:"16",rx:"5",ry:"4",fill:"#DFE6ED"})]}),day_overcast:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"20",rx:"12",ry:"6",fill:"#99A4B2"}),s.jsx("ellipse",{cx:"12",cy:"15",rx:"7",ry:"5",fill:"#A4B0BE"}),s.jsx("ellipse",{cx:"21",cy:"16",rx:"5",ry:"4",fill:"#A4B0BE"})]}),day_fog:s.jsxs("g",{children:[[14,18,22].map((a,i)=>s.jsx("line",{x1:"4",y1:a,x2:"28",y2:a,stroke:"#B0BEC5",strokeWidth:"2.5",strokeLinecap:"round",opacity:.5+i*.15},i)),s.jsx("circle",{cx:"16",cy:"9",r:"4",fill:"#FFD93D",opacity:"0.4"})]}),day_drizzle:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"14",rx:"10",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"11",rx:"5",ry:"4",fill:"#DFE6ED"}),[10,16,22].map((a,i)=>s.jsx("line",{x1:a,y1:"21",x2:a-1,y2:"25",stroke:"#74B9FF",strokeWidth:"1.5",strokeLinecap:"round"},i))]}),day_lightRain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"13",rx:"10",ry:"5",fill:"#B0BEC5"}),s.jsx("ellipse",{cx:"12",cy:"10",rx:"5",ry:"4",fill:"#C8D6E5"}),[9,14,19,24].map((a,i)=>s.jsx("line",{x1:a,y1:"20",x2:a-1.5,y2:"26",stroke:"#74B9FF",strokeWidth:"1.5",strokeLinecap:"round"},i))]}),day_rain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"12",rx:"11",ry:"5",fill:"#99A4B2"}),s.jsx("ellipse",{cx:"12",cy:"9",rx:"6",ry:"4",fill:"#A4B0BE"}),[8,13,18,23].map((a,i)=>s.jsx("line",{x1:a,y1:"19",x2:a-2,y2:"27",stroke:"#0984E3",strokeWidth:"2",strokeLinecap:"round"},i))]}),day_heavyRain:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"11",rx:"12",ry:"5",fill:"#636E72"}),s.jsx("ellipse",{cx:"12",cy:"8",rx:"6",ry:"4",fill:"#778CA3"}),[7,12,17,22,27].map((a,i)=>s.jsx("line",{x1:a,y1:"18",x2:a-3,y2:"28",stroke:"#0984E3",strokeWidth:"2.5",strokeLinecap:"round"},i))]}),day_storm:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"10",rx:"12",ry:"5",fill:"#4A4A4A"}),s.jsx("ellipse",{cx:"12",cy:"7",rx:"6",ry:"4",fill:"#636E72"}),s.jsx("polygon",{points:"17,14 13,22 16,22 14,29 21,20 17,20 19,14",fill:"#FDCB6E"}),[8,24].map((a,i)=>s.jsx("line",{x1:a,y1:"17",x2:a-2,y2:"25",stroke:"#0984E3",strokeWidth:"2",strokeLinecap:"round"},i))]}),day_snow:s.jsxs("g",{children:[s.jsx("ellipse",{cx:"16",cy:"13",rx:"10",ry:"5",fill:"#C8D6E5"}),s.jsx("ellipse",{cx:"12",cy:"10",rx:"5",ry:"4",fill:"#DFE6ED"}),[10,16,22].map((a,i)=>s.jsx("text",{x:a,y:25,textAnchor:"middle",fontSize:"6",fill:"#74B9FF",children:"*"},i))]}),day_wind:s.jsxs("g",{children:[s.jsx("path",{d:"M4 14 Q12 10, 20 14 Q26 16, 28 12",fill:"none",stroke:"#78909C",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M6 20 Q14 16, 22 20 Q27 22, 29 18",fill:"none",stroke:"#90A4AE",strokeWidth:"1.8",strokeLinecap:"round"}),s.jsx("path",{d:"M8 26 Q15 22, 24 26",fill:"none",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round"})]})},kb={night_cloudy:"day_overcast",night_overcast:"day_overcast",night_fog:"day_fog",night_drizzle:"day_drizzle",night_lightRain:"day_lightRain",night_rain:"day_rain",night_heavyRain:"day_heavyRain",night_storm:"day_storm",night_snow:"day_snow",night_wind:"day_wind",dawn_partlyCloudy:"day_partlyCloudy",dawn_cloudy:"day_cloudy",dawn_rain:"day_rain",dusk_partlyCloudy:"day_partlyCloudy",dusk_cloudy:"day_cloudy",dusk_rain:"day_rain"};function gr({id:a,size:i=32,className:r=""}){const o=lu[a]||lu[kb[a]]||lu.day_cloudy;return s.jsx("svg",{viewBox:`0 0 ${ng} ${ng}`,width:i,height:i,className:r,"aria-label":a?.replace(/_/g," "),children:o})}const _r=24,bp=({size:a=_r,className:i=""})=>s.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"currentColor",className:i,style:{color:"#60a5fa",verticalAlign:"middle"},children:[s.jsx("path",{d:"M12,2 C12,2 7,7 7,10 C7,12.76 9.24,15 12,15 C14.76,15 17,12.76 17,10 C17,7 12,2 12,2 Z",opacity:"0.9"}),s.jsx("path",{d:"M6,12 C6,12 4,14 4,15.5 C4,16.6 4.9,17.5 6,17.5 C7.1,17.5 8,16.6 8,15.5 C8,14 6,12 6,12 Z",opacity:"0.7"}),s.jsx("path",{d:"M18,12 C18,12 16,14 16,15.5 C16,16.6 16.9,17.5 18,17.5 C19.1,17.5 20,16.6 20,15.5 C20,14 18,12 18,12 Z",opacity:"0.7"})]}),Sp=({size:a=_r,className:i=""})=>s.jsx("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,style:{color:"#cbd5e1",verticalAlign:"middle"},children:s.jsx("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})}),Ob=({size:a=_r,className:i="",color:r="currentColor"})=>s.jsxs("svg",{viewBox:"0 0 24 24",width:a,height:a,fill:r,className:i,children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12h20c0-5.52-4.48-10-10-10z",opacity:"1"}),s.jsx("path",{d:"M11 12h2v7c0 1.1.9 2 2 2s2-.9 2-2h-2c0 .55-.45 1-1 1s-1-.45-1-1v-7z",opacity:"0.8"})]}),ag=({size:a=_r,className:i="",color:r="currentColor"})=>s.jsx("svg",{viewBox:"0 0 24 24",width:a,height:a,fill:r,className:i,children:s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"})}),lg=()=>{const{weatherData:a,loading:i,error:r}=jr(),[o,u]=_.useState(()=>{try{return localStorage.getItem("weather_active_city")||"chennai"}catch{return"chennai"}});if(_.useEffect(()=>{try{localStorage.setItem("weather_active_city",o)}catch{}},[o]),i)return s.jsx("div",{className:"quick-weather-card qw-bg-day",children:s.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Loading weather..."})});if(r||!a)return s.jsx("div",{className:"quick-weather-card qw-bg-night",children:s.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Weather unavailable"})});const{settings:f}=pt(),h=(f.weather?.cities||["chennai","trichy","muscat"]).map(E=>E.toLowerCase()),m={chennai:"Chennai",trichy:"Trichy",muscat:"Muscat",[h[2]]:h[2].charAt(0).toUpperCase()+h[2].slice(1)},g={chennai:"",trichy:"",muscat:"",[h[2]]:""},p=new Date().getHours();let x="qw-bg-day";p>=6&&p<11?x="qw-bg-morning":p>=11&&p<17?x="qw-bg-day":p>=17&&p<20?x="qw-bg-evening":x="qw-bg-night";const v=a[o],w=zb(v),j=Lb(v);return s.jsxs("section",{className:`quick-weather-card ${x}`,children:[s.jsx("div",{className:"qw-cities-grid",children:h.map(E=>{const T=a[E];if(!T?.current)return null;const k=T.current,z=E===o;return s.jsxs("div",{className:`qw-city-card ${z?"qw-city-card--active":""}`,onClick:()=>u(E),children:[s.jsxs("div",{className:"qw-city-header",children:[s.jsx("span",{className:"qw-city-icon",children:g[E]}),s.jsx("span",{className:"qw-city-name",children:m[E]})]}),s.jsxs("div",{className:"qw-city-temp-row",children:[s.jsxs("span",{className:"qw-city-temp",style:{fontSize:"0.9rem"},children:[k.temp,""]}),s.jsx("span",{className:"qw-city-weather-icon",children:k.iconId?s.jsx(gr,{id:k.iconId,size:48}):s.jsx("span",{style:{fontSize:"2.5rem"},children:k.icon})})]}),s.jsx("div",{className:"qw-city-condition",children:k.condition}),s.jsxs("div",{className:"qw-city-meta",children:[s.jsxs("span",{children:[s.jsx(bp,{size:"0.85em"})," ",k.humidity??"--","%"]}),s.jsxs("span",{children:[s.jsx(Sp,{size:"0.85em"})," ",k.windSpeed??"--"]})]})]},E)})}),v?.hourly24&&s.jsxs("div",{className:"qw-timeline-section",children:[s.jsx("div",{className:"qw-timeline-label",style:{fontWeight:600,fontSize:"0.85rem"},children:Db(v,m[o])}),s.jsx("div",{className:"qw-timeline-strip",children:v.hourly24.map((E,T)=>s.jsxs("div",{className:"qw-timeline-slot",children:[s.jsx("div",{className:"qw-slot-time",children:E.label}),s.jsx("div",{className:"qw-slot-icon",children:E.iconId?s.jsx(gr,{id:E.iconId,size:40}):E.icon}),s.jsxs("div",{className:"qw-slot-temp",style:{fontSize:"0.9rem"},children:[E.temp,""]}),E.precip>.5&&s.jsxs("div",{className:"qw-slot-rain",children:[E.precip,"mm"]})]},T))})]}),w&&s.jsxs("div",{className:"qw-headsup",children:[s.jsx("span",{className:"qw-headsup-icon",children:w.icon}),s.jsx("span",{children:w.message})]}),j&&s.jsxs("div",{className:"qw-severe",style:{background:"rgba(220,38,38,0.15)",border:"1px solid rgba(220,38,38,0.4)",borderRadius:"8px",padding:"8px 12px",margin:"8px 0 0",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.78rem",color:"#fca5a5"},children:[s.jsx("span",{style:{fontSize:"1.1rem"},children:""}),s.jsx("span",{children:j})]})]})};function Db(a,i){if(!a?.hourly24)return`${i}  Forecast`;const o=a.hourly24.filter(f=>f.precip>.5||f.prob>40),u=a.current;return o.length>=3?`${i}  Rainy spells ahead`:o.length>0?`${i}  Scattered showers`:u?.condition?`${i}  ${u.condition}`:`${i}  Clear Skies`}function zb(a){if(!a?.hourly24)return null;const r=a.hourly24.filter(w=>w.precip>.5||w.prob>40);if(r.length===0)return null;const o=r.reduce((w,j)=>w+(j.precip||0),0),u=Math.max(...r.map(w=>w.prob||0)),f=w=>{const j=w>=12?"p":"a";return`${w%12===0?12:w%12}${j}`},h=f(r[0].hour),m=r.length>1?f(r[r.length-1].hour):null;let g="Rain",p="";o>=10||u>=80?(g="Heavy rain",p=""):o<2&&u<50&&(g="Light showers possible",p="");const x=m?`${h}${m}`:`around ${h}`,v=o>.5?` (~${o.toFixed(1)}mm)`:"";return{icon:p,message:`${g} expected ${x}${v}`}}function Lb(a){if(!a?.hourly24)return null;const i=a.hourly24,r=i.filter(h=>h.precip>=10),o=i.filter(h=>h.prob>=80),u=i.map(h=>h.temp).filter(h=>h!=null),f=u.length>0?Math.max(...u):null;return r.length>0?`Heavy rainfall warning: ${r.reduce((m,g)=>m+g.precip,0).toFixed(1)}mm expected`:o.length>=2?"Thunderstorm activity likely in the next 24 hours":f!=null&&f>=42?`Extreme heat warning: Temperatures may reach ${f}C`:null}const ig={MORNING_WEATHER:{id:"morning_weather",name:"Morning Weather",icon:"",startHour:6,startMinute:55,endHour:7,endMinute:0,sections:["weather"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}},MORNING_NEWS:{id:"morning_news",name:"Morning News",icon:"",startHour:7,startMinute:0,endHour:9,endMinute:0,sections:["weather","world","india","chennai","trichy","local","dtNext"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}},MARKET_BRIEF:{id:"market_brief",name:"Market Brief",icon:"",startHour:9,startMinute:0,endHour:11,endMinute:55,sections:["market","india","world"],recommended:{world:!0,india:!0,chennai:!1,trichy:!1,local:!1,social:!1,weather:!1,market:!0}},MIDDAY_BRIEF:{id:"midday_brief",name:"Midday Brief",icon:"",startHour:11,startMinute:55,endHour:14,endMinute:30,sections:["india","world","chennai","trichy"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!1,social:!1,weather:!0,market:!0}},MARKET_MOVERS:{id:"market_movers",name:"Market Movers",icon:"",startHour:14,startMinute:30,endHour:16,endMinute:20,sections:["market","india","world"],recommended:{world:!0,india:!0,chennai:!1,trichy:!1,local:!1,social:!1,weather:!1,market:!0}},EVENING_NEWS:{id:"evening_news",name:"Evening News",icon:"",startHour:16,startMinute:20,endHour:16,endMinute:45,sections:["world","india","chennai","trichy","local","social"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!0}},LOCAL_EVENTS:{id:"local_events",name:"Local Events",icon:"",startHour:16,startMinute:45,endHour:19,endMinute:30,sections:["chennai","trichy","local","social"],recommended:{world:!1,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!1}},NIGHT_WRAP_UP:{id:"night_wrap_up",name:"Night Wrap-Up",icon:"",startHour:19,startMinute:30,endHour:20,endMinute:0,sections:["world","india","chennai","trichy","local","social","market"],recommended:{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!0,weather:!0,market:!0}},URGENT_ONLY:{id:"urgent_only",name:"Urgent Alerts Only",icon:"",startHour:20,startMinute:0,endHour:6,endMinute:55,sections:["urgent"],recommended:{world:!1,india:!1,chennai:!1,trichy:!1,local:!1,social:!1,weather:!0,market:!1}}};function ur(a=new Date){const i=a.getHours(),r=a.getMinutes(),o=i*60+r,u=Object.values(ig);for(const f of u){const h=f.startHour*60+f.startMinute;let m=f.endHour*60+f.endMinute;if(f.id==="urgent_only"){if(o>=h||o<m)return f}else if(o>=h&&o<m)return f}return ig.URGENT_ONLY}function sg(a){return a?.recommended||{world:!0,india:!0,chennai:!0,trichy:!0,local:!0,social:!1,weather:!0,market:!1}}function Ub(a){if(!a)return"Welcome to Daily Event AI";switch(a.id){case"morning_weather":return"Good Morning! Here's your weather start.";case"morning_news":return"Your Morning Headlines are ready.";case"market_brief":return"Market Open: Sensex & Nifty Updates.";case"midday_brief":return"Midday Update: Top stories so far.";case"market_movers":return"Market Movers: Gainers & Losers.";case"evening_news":return"Evening Wrap: Catch up on the day.";case"local_events":return"How your evening looks around town.";case"night_wrap_up":return"The Day in Review.";case"urgent_only":return"Urgent Updates Only.";default:return"Daily Event AI: Live Updates."}}function Bb({breakingNews:a}){const i=ur(),r=new Date;return s.jsxs("div",{className:"newspaper-masthead",children:[s.jsxs("div",{className:"masthead__header",children:[s.jsxs("div",{className:"masthead__title",children:[s.jsx("h1",{className:"masthead__logo",children:"Daily News AI"}),s.jsx("div",{className:"masthead__tagline",children:"Your Intelligent News Digest"})]}),s.jsxs("div",{className:"masthead__meta",children:[s.jsx("div",{className:"masthead__date",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("div",{className:"masthead__segment",children:i.name})]})]}),a?.length>0&&s.jsxs("div",{className:"masthead__breaking",children:[s.jsx("span",{className:"breaking-badge",children:"BREAKING"}),s.jsx("span",{className:"breaking-text",children:a[0].title})]})]})}function dr({article:a,size:i="medium",onClick:r,href:o,badge:u}){const{settings:f}=pt(),[h,m]=_.useState(!1),[g,p]=_.useState(!1),[x,v]=_.useState(!1);`${encodeURIComponent(a.source)}`;const w=a.imageUrl&&!h,j=o?"a":"article",E=o?{href:o,target:"_blank",rel:"noopener noreferrer"}:{};return s.jsxs(j,{className:`image-card image-card--${i}`,onClick:r,...E,style:{position:"relative"},children:[f?.debugLogs&&a._scoreBreakdown&&s.jsxs("div",{className:"debug-badge",onClick:T=>{T.preventDefault(),T.stopPropagation(),v(!x)},style:{position:"absolute",top:"5px",right:"5px",zIndex:20,background:"rgba(0,0,0,0.7)",color:"#00ff41",fontSize:"0.6rem",padding:"2px 4px",borderRadius:"4px",cursor:"help",border:"1px solid #00ff41"},children:[a._scoreBreakdown.total.toFixed(1),x&&s.jsx("div",{style:{position:"absolute",top:"100%",right:0,width:"200px",background:"#111",border:"1px solid #333",padding:"8px",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",pointerEvents:"none"},children:Object.entries(a._scoreBreakdown).map(([T,k])=>T!=="total"&&typeof k=="number"&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2px"},children:[s.jsx("span",{style:{color:"#aaa",textTransform:"capitalize"},children:T}),s.jsx("span",{style:{color:"#fff"},children:k.toFixed(2)})]},T))})]}),w&&s.jsxs("div",{className:"image-card__media",children:[!g&&s.jsx("div",{className:"image-card__skeleton"}),s.jsx("img",{src:a.imageUrl,alt:a.title,className:`image-card__image ${g?"loaded":""}`,onLoad:()=>p(!0),onError:()=>m(!0),loading:"lazy"}),u&&s.jsx("div",{className:"image-card__badge",children:u}),s.jsx("div",{className:"image-card__overlay",children:s.jsx("span",{className:"image-card__source",children:a.source})})]}),s.jsxs("div",{className:"image-card__content",children:[s.jsx("h3",{className:"image-card__headline",children:a.title}),a.summary&&s.jsxs("p",{className:"image-card__summary",children:[a.summary.substring(0,150),"..."]}),s.jsxs("div",{className:"image-card__meta",children:[s.jsx("span",{className:"meta__time",children:a.time}),a.sentiment&&s.jsx("span",{className:`meta__sentiment meta__sentiment--${a.sentiment.label}`,children:a.sentiment.label==="positive"?"":a.sentiment.label==="negative"?"":""})]})]})]})}function Hb({newsData:a,breakingNews:i,settings:r}){const{settings:o}=pt(),u=Object.entries(a).filter(([v,w])=>v!=="frontPage"&&o?.sections?.[v]?.enabled!==!1).map(([v,w])=>{const j=o?.sections?.[v]?.count;return typeof j=="number"?w.slice(0,j):w}).flat();let f=u;if(a.frontPage&&Array.isArray(a.frontPage)){const v=new Set(a.frontPage.map(j=>j.title)),w=u.filter(j=>!v.has(j.title));f=[...a.frontPage,...w]}const h=f.filter(v=>v.imageUrl),m=f.filter(v=>!v.imageUrl),g=h.slice(0,r?.headlinesCount||3),p=h.slice(3,3+(r?.leadsCount||6)),x=m.slice(0,r?.briefsCount||12);return s.jsxs("div",{className:"newspaper-layout",children:[s.jsx(Bb,{breakingNews:i}),g.length>0&&s.jsxs("section",{className:"headlines-zone",children:[s.jsx("h2",{className:"zone-title",children:" Top Stories"}),s.jsxs("div",{className:"headlines-grid",children:[g[0]&&s.jsx("div",{className:"headline-lead",children:s.jsx(dr,{article:g[0],size:"large",onClick:()=>window.open(g[0].link,"_blank")})}),g.length>1&&s.jsx("div",{className:"headline-supporting",children:g.slice(1).map(v=>s.jsx(dr,{article:v,size:"medium",onClick:()=>window.open(v.link,"_blank")},v.id))})]})]}),p.length>0&&s.jsxs("section",{className:"leads-zone",children:[s.jsx("h2",{className:"zone-title",children:" More From Today"}),s.jsx("div",{className:"leads-scroll",children:p.map(v=>s.jsx(dr,{article:v,size:"medium",onClick:()=>window.open(v.link,"_blank")},v.id))})]}),x.length>0&&s.jsxs("section",{className:"briefs-zone",children:[s.jsx("h2",{className:"zone-title",children:" News Briefs"}),s.jsx("div",{className:"briefs-list",children:x.map(v=>s.jsxs("article",{className:"brief-item",onClick:()=>window.open(v.link,"_blank"),children:[s.jsx("h4",{className:"brief-title",children:v.title}),s.jsxs("div",{className:"brief-meta",children:[s.jsx("span",{className:"brief-source",children:v.source}),s.jsx("span",{className:"brief-time",children:v.time})]})]},v.id))})]})]})}const Ib="https://en.wikipedia.org/api/rest_v1/feed/onthisday/selected",qb={fetchDailyFacts:async()=>{const a=new Date,i=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),o=`${Ib}/${i}/${r}`;try{console.log(`[QuickFacts] Fetching from ${o}`);const u=await fetch(o);if(!u.ok)throw new Error("Wiki API Failed");const f=await u.json();return!f.selected||f.selected.length===0?[]:f.selected.sort(()=>.5-Math.random()).slice(0,5).map(g=>({text:g.text,year:g.year,pages:g.pages}))}catch(u){return console.warn("[QuickFacts] Fetch failed:",u),[{year:"1969",text:"The internet (ARPANET) sent its first message."},{year:"1990",text:"The first web page was published by Tim Berners-Lee."},{year:"2004",text:"Facebook was launched by Mark Zuckerberg."}]}}},rg=["Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still edible.","Octopuses have three hearts. Two pump blood to the gills, while one pumps it to the rest of the body.","Bananas are berries, but strawberries aren't.","The Eiffel Tower can be 15 cm taller during the summer due to thermal expansion.","A group of flamingos is called a 'flamboyance'.","Wombat poop is cube-shaped.","The shortest war in history lasted 38 minutes between Britain and Zanzibar in 1896.","Cleopatra lived closer in time to the Moon landing than to the construction of the Great Pyramid of Giza.","Sloths can hold their breath longer than dolphins (up to 40 minutes).","A cloud can weigh more than a million pounds.","The first computer bug was an actual moth trapped in a relay of the Harvard Mark II computer in 1947."];async function Gb(){try{const a=await qb.fetchDailyFacts();if(a&&a.length>0){const i=a[Math.floor(Math.random()*a.length)];return{text:`On this day in ${i.year}: ${i.text}`,year:i.year,isDynamic:!0}}return null}catch(a){return console.warn("OnThisDay fetch failed:",a),null}}function $b(a){const i=[],r=new Set(["the","and","for","with","that","this","from","dead","kills","says","india","world","chennai","tamil","nadu"]),o=[...a.world||[],...a.india||[],...a.tech||[]];if(o.length===0)return null;o.forEach(m=>{if(!m.title)return;m.title.replace(/[^\w\s]/gi,"").toLowerCase().split(/\s+/).forEach(p=>{p.length>3&&!r.has(p)&&i.push(p)})});const u={};i.forEach(m=>u[m]=(u[m]||0)+1);const h=Object.entries(u).sort((m,g)=>g[1]-m[1]).slice(0,3).map(m=>m[0]);return h.length===0?null:{type:"TRENDING",icon:"",text:`Trending now: #${h.join(", #")}`}}function Yb(a){if(!a||Object.keys(a).length===0)return null;const i=Object.keys(a)[0],r=a[i];if(!r||!r.current)return null;const o=r.current.temp,u=r.current.condition.toLowerCase();let f="";return o>35?f=`It's a scorcher today at ${o}C. Stay hydrated!`:o<20?f=`Cooler vibes today at ${o}C.`:u.includes("rain")?f="Rainy skies today. Don't forget your umbrella.":f=`Currently ${o}C and ${u}. A pleasant day ahead?`,{type:"WEATHER INSIGHT",icon:"",text:f}}function Fb(a,i,r=null){const o=[];if(r&&r.isDynamic){const h={type:"ON THIS DAY",icon:"",text:r.text};o.push(h),o.push(h),o.push(h)}else o.push({type:"DID YOU KNOW?",icon:"",text:rg[Math.floor(Math.random()*rg.length)]});const u=$b(a);u&&o.push(u);const f=Yb(i);return f&&o.push(f),o[Math.floor(Math.random()*o.length)]}const Aa=[{start:"06:55",id:"morning_weather",label:"Morning Weather",name:"Morning Weather",icon:"",focus:"weather"},{start:"07:00",id:"morning_news",label:"Morning News",name:"Morning News",icon:"",focus:"news_top"},{start:"09:00",id:"market_brief",label:"Market Brief",name:"Market Brief",icon:"",focus:"market"},{start:"11:55",id:"midday_brief",label:"Midday Brief",name:"Midday Brief",icon:"",focus:"news_all"},{start:"14:30",id:"market_movers",label:"Market Movers",name:"Market Movers",icon:"",focus:"market"},{start:"16:20",id:"evening_news",label:"Evening News",name:"Evening News",icon:"",focus:"news_all"},{start:"16:45",id:"local_events",label:"Local Events",name:"Local Events",icon:"",focus:"local"},{start:"19:30",id:"night_wrap",label:"Night Wrap-Up",name:"Night Wrap-Up",icon:"",focus:"summary"},{start:"20:00",id:"urgent_only",label:"Urgent Alerts Only",name:"Urgent Alerts Only",icon:"",focus:"breaking"}];function og(){const a=new Date,i=a.getHours()*60+a.getMinutes();let r=Aa[Aa.length-1];for(let o=0;o<Aa.length;o++){const u=Aa[o],[f,h]=u.start.split(":").map(Number),m=f*60+h;if(i>=m)r=u;else break}return r}function Vb(){const a=new Date,i=a.getHours()*60+a.getMinutes();let r=null;for(const u of Aa){const[f,h]=u.start.split(":").map(Number);if(f*60+h>i){r=u;break}}let o=new Date(a);if(r){const[u,f]=r.start.split(":").map(Number);o.setHours(u,f,0,0)}else{const[u,f]=Aa[0].start.split(":").map(Number);o.setDate(o.getDate()+1),o.setHours(u,f,0,0)}return Math.max(0,o.getTime()-a.getTime())}function wp(a,i={}){Notification.permission==="granted"&&(navigator.serviceWorker&&navigator.serviceWorker.ready?navigator.serviceWorker.ready.then(r=>{r.showNotification(a,{icon:"./vite.svg",badge:"./vite.svg",vibrate:[200,100,200],requireInteraction:!0,...i})}):new Notification(a,{icon:"./vite.svg",...i}))}const jp=_.createContext();function Kb({children:a}){const[i,r]=_.useState(()=>og());return _.useEffect(()=>{let o;const u=()=>{const f=Vb()+2e3;console.log(`[Segment] Next switch in ${(f/6e4).toFixed(1)} min`),o=setTimeout(()=>{const h=og();console.log(`[Segment] Switching to ${h.label}`),r(h),wp(`${h.icon} ${h.label}`,{body:"New content available. Tap to refresh.",tag:"segment-update",renotify:!0}),u()},f)};return u(),()=>clearTimeout(o)},[]),s.jsx(jp.Provider,{value:{currentSegment:i,SEGMENTS:Aa},children:a})}function Xb(){return _.useContext(jp)}function Er(){const[a,i]=_.useState(!1),[r,o]=_.useState(!1),[u,f]=_.useState(!1),[h,m]=_.useState(typeof window<"u"?window.innerWidth:0);return _.useEffect(()=>{const g=()=>{const p=window.innerWidth;m(p);const x=p>=1024,v=p>=768&&p<1024;i(x),o(v),f(x),console.log(`[Layout] Width: ${p}px, Mode: ${x?"desktop":v?"tablet":"mobile"}`)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),{isDesktop:a,isTablet:r,isWebView:u,screenWidth:h}}const Qb=({threshold:a=0,root:i=null,rootMargin:r="0px",freezeOnceVisible:o=!0}={})=>{const[u,f]=_.useState(null),h=u?.isIntersecting&&o,m=_.useRef(null),g=([p])=>{f(p)};return _.useEffect(()=>{const p=m.current;if(!!!window.IntersectionObserver||h||!p)return;const v={threshold:a,root:i,rootMargin:r},w=new IntersectionObserver(g,v);return w.observe(p),()=>w.disconnect()},[m,a,i,r,h]),[m,u]},Wb=({children:a,onVisible:i,isLoaded:r,placeholderHeight:o="200px"})=>{const[u,f]=Qb({threshold:.1,rootMargin:"200px",freezeOnceVisible:!0});return _.useEffect(()=>{f?.isIntersecting&&i&&i()},[f,i]),r?s.jsx("div",{children:a}):s.jsx("div",{ref:u,style:{minHeight:o,display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},children:f?.isIntersecting?s.jsxs("div",{className:"loading-state",style:{opacity:.6},children:[s.jsx("div",{className:"loading-spinner",style:{border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid var(--accent-primary)",width:"24px",height:"24px",borderRadius:"50%",animation:"spin 1s linear infinite"}}),s.jsx("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Loading section..."}),s.jsx("style",{children:`
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    `})]}):null})};var _p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cg=Tn.createContext&&Tn.createContext(_p),Zb=["attr","size","title"];function Jb(a,i){if(a==null)return{};var r=Pb(a,i),o,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(u=0;u<f.length;u++)o=f[u],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(a,o)&&(r[o]=a[o])}return r}function Pb(a,i){if(a==null)return{};var r={};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)){if(i.indexOf(o)>=0)continue;r[o]=a[o]}return r}function pr(){return pr=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},pr.apply(this,arguments)}function ug(a,i){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);i&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),r.push.apply(r,o)}return r}function yr(a){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?ug(Object(r),!0).forEach(function(o){eS(a,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(r,o))})}return a}function eS(a,i,r){return i=tS(i),i in a?Object.defineProperty(a,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[i]=r,a}function tS(a){var i=nS(a,"string");return typeof i=="symbol"?i:i+""}function nS(a,i){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var o=r.call(a,i);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function Ep(a){return a&&a.map((i,r)=>Tn.createElement(i.tag,yr({key:r},i.attr),Ep(i.child)))}function za(a){return i=>Tn.createElement(aS,pr({attr:yr({},a.attr)},i),Ep(a.child))}function aS(a){var i=r=>{var{attr:o,size:u,title:f}=a,h=Jb(a,Zb),m=u||r.size||"1em",g;return r.className&&(g=r.className),a.className&&(g=(g?g+" ":"")+a.className),Tn.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,o,h,{className:g,style:yr(yr({color:a.color||r.color},r.style),a.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),f&&Tn.createElement("title",null,f),a.children)};return cg!==void 0?Tn.createElement(cg.Consumer,null,r=>i(r)):i(_p)}function lS(a){return za({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(a)}function iS(a){return za({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(a)}function sS(a){return za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function rS(a){return za({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(a)}function oS(a){return za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(a)}function cS(a){return za({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(a)}function uS(a){return za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(a)}const dS=({news:a=[],title:i="Global Headlines"})=>{if(!a||a.length===0)return null;const r=a.slice(0,10);return s.jsxs("div",{className:"card",style:{padding:"var(--spacing-md)",background:"var(--bg-card)",border:"1px solid var(--border-default)"},children:[s.jsx("h3",{style:{fontFamily:"'Playfair Display', serif",fontSize:"1.2rem",marginBottom:"var(--spacing-md)",paddingBottom:"var(--spacing-sm)",borderBottom:"2px solid var(--accent-primary)",color:"var(--text-primary)"},children:i}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:r.map((o,u)=>s.jsx("article",{style:{paddingBottom:"var(--spacing-sm)",borderBottom:"1px solid var(--border-default)"},children:s.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",display:"block"},children:[s.jsx("h4",{style:{fontSize:"0.95rem",fontWeight:"600",lineHeight:"1.4",marginBottom:"4px",color:"var(--text-primary)"},children:o.headline||o.title}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-muted)"},children:[s.jsx("span",{children:o.source}),s.jsx("span",{children:o.time||new Date(o.publishedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},u))}),s.jsx("div",{style:{marginTop:"var(--spacing-md)",textAlign:"center",fontSize:"0.8rem",color:"var(--accent-secondary)"},children:"Top Stories"})]})},fS=()=>{const{settings:a}=pt(),{currentSegment:i}=Xb(),[r,o]=_.useState(Notification.permission),[u,f]=_.useState(null),[h,m]=_.useState(null),{isWebView:g,isDesktop:p}=Er(),{weatherData:x,loading:v,refreshWeather:w}=jr(),{newsData:j,loading:E,errors:T,breakingNews:k,refreshNews:z,loadSection:N,loadedSections:U}=wr(),{sections:W,uiMode:Y="timeline"}=a,[te,P]=_.useState([]);_.useEffect(()=>{if(!j.frontPage){P([]);return}if(a.customSortTopStories){let $=j.frontPage.filter(Z=>!(Fx(Z.id)||ip(Z.id)>3));$.sort((Z,S)=>(S.impactScore||0)-(Z.impactScore||0));const M=10;if($.length<M){const Z=new Set($.map(O=>O.id)),S=j.frontPage.filter(O=>!Z.has(O.id));S.sort((O,F)=>(F.impactScore||0)-(O.impactScore||0));const A=M-$.length;$=[...$,...S.slice(0,A)]}P($)}else P(j.frontPage)},[j.frontPage,a.customSortTopStories]),_.useEffect(()=>{w(),z()},[i.id,z,w]),_.useEffect(()=>{Gb().then($=>{$&&m($)})},[]),_.useEffect(()=>{const $=j&&Object.keys(j).length>0,M=x&&Object.keys(x).length>0;($||M||h)&&f(Fb(j,x,h))},[E,v,j,x,h]);const[J,le]=_.useState(!1);_.useEffect(()=>{const $=()=>{window.scrollY>400?le(!0):le(!1)};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[]);const ie=()=>{window.scrollTo({top:0,behavior:"smooth"})};_.useEffect(()=>{let $=0,M=!1;const Z=O=>{window.scrollY===0&&($=O.touches[0].clientY,M=!0)},S=O=>{M&&O.touches[0].clientY},A=O=>{if(!M)return;O.changedTouches[0].clientY-$>150&&window.scrollY===0&&(z(),w()),M=!1};return p||(document.addEventListener("touchstart",Z),document.addEventListener("touchmove",S),document.addEventListener("touchend",A)),()=>{document.removeEventListener("touchstart",Z),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",A)}},[z,w,p]);const ne=v&&!x||E&&Object.keys(j).length===0,I=ne?1:3,re=Y==="timeline",se=Y==="newspaper",ae=i.id==="urgent_only",L=[{id:"world-news",icon:"",label:"World"},W.india?.enabled&&{id:"india-news",icon:"",label:"India"},W.chennai?.enabled&&{id:"chennai-news",icon:"",label:"Tamil Nadu"},W.local?.enabled&&{id:"local-news",icon:"",label:"Muscat"}].filter(Boolean),X=s.jsxs("div",{className:"header__actions",children:[s.jsx(sa,{to:"/refresh",className:"header__action-btn",children:""}),s.jsx(sa,{to:"/settings",className:"header__action-btn",children:""})]});return s.jsxs("div",{className:`page-container mode-${Y} ${g?"page-container--desktop":""}`,children:[re?s.jsx(Sb,{title:i.id==="market_brief"?"":i.label,icon:i.icon,actions:X,loadingPhase:I}):s.jsx(Ra,{title:i.label,icon:i.icon,actions:X,loadingPhase:I}),s.jsxs("main",{className:`main-content ${g?"main-content--desktop":""}`,children:[g&&s.jsxs("div",{className:"desktop-sidebar",children:[s.jsx(lg,{}),s.jsx(dS,{news:j.world&&j.world.length>0?j.world:j.chennai&&j.chennai.length>0?j.chennai:j.frontPage,title:"Global Headlines"})]}),s.jsxs("div",{className:"content-wrapper",children:[ne&&s.jsxs("div",{className:"loading",style:{padding:"40px"},children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Updates..."})]}),!re&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"topline",children:[s.jsxs("div",{className:"topline__label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:u?.icon||""}),s.jsx("span",{children:u?.type||"TOPLINE"})]}),s.jsx("div",{className:"topline__text",children:u?.text||Ub(i)})]}),s.jsx(bb,{items:k})]}),!g&&s.jsx(lg,{}),se?s.jsx(Hb,{newsData:j,breakingNews:k,settings:a.newspaper}):s.jsxs("div",{className:"news-sections news-sections--grid",children:[(!ae||k.length===0)&&s.jsxs(s.Fragment,{children:[te.length>0?s.jsx(nn,{id:"top-stories",title:"Top Stories",icon:"",colorClass:"news-section__title--world",news:te,maxDisplay:10}):a.customSortTopStories&&j.frontPage?.length>0&&s.jsxs("div",{className:"empty-state",style:{padding:"20px",marginBottom:"20px",background:"var(--bg-card)",borderRadius:"12px"},children:[s.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),s.jsx("p",{style:{color:"var(--text-muted)"},children:"You're all caught up with top stories!"}),s.jsx("button",{onClick:()=>z(),className:"btn btn--secondary",style:{marginTop:"10px",fontSize:"0.8rem",padding:"6px 12px"},children:"Check for new updates"})]}),s.jsx(nn,{id:"world-news",title:"Global Updates",icon:"",colorClass:"news-section__title--world",news:j.world,maxDisplay:W.world?.count||5}),W.india?.enabled&&s.jsx(nn,{id:"india-news",title:re?"India":"India News",icon:"",colorClass:"news-section__title--india",news:j.india,maxDisplay:W.india.count||5,error:T.india}),W.chennai?.enabled&&s.jsx(nn,{id:"chennai-news",title:"Tamil Nadu",icon:"",colorClass:"news-section__title--chennai",news:j.chennai,maxDisplay:W.chennai.count||5,error:T.chennai}),W.trichy?.enabled&&s.jsx(nn,{id:"trichy-news",title:"Trichy",icon:"",colorClass:"news-section__title--trichy",news:j.trichy,maxDisplay:W.trichy.count||5,error:T.trichy}),W.local?.enabled&&s.jsx(Wb,{id:"local-news",onVisible:()=>N("local"),isLoaded:U.includes("local"),children:s.jsx(nn,{id:"local-news",title:"Local  Muscat",icon:"",colorClass:"news-section__title--local",news:j.local,maxDisplay:W.local.count||5,error:T.local})})]}),ae&&k.length===0&&s.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:[s.jsx("h3",{children:"Urgent Alerts Mode"}),s.jsx("p",{children:"Monitoring for critical updates..."})]})]}),a.debugLogs&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"var(--spacing-md)",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:"var(--radius-sm)",fontSize:"0.7rem",color:"var(--text-muted)",flexWrap:"wrap"},children:[s.jsxs("span",{title:"Segment",children:[i.icon," ",i.label]}),s.jsx("span",{title:"Notifications",children:r==="granted"?"":""}),s.jsxs("span",{title:"UI Mode",children:[" ",Y]}),s.jsx("span",{title:"Strict Mode",children:a.strictFreshness?"":""}),s.jsx(sa,{to:"/settings",onClick:()=>{},style:{marginLeft:"auto",color:"var(--accent-primary)",fontSize:"0.7rem"},children:"Debug "})]})]})]}),s.jsx(bu,{sections:L}),s.jsx("button",{onClick:ie,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:J?1:0,pointerEvents:J?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},className:"back-to-top",children:""})]})};function hS(a="ua_watchlist"){const[i,r]=_.useState(()=>{try{return JSON.parse(localStorage.getItem(a))||[]}catch{return[]}});return{watchlist:i,toggleWatchlist:f=>{let h;i.includes(f)?h=i.filter(m=>m!==f):h=[...i,f],r(h),localStorage.setItem(a,JSON.stringify(h))},isWatched:f=>i.includes(f)}}const mS=(a,i)=>{const r=new Date,o=r.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",u=new Date(r.getTime()+3600*1e3).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",f=`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${a}
DESCRIPTION:${i}
DTSTART:${o}
DTEND:${u}
END:VEVENT
END:VCALENDAR`,h=new Blob([f],{type:"text/calendar"}),m=URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.download=`${a.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,g.click(),URL.revokeObjectURL(m)},Np={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},iu=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ka=Object.keys(Np).filter(a=>a.length>2).join("|"),gS=/\b(\d{4})-(\d{1,2})-(\d{1,2})\b/,pS=/\b(\d{1,2})[/-](\d{1,2})[/-](\d{4})\b/,yS=new RegExp(`\\b(${ka})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?(?:[,\\s-]+(\\d{4}))?\\b`,"i"),vS=new RegExp(`\\b(\\d{1,2})(?:st|nd|rd|th)?[-\\s]+(${ka})(?:[-\\s,]+(\\d{4}))?\\b`,"i"),xS=new RegExp(`\\b(${ka})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-|through)\\s*(${ka})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\b`,"i"),bS=new RegExp(`\\b(${ka})[-\\s]+(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-|through)\\s*(\\d{1,2})(?:st|nd|rd|th)?\\b`,"i"),SS=new RegExp(`\\b(\\d{1,2})(?:st|nd|rd|th)?\\s*(?:to||-)\\s*(\\d{1,2})(?:st|nd|rd|th)?[-\\s]+(${ka})\\b`,"i"),wS=/\bnext\s+(\d+)\s+(day|week)s?\b/,jS=new RegExp(`\\b(?:ends?|last date|deadline|valid (?:till|until)|expires?|before)\\s+(?:on\\s+)?(${ka})\\s+(\\d{1,2})(?:st|nd|rd|th)?(?:[,\\s]+(\\d{4}))?\\b`,"i");function Ma(a){return Np[a.toLowerCase().slice(0,3)]??null}function Cn(a,i,r){const o=new Date(r.getFullYear(),a,i);return o<r&&r-o>30*864e5&&o.setFullYear(o.getFullYear()+1),o}function _S(a,i){const r=a.match(gS);if(r)return{start:new Date(+r[1],+r[2]-1,+r[3]),end:null,type:"iso"};const o=a.match(pS);return o?{start:new Date(+o[3],+o[2]-1,+o[1]),end:null,type:"numeric"}:null}function ES(a,i){const r=a.match(yS);if(r){const u=Ma(r[1]),f=+r[2],h=r[3]?+r[3]:null;return{start:h?new Date(h,u,f):Cn(u,f,i),end:null,type:"named"}}const o=a.match(vS);if(o){const u=Ma(o[2]),f=+o[1],h=o[3]?+o[3]:null;return{start:h?new Date(h,u,f):Cn(u,f,i),end:null,type:"named"}}return null}function NS(a,i){const r=a.match(xS);if(r)return{start:Cn(Ma(r[1]),+r[2],i),end:Cn(Ma(r[3]),+r[4],i),type:"range"};const o=a.match(bS);if(o){const f=Ma(o[1]);return{start:Cn(f,+o[2],i),end:Cn(f,+o[3],i),type:"range"}}const u=a.match(SS);if(u){const f=Ma(u[3]);return{start:Cn(f,+u[1],i),end:Cn(f,+u[2],i),type:"range"}}return null}function CS(a,i){const r=a.toLowerCase();if(!/tomorrow|today|next|this|week|weekend/.test(r))return null;if(/\btomorrow\b/.test(r)){const u=new Date(i);return u.setDate(u.getDate()+1),{start:u,end:null,type:"relative"}}if(/\btoday\b/.test(r))return{start:new Date(i),end:null,type:"relative"};const o=r.match(wS);if(o){const u=+o[1],f=o[2]==="week"?7:1,h=new Date(i);return h.setDate(h.getDate()+u*f),{start:new Date(i),end:h,type:"relative"}}if(/\bnext week\b/.test(r)){const u=new Date(i);u.setDate(u.getDate()+(7-u.getDay()+1));const f=new Date(u);return f.setDate(f.getDate()+6),{start:u,end:f,type:"relative"}}for(let u=0;u<iu.length;u++){if(!r.includes(iu[u]))continue;if(new RegExp(`\\b(?:this|next|coming)\\s+${iu[u]}\\b`,"i").test(a)){const h=new Date(i);let m=(u-h.getDay()+7)%7;return m===0&&(m=7),h.setDate(h.getDate()+m),{start:h,end:null,type:"relative"}}}if(/\bthis weekend\b/.test(r)){const u=new Date(i);u.setDate(u.getDate()+(6-u.getDay()+7)%7);const f=new Date(u);return f.setDate(f.getDate()+1),{start:u,end:f,type:"relative"}}return null}function TS(a,i){const r=a.match(jS);if(r){const o=Ma(r[1]),u=+r[2],f=r[3]?+r[3]:null,h=f?new Date(f,o,u):Cn(o,u,i);return{start:new Date(i),end:h,type:"deadline"}}return null}function Su(a,i){if(!a)return null;const r=i?new Date(i):new Date;return isNaN(r.getTime())?null:_S(a)||NS(a,r)||TS(a,r)||ES(a,r)||CS(a,r)}function AS(a,i=14){if(!a?.start)return[];const r=[],o=new Date(a.start);o.setHours(0,0,0,0);const u=a.end?new Date(a.end):new Date(o);u.setHours(0,0,0,0);let f=new Date(o);for(;f<=u&&r.length<i;)r.push(f.toISOString().slice(0,10)),f.setDate(f.getDate()+1);return r}const _n="upAhead_planner",sr="upAhead_blacklist",rr="/api",_t={sync:async()=>{try{const a=await fetch(`${rr}/blacklist`);if(a.ok){const r=await a.json(),o=_t.getBlacklist(),u=new Set([...o,...r]);localStorage.setItem(sr,JSON.stringify([...u]))}const i=await fetch(`${rr}/user_plan`);if(i.ok){const r=await i.json(),o=localStorage.getItem(_n),f={...o?JSON.parse(o):{},...r};localStorage.setItem(_n,JSON.stringify(f))}console.log("[PlannerStorage] Synced with server")}catch(a){console.warn("[PlannerStorage] Sync failed",a)}},getUpcomingDays:(a=14)=>{try{const i=localStorage.getItem(_n);if(!i)return[];const r=JSON.parse(i),o=new Date().toISOString().split("T")[0];return Object.entries(r).filter(([f])=>f>=o).sort((f,h)=>f[0].localeCompare(h[0])).slice(0,a).map(([f,h])=>({date:f,items:h}))}catch(i){return console.error("Failed to read planner storage",i),[]}},addItem:(a,i)=>{try{const r=localStorage.getItem(_n),o=r?JSON.parse(r):{};return o[a]||(o[a]=[]),o[a].some(u=>u.id===i.id)?!1:(o[a].push(i),localStorage.setItem(_n,JSON.stringify(o)),_t.savePlanToApi(o),!0)}catch(r){return console.error("Failed to add item to planner",r),!1}},removeItem:(a,i)=>{try{const r=localStorage.getItem(_n),o=r?JSON.parse(r):{};return o[a]?(o[a]=o[a].filter(u=>u.id!==i),o[a].length===0&&delete o[a],localStorage.setItem(_n,JSON.stringify(o)),_t.savePlanToApi(o),!0):!1}catch(r){return console.error("Failed to remove item",r),!1}},merge:(a,i)=>{try{const r=localStorage.getItem(_n),o=r?JSON.parse(r):{};let u=!1;a.forEach(f=>{o[f]||(o[f]=[]);const h=new Set(o[f].map(m=>m.id));i.forEach(m=>{h.has(m.id)||(o[f].push(m),u=!0)})}),u&&(localStorage.setItem(_n,JSON.stringify(o)),_t.savePlanToApi(o))}catch(r){console.error("Merge failed",r)}},savePlanToApi:async a=>{try{await fetch(`${rr}/user_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(i){console.warn("API save plan error:",i)}},addToBlacklist:a=>{try{const i=JSON.parse(localStorage.getItem(sr)||"[]");i.includes(a)||(i.push(a),localStorage.setItem(sr,JSON.stringify(i)),_t.saveBlacklistToApi(i))}catch(i){console.error("Failed to blacklist",i)}},getBlacklist:()=>{try{return new Set(JSON.parse(localStorage.getItem(sr)||"[]"))}catch{return new Set}},saveBlacklistToApi:async a=>{try{await fetch(`${rr}/blacklist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(i){console.warn("API save blacklist error:",i)}}},Cp="upAhead_cache";function MS(){try{const a=localStorage.getItem(Cp);if(a){const i=JSON.parse(a);return Date.now()-new Date(i.lastUpdated||0).getTime()>480*60*1e3&&console.log("[UpAheadService] Cache is older than 8 hours."),i}}catch(a){console.warn("Cache read error",a)}return null}function RS(a){try{localStorage.setItem(Cp,JSON.stringify(a))}catch(i){console.warn("Cache write error",i)}}const dg=new Map;function kS(a,i){let r=dg.get(i);if(!r){const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=new RegExp(`\\b${o}\\b`,"i"),dg.set(i,r)}return r.test(a)}function OS(a){let i=0;if(!a)return"0";for(let r=0;r<a.length;r++)i=(i<<5)-i+a.charCodeAt(r),i|=0;return i.toString()}function DS(a,i){const r=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return OS(`${r}-${i}`)}function Mi(a,i){const r=a.toLowerCase(),o=i.toLowerCase();return i.includes(" ")?r.includes(o):kS(r,o)}const zS={movies:["Tamil movie release this week","new movie release OTT","BookMyShow Chennai movies","upcoming movies Kollywood","movie tickets showtimes"],events:["Chennai events this week","LiveChennai events","concert tickets Chennai","standup comedy show Chennai","exhibition workshops Chennai","things to do Chennai weekend","Muscat events this week","Muscat concerts exhibitions","theatre shows Chennai this week","art exhibition Chennai","food festival Chennai","cultural event Chennai","music sabha Chennai","Muscat Royal Opera House events"],festivals:["Maha Shivaratri 2025 date","upcoming festivals Tamil Nadu 2025","bank holidays India upcoming","public holidays Tamil Nadu","religious festivals this month India","Oman festivals holidays"],alerts:["TANGEDCO power cut Chennai tomorrow","TNEB power shutdown schedule","Chennai traffic advisory today","Chennai metro maintenance","water supply disruption Chennai","road closure Chennai"],weather_alerts:["IMD Chennai weather warning","Tamil Nadu heavy rain alert","cyclone warning Chennai","heat wave advisory Tamil Nadu","Oman weather warning Muscat"],sports:["IPL 2026 schedule matches","cricket match Chennai CSK","ISL football match schedule","Pro Kabaddi schedule","sports events Chennai this week"],shopping:["Chennai sale offers discount today","exhibition sale Chennai","Pongal sale Tamil Nadu","Diwali offers Chennai","end of season sale Chennai mall","Muscat shopping festival offers"],airlines:["Oman Air flight offers","Indigo Airlines offers","Salam Air ticket offers","Air India sale","flight ticket offers India"],civic:["VIP visit Chennai road closure","minister visit Tamil Nadu traffic","protest bandh Chennai tomorrow","Chennai corporation announcement","Muscat road closure traffic"]},fg={movies:["https://www.hindustantimes.com/feeds/rss/entertainment/tamil-cinema/rssfeed.xml","https://www.hindustantimes.com/feeds/rss/entertainment/bollywood/rssfeed.xml"],sports:["https://www.espn.com/espn/rss/news"],festivals:["https://www.timeanddate.com/holidays/india/feed"],events:["https://www.thehindu.com/news/cities/chennai/feeder/default.rss"]};async function LS(){try{const r=`${"./".endsWith("/")?"./":".//"}data/up_ahead.json`,o=await fetch(r);if(!o.ok)return console.warn(`[UpAheadService] Static fetch failed: ${o.status}`),null;const u=await o.json();return u.error?(console.warn(`[UpAheadService] Static data has error: ${u.error}`),null):u}catch(a){return console.error("[UpAheadService] Static fetch exception:",a),null}}function hg(a,i){if(!a)return i;if(!i)return a;const r={...a},o=new Map;return a.timeline&&a.timeline.forEach(u=>{o.set(u.date,{...u,items:[...u.items||[]]})}),i.timeline&&i.timeline.forEach(u=>{if(!o.has(u.date))o.set(u.date,u);else{const f=o.get(u.date),h=new Set(f.items.map(m=>m.id));u.items.forEach(m=>{h.has(m.id)||(f.items.push(m),h.add(m.id))})}}),r.timeline=Array.from(o.values()).sort((u,f)=>u.date.localeCompare(f.date)),i.sections&&(r.sections||(r.sections={}),Object.keys(i.sections).forEach(u=>{const f=r.sections[u]||[],h=i.sections[u]||[],m=new Set(f.map(p=>p.title)),g=[...f];h.forEach(p=>{m.has(p.title)||(g.push(p),m.add(p.title))}),r.sections[u]=g})),r.weekly_plan=Ap(r.timeline,new Set),r.lastUpdated=i.lastUpdated||a.lastUpdated,r}async function US(a){const i=Date.now();console.log("[UpAheadService] Fetching LIVE data with settings:",a);const r=a?.categories||{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0},o=a?.locations&&a.locations.length>0?a.locations:["Chennai","India"],u=a?.keywords||Ot.upAhead.keywords;let f=[];const h=[],m=E=>{const T=encodeURIComponent(E);h.push({url:`https://news.google.com/rss/search?q=${T}+when:7d&hl=en-IN&gl=IN&ceid=IN:en`,type:"search",originalQuery:E})};for(const[E,T]of Object.entries(r)){if(!T)continue;fg[E]&&fg[E].forEach(z=>{h.push({url:z,type:"static",category:E})}),(zS[E]||[]).forEach(z=>{E==="events"||E==="alerts"||E==="movies"?o.forEach(N=>{N.toLowerCase()==="india"&&(E==="alerts"||E==="events")||m(`${z} ${N}`)}):E==="shopping"||E==="airlines"?o.forEach(N=>{m(`${z} ${N}`)}):m(`${z}`)})}const g=[...new Map(h.map(E=>[E.url,E])).values()];console.log(`[UpAheadService] Prepared ${g.length} feeds to fetch.`);const p=g.map(async E=>{try{const{items:T}=await fp.fetchViaProxy(E.url);return T.map(k=>BS(k,E,u))}catch(T){return console.warn(`[UpAheadService] Failed to fetch ${E.url}:`,T.message),[]}}),x=await Promise.allSettled(p);for(let E=0;E<x.length;E++)x[E].status==="fulfilled"?f.push(...x[E].value):console.warn("[UpAheadService] A feed failed to load:",x[E].reason);const v=qS(f,a);try{for(const E of f)if(E.extractedDate){const T=Su(`${E.title} ${E.description||""}`,E.pubDate);if(T){const k=AS(T);k.length>0&&_t.merge(k,[{id:E.id,title:E.title,category:E.category,link:E.link}])}}}catch(E){console.warn("[UpAhead] Planner storage write failed",E)}const w=Date.now()-i,j=v?.timeline?.reduce((E,T)=>E+(T.items?.length||0),0)||0;return an.success("upAhead",`LIVE: ${j} items from ${g.length} feeds`,{durationMs:w}),v}function du(a){if(!a)return"";let i=a.toString();const r={"&nbsp;":" ","&amp;":"&","&quot;":'"',"&#39;":"'","&lt;":"<","&gt;":">"};return i=i.replace(/&[a-z0-9#]+;/gi,o=>r[o]||o),i=i.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),i=i.replace(/<style[^>]*>([\S\s]*?)<\/style>/gmi,""),i=i.replace(/<\/?[^>]+(>|$)/g,""),i.trim()}function BS(a,i,r=null){const o=du(a.title||""),u=a.description||"",f=du(u),h=`${o} ${f}`;let m=a.pubDate?new Date(a.pubDate):null;m&&isNaN(m.getTime())&&(m=null);let g=i.category;(!g||i.type==="search")&&(g=IS(h,r));let p=null;const x=Su(h,m);x?.start?g==="shopping"&&x.end?p=x.end:p=x.start:p=Tp(h,m);let v=[],w=!1;/ott|releases|week/i.test(o)&&/\d+ new/i.test(o)&&(w=!0),w&&g==="movies"&&(v=HS(u,m));const j=p?p.toISOString().slice(0,10):m?m.toISOString().slice(0,10):"nodate",E=DS(o,j);return{id:a.guid||a.link||o,canonicalId:E,title:o,link:a.link,description:f,pubDate:m,extractedDate:p,category:g,rawSource:i.originalQuery||"feed",isRoundup:w,subItems:v}}function HS(a,i){const r=[],o=a.split(/<br\s*\/?>|\n|<\/li>|<\/p>|/i),u=["netflix","prime","prime video","hotstar","sony liv","zee5","jiocinema","aha","sunnxt","hulu","disney"],f=new RegExp(`\\b(${u.sort((h,m)=>m.length-h.length).join("|")})\\b`,"i");return o.forEach(h=>{const m=du(h).trim();if(m.length<5)return;const g=f.test(m),p=Tp(m,i);if(g||p){let x=m.replace(/^\d+\.\s*/,"").replace(/^[-\u2013\u2014]\s*/,"").replace(/\(.*\)/g,"").trim();if(x.length<3)return;const v=m.match(f),w=v?v[0]:"OTT";r.push({title:x,date:p,originalText:m,platform:w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()})}}),r}function IS(a,i=null){const r=a.toLowerCase(),o=i||Ot.upAhead.keywords,u=f=>f&&f.some(h=>Mi(r,h));return r.includes("arrest")||r.includes("held for")||r.includes("police")||r.includes("seized")||r.includes("murder")||r.includes("crime")||r.includes("jail")||r.includes("court")||r.includes("bail")||r.includes("clinic")&&r.includes("unregistered")?"general":u(o.weather_alerts)?"weather_alerts":u(o.alerts)?"alerts":u(o.movies)?(o.movies_negative||[]).some(h=>Mi(r,h))?"general":"movies":u(o.sports)?(o.sports_negative||[]).some(h=>Mi(r,h))?"general":"sports":u(o.airlines)?"airlines":u(o.shopping)?"shopping":u(o.festivals)?"festivals":u(o.civic)?"civic":u(o.events)?"events":"general"}function Tp(a,i){return Su(a,i)?.start||null}function qS(a,i){const r=new Date;r.setHours(0,0,0,0);const o=new Map,u={movies:[],festivals:[],alerts:[],events:[],sports:[],shopping:[],civic:[],weather_alerts:[],airlines:[]},f=new Set,m=(i?.hideOlderThanHours||336)*60*60*1e3,g={weather_alerts:6,alerts:12,festivals:336},p=i?.keywords||i?.upAhead?.keywords||Ot.upAhead.keywords,x=N=>{let U=p.negative&&p.negative.length>0?p.negative:Ot.upAhead.keywords.negative;const W=`${N}_negative`,Y=p[W]&&p[W].length>0?p[W]:Ot.upAhead.keywords[W]||[];return[...new Set([...U,...Y])]},v=i?.signals||Ot.upAhead.signals,w={};["movies","events","festivals","alerts","sports","shopping","civic","weather_alerts","airlines"].forEach(N=>{w[N]=p[N]&&p[N].length>0?p[N]:Ot.upAhead.keywords[N]||[]});const E=(i?.locations||i?.upAhead?.locations||["Chennai","Muscat","Trichy"]).map(N=>N.toLowerCase());a.forEach(N=>{if(f.has(N.id)||(f.add(N.id),!N.pubDate||isNaN(N.pubDate.getTime())))return;const U=Date.now()-N.pubDate.getTime();let W=m;if(g[N.category]){const O=g[N.category]*60*60*1e3;W=Math.min(m,O)}const Y=["movies","events","sports","shopping","civic","festivals","airlines"].includes(N.category),te=N.extractedDate&&N.extractedDate>=r;if(!Y&&!te&&U>W)return;const P=(N.title+" "+N.description).toLowerCase(),J=/(?:|-|published)\s*(\d+)\s*(mo|month|months|w|week|weeks|y|year|years)\s*(?:ago)?/i,le=P.match(J);if(le){const O=parseInt(le[1]),F=le[2].toLowerCase();if(F.startsWith("mo")||F.startsWith("y")||F.startsWith("w")&&O>=1)return}const ie=/ott|releases|week|weekend/i.test(P)&&/\d+ new/i.test(P);let ne=0;const I=i?.ranking?.[N.category]||i?.upAhead?.ranking?.[N.category]||{},re=I.positiveMultiplier||1,se=I.negativeMultiplier||1,ae=I.filterThreshold||0,L=w[N.category]||[],X=x(N.category),$=L.reduce((O,F)=>Mi(P,F.toLowerCase())?O+1:O,0),M=X.reduce((O,F)=>Mi(P,F.toLowerCase())?O+1:O,0);ne=$*re-M*se;const Z=v.reduce((O,F)=>P.includes(F)?O+1:O,0);if(ne+=Z*.5,["movies","events","shopping","airlines","sports","festivals"].includes(N.category)&&ne<ae||!ie&&M>0&&ne<=0||Y&&!N.extractedDate&&!N.isRoundup&&$===0&&Z===0||(N.category==="alerts"||N.category==="civic")&&!E.some(F=>P.includes(F)))return;if(N._forwardScore=ne,N.category&&u[N.category]){if((N.category==="movies"||N.category==="events"||N.category==="festivals")&&!N.extractedDate&&!N.isRoundup||Y&&!N.extractedDate&&!N.isRoundup&&ne<=0)return;if(N.category==="festivals"&&N.extractedDate){if((N.extractedDate.getTime()-r.getTime())/(1e3*3600*24)<-3)return}else if(Y&&N.extractedDate&&N.extractedDate<r)return;let O=null;!N.extractedDate&&["shopping","alerts","weather_alerts","civic"].includes(N.category)&&(O=N.pubDate?N.pubDate.toDateString():null);const F={title:N.title,link:N.link,releaseDate:N.extractedDate?N.extractedDate.toDateString():O,date:N.extractedDate?N.extractedDate.toDateString():O,text:N.title,severity:"medium",language:"Unknown",isRoundup:N.isRoundup,subItemsCount:N.subItems?N.subItems.length:0};u[N.category].push(F)}let A=N.extractedDate;if(!A&&(N.category==="alerts"||N.category==="weather_alerts")){const O=N.category==="weather_alerts"?12:24;if(N.pubDate&&Date.now()-N.pubDate.getTime()<O*60*60*1e3)A=r;else return}if(!A&&N.isRoundup&&(A=r),!A&&ne>0&&Y&&["shopping","airlines","alerts","weather_alerts","civic"].includes(N.category)&&N.pubDate&&Date.now()-N.pubDate.getTime()<2880*60*1e3&&(A=r),A&&A>=r){const O=A.toISOString().split("T")[0];o.has(O)||o.set(O,{date:O,dayLabel:GS(A),items:[]});const F={id:N.id,type:$S(N.category),title:N.title,subtitle:N.isRoundup?`${N.subItems?.length||"Multiple"} ITEMS`:N.category.toUpperCase(),description:N.description,tags:[N.category],link:N.link,isRoundup:N.isRoundup,subItems:N.subItems,_forwardScore:N._forwardScore||0};o.get(O).items.push(F)}});const T=Array.from(o.values()).sort((N,U)=>N.date.localeCompare(U.date));T.forEach(N=>{N.items.sort((U,W)=>(W._forwardScore||0)-(U._forwardScore||0)),N.items.forEach(U=>delete U._forwardScore)}),Object.keys(u).forEach(N=>{u[N].sort((U,W)=>U.date&&W.date?new Date(U.date)-new Date(W.date):0),u[N]=u[N].slice(0,10)});const k=_t.getBlacklist?_t.getBlacklist():new Set,z=Ap(T,k);return{timeline:T,sections:u,weekly_plan:z,lastUpdated:new Date().toISOString()}}function GS(a){const i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(r.getDate()+1);const o=new Date(a);return o.setHours(0,0,0,0),o.getTime()===i.getTime()?"Today":o.getTime()===r.getTime()?"Tomorrow":o.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}function $S(a){return{movies:"movie",events:"event",festivals:"festival",alerts:"alert",sports:"sport",shopping:"shopping",civic:"civic",weather_alerts:"weather_alert",airlines:"airline"}[a]||"event"}function Ap(a,i=new Set){const r=[],o=new Date,u=f=>{const h=["th","st","nd","rd"],m=f%100;return f+(h[(m-20)%10]||h[m]||h[0])};for(let f=0;f<7;f++){const h=new Date(o);h.setDate(o.getDate()+f);const m=h.toISOString().split("T")[0],g=h.toLocaleDateString("en-US",{weekday:"long"}),p=h.toLocaleDateString("en-US",{month:"short"}),x=h.getDate(),v=`${u(x)} ${p}`,w=a.find(E=>E.date===m);let j=[];w&&w.items.length>0&&(j=w.items.filter(T=>!(T.type==="festival"||i.has(T.id))).slice(0,10).map(T=>({id:T.id,title:T.title,type:T.type,icon:YS(T.type),link:T.link,description:T.description,isOffer:T.type==="shopping"||T.type==="airline"}))),r.push({day:g,date:v,items:j})}return r}function YS(a){return{movie:"",event:"",festival:"",alert:"",sport:"",shopping:"",civic:"",entertainment:"",weather_alert:"",airline:"",general:""}[a]||""}function FS(){const{settings:a}=pt(),[i,r]=_.useState(null),[o,u]=_.useState(!0),[f,h]=_.useState(!1),[m,g]=_.useState(0),[p,x]=_.useState("plan"),[,v]=_.useState(_t.getBlacklist?_t.getBlacklist():new Set),{toggleWatchlist:w,isWatched:j}=hS(),E=_.useCallback(async(ie=!1)=>{if(ie?(h(!0),g(1)):(u(!0),g(0)),!ie){const ne=MS();ne&&(r(ne),u(!1),g(1))}try{const ne=await LS();ne&&(r(I=>hg(I,ne)),ie||g(2),u(!1))}catch(ne){console.warn("Static fetch failed",ne)}h(!0);try{const ne=a.upAhead||{categories:{movies:!0,events:!0,festivals:!0,alerts:!0,sports:!0,shopping:!0,civic:!0,weather_alerts:!0,airlines:!0},locations:["Chennai"]},I=await US(ne);r(re=>{const se=hg(re,I);return RS(se),se}),g(3)}catch(ne){console.error("Failed to load Live Up Ahead data",ne)}finally{h(!1),u(!1)}},[a.upAhead]);_.useEffect(()=>{E(!1)},[E]);const T=ie=>{ie&&_t.addToBlacklist&&(_t.addToBlacklist(ie),v(_t.getBlacklist()),E(!1))},k=(ie,ne)=>{_t.addItem(ne,{id:ie.id,title:ie.title,category:ie.tags?.[0]||"event",link:ie.link,description:ie.description}),alert("Added to Plan!")},z=ie=>{if(!ie)return"Coming Soon";const ne=new Date(ie);if(isNaN(ne.getTime()))return ie;const I=ne.toLocaleDateString("en-US",{weekday:"short"}),re=ne.getDate().toString().padStart(2,"0"),se=ne.toLocaleDateString("en-US",{month:"short"});return`${I}, ${re} ${se}`},N=({items:ie,colorClass:ne,emptyMessage:I,isOffer:re=!1})=>!ie||ie.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:I})}):s.jsx("div",{className:"ua-wk-card",style:{border:"none",background:"transparent",padding:0},children:s.jsx("ul",{className:"ua-wk-list",children:ie.map((se,ae)=>{const L=z(se.date||se.releaseDate);return s.jsxs("li",{className:"ua-wk-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",background:"var(--bg-secondary)",padding:"12px",borderRadius:"12px",marginBottom:"8px"},children:[s.jsxs("a",{href:se.link,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",flex:1,overflow:"hidden",display:"flex",alignItems:"center",gap:"8px"},children:[re&&s.jsx("span",{style:{fontSize:"1.2rem"},children:""}),s.jsx("span",{className:"ua-wk-text",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.95rem",fontWeight:500},children:se.title})]}),s.jsx("span",{className:`ua-wk-date ${ne}`,style:{whiteSpace:"nowrap",flexShrink:0,fontSize:"0.8rem",fontWeight:600},children:L})]},ae)})})});if(o&&!i)return s.jsxs("div",{className:"page-container",children:[s.jsx(Ra,{title:"Up Ahead",icon:"",loadingPhase:m}),s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Scanning horizon..."})]})]});if(!i||!i.timeline||i.timeline.length===0)return s.jsxs("div",{className:"page-container",children:[s.jsx(Ra,{title:"Up Ahead",icon:"",loadingPhase:m}),s.jsxs("div",{className:"empty-state",children:[s.jsx("span",{style:{fontSize:"3rem"},children:""}),s.jsx("h3",{children:"Nothing on the radar"}),s.jsx("p",{children:"No upcoming events found."}),s.jsx("button",{onClick:()=>E(!0),className:"btn btn--primary",style:{marginTop:"1rem"},children:"Retry Scan"}),s.jsx("div",{style:{marginTop:"0.75rem"},children:s.jsxs("small",{children:["Try adding more locations or categories in ",s.jsx(sa,{to:"/settings",style:{color:"var(--accent-primary)"},children:"Settings"}),"."]})})]})]});const U=i.sections?.weather_alerts||[],W=i.sections?.alerts||[],Y=i.sections?.civic||[],te=[...U,...W,...Y],P=U[0]||W[0]||null,J=U.length>0?"":"",le=U.length>0?"Weather Warning":"Worth Knowing";return s.jsxs("div",{className:"page-container up-ahead-page",children:[s.jsx(Ra,{title:"Up Ahead",icon:"",loadingPhase:m,rightElement:f?s.jsx("div",{className:"scanning-indicator",style:{fontSize:"0.7rem",color:"var(--accent-primary)"},children:"Scanning..."}):null}),s.jsx("div",{style:{textAlign:"center",fontSize:"0.7rem",color:"var(--text-muted)",padding:"6px",background:"var(--bg-secondary)",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"loading__spinner",style:{width:"12px",height:"12px",borderWidth:"2px"}}),s.jsx("span",{children:"Scanning horizon..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:["Live Feed  ",a.upAhead?.locations?.join(", ")||"All Locations"]}),s.jsx("button",{onClick:()=>E(!0),style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.8rem"},children:""})]})}),P&&s.jsxs("div",{className:`ua-alert-banner ${U.length>0?"weather-alert":""}`,children:[s.jsx("span",{className:"ua-alert-icon",children:J}),s.jsxs("div",{className:"ua-alert-content",children:[s.jsx("h4",{children:le}),s.jsx("p",{children:P.text})]})]}),s.jsxs("div",{className:"ua-view-toggle scrollable-tabs",children:[s.jsx("button",{className:`ua-toggle-btn ${p==="plan"?"active":""}`,onClick:()=>x("plan"),children:"Plan My Week"}),s.jsx("button",{className:`ua-toggle-btn ${p==="offers"?"active":""}`,onClick:()=>x("offers"),children:"Offers"}),s.jsx("button",{className:`ua-toggle-btn ${p==="movies"?"active":""}`,onClick:()=>x("movies"),children:"Releasing Soon"}),s.jsx("button",{className:`ua-toggle-btn ${p==="events"?"active":""}`,onClick:()=>x("events"),children:"Upcoming Events"}),s.jsx("button",{className:`ua-toggle-btn ${p==="alerts"?"active":""}`,onClick:()=>x("alerts"),children:"Alerts"}),s.jsx("button",{className:`ua-toggle-btn ${p==="festivals"?"active":""}`,onClick:()=>x("festivals"),children:"Festivals"}),s.jsx("button",{className:`ua-toggle-btn ${p==="feed"?"active":""}`,onClick:()=>x("feed"),children:"Timeline"})]}),p==="plan"&&s.jsx("div",{className:"ua-weekly-plan",children:i.weekly_plan&&Array.isArray(i.weekly_plan)?i.weekly_plan.map((ie,ne)=>s.jsxs("div",{className:"ua-plan-day-row",children:[s.jsx("div",{className:"ua-plan-ribbon",children:s.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:800,whiteSpace:"nowrap"},children:[ie.day," ",s.jsx("span",{style:{opacity:.8,fontWeight:400},children:ie.date})]})}),s.jsx("div",{className:"ua-plan-day-content",children:ie.items&&ie.items.length>0?ie.items.map((I,re)=>s.jsxs("div",{className:"ua-plan-event-item",children:[s.jsx("button",{className:"ua-plan-delete-btn",onClick:se=>{se.preventDefault(),T(I.id)},"aria-label":"Remove event",style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)",fontSize:"0.9rem",padding:"0 8px 0 0"},children:""}),s.jsxs("a",{href:I.link,target:"_blank",rel:"noopener noreferrer",style:{flex:1,display:"flex",alignItems:"center",gap:"10px",textDecoration:"none",color:"inherit"},children:[s.jsx("span",{className:"ua-event-icon",children:I.icon}),s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[s.jsx("span",{className:"ua-event-title",children:I.title}),I.isOffer&&s.jsx("span",{className:"ua-offer-badge",children:" Ends Today"})]})]}),s.jsx("div",{style:{display:"flex",gap:"8px"},children:s.jsx("button",{className:"ua-plan-action-btn",onClick:se=>{se.preventDefault(),mS(I.title,I.description||I.title)},title:"Add to Calendar",style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.1rem"},children:""})})]},re)):s.jsx("span",{className:"ua-plan-empty",style:{padding:"10px",color:"var(--text-muted)",fontSize:"0.9rem"},children:"-"})})]},ne)):s.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Data unavailable."})}),p==="movies"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(N,{items:i.sections?.movies,colorClass:"text-accent-info",emptyMessage:"No upcoming movie releases found."})}),p==="offers"&&s.jsxs("div",{className:"ua-tab-view",children:[s.jsx(N,{items:[...i.sections?.shopping||[],...i.sections?.airlines||[]],colorClass:"text-accent-success",emptyMessage:"No offers found.",isOffer:!0}),s.jsx("div",{style:{textAlign:"center",marginTop:"10px",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Including Airline Offers"})]}),p==="events"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(N,{items:[...i.sections?.events||[],...i.sections?.sports||[]],colorClass:"text-accent-primary",emptyMessage:"No upcoming events found."})}),p==="alerts"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(N,{items:te,colorClass:"text-accent-error",emptyMessage:"No alerts found."})}),p==="festivals"&&s.jsx("div",{className:"ua-tab-view",children:s.jsx(N,{items:i.sections?.festivals,colorClass:"text-accent-warning",emptyMessage:"No festivals found."})}),p==="feed"&&s.jsx("div",{className:"ua-timeline",children:i.timeline.map(ie=>s.jsxs("div",{className:"ua-day-section",children:[s.jsxs("div",{className:"ua-day-header",children:[s.jsx("div",{className:"ua-day-label",children:ie.dayLabel}),s.jsx("div",{className:"ua-date-sub",children:ie.date})]}),ie.items?.map(ne=>s.jsx("div",{className:"ua-media-card",children:s.jsxs("div",{className:"ua-media-content",children:[s.jsxs("div",{className:"ua-media-header",children:[s.jsx("span",{className:`ua-badge type-${ne.type}`,children:ne.type.toUpperCase()}),s.jsx("button",{className:`ua-watch-btn ${j(ne.id)?"active":""}`,onClick:()=>w(ne.id),children:j(ne.id)?"":""})]}),s.jsx("h3",{className:"ua-media-title",children:ne.title}),s.jsx("p",{className:"ua-media-desc",children:ne.description?ne.description.length>100?ne.description.substring(0,100)+"...":ne.description:""}),s.jsxs("div",{className:"ua-media-footer",children:[ne.link&&s.jsx("a",{href:ne.link,target:"_blank",rel:"noopener noreferrer",className:"ua-source-link",children:"Read Source "}),s.jsx("button",{className:"ua-cal-btn",onClick:()=>k(ne,ie.date),title:"Add to Plan My Week",children:" Plan"})]})]})},ne.id))]},ie.date))})]})}const VS=({weatherData:a,activeCity:i,onRefresh:r,loading:o,isDesktop:u})=>{const f=i||Object.keys(a)[0]||"chennai",h=a[f]||a[f.toLowerCase()],m=_.useMemo(()=>{if(!h)return"Loading weather data...";const g=h.current||{},p=h.next8Hours||[],x=h.hourly24||[];let v=g.high;if((v==null||v===void 0)&&x.length>0){const k=Math.max(...x.map(z=>z.temp||-999));k!==-999&&(v=k)}const w=v!=null?`${v}`:"--";let j="";const E=p.slice(0,4).find(k=>k.precip>.5||k.prob>=40);E?j=`Rain likely at ${E.label}`:g.windSpeed>25?j=`Windy (${g.windSpeed} km/h)`:g.temp>38||v>38?j="Heatwave Alert":g.humidity>85&&g.temp>30?j="High Humidity":g.condition&&g.condition.toLowerCase().includes("rain")&&(j="Raining Now");let T=`${g.condition||"Clear"}  High ${w}`;return j?`${T}  ${j}`:T},[h]);return s.jsxs("div",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(to bottom, var(--bg-card), var(--bg-primary))",borderBottom:"1px solid var(--border-default)",boxShadow:"0 4px 20px rgba(0,0,0,0.4)",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("h2",{style:{fontSize:"1.4rem",margin:0,fontWeight:800,background:"linear-gradient(135deg, #fff 0%, #aaa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textTransform:"capitalize",letterSpacing:"-0.02em",lineHeight:1.1},children:f}),o&&s.jsx("span",{className:"pulse-dot",style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-primary)",display:"inline-block",boxShadow:"0 0 10px var(--accent-primary)"}})]}),s.jsx("div",{style:{fontSize:"0.95rem",color:"var(--accent-info)",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:u?"auto":"280px",opacity:.9},children:m})]}),s.jsx("button",{onClick:r,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-primary)",opacity:o?.7:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},title:"Refresh Weather",children:s.jsx("span",{style:{display:"block",transform:o?"rotate(360deg)":"none",transition:"transform 1s linear infinite",fontSize:"18px"},children:o?"":""})})]})};function KS({weatherData:a,activeCity:i,setActiveCity:r}){const{settings:o}=pt(),u=(o.weather?.cities||["chennai","trichy","muscat"]).map(j=>j.toLowerCase()),f={chennai:"Chennai",trichy:"Trichy",muscat:"Muscat",[u[2]]:u[2].charAt(0).toUpperCase()+u[2].slice(1)},h={chennai:"",trichy:"",muscat:"",[u[2]]:""},[m,g]=_.useState(null);if(!a)return null;const p=a[i]||a.chennai;if(!p)return s.jsx("div",{className:"dw-container",children:"Data unavailable"});const x=new Date().getHours();let v=[];const w=(j,E,T=null)=>{j==="today"||p.tomorrow;const k=j==="today"?p[E]:p.tomorrow?.[E];let z=T;return z||(E==="morning"?z="Morning":E==="noon"?z="Afternoon":z="Evening",j==="tomorrow"&&(z="Tomorrow "+z)),{id:`${j}-${E}`,label:z,data:k}};return x<11?v=[w("today","morning","This Morning"),w("today","noon"),w("today","evening")]:x<17?v=[w("today","noon","This Afternoon"),w("today","evening"),w("tomorrow","morning")]:x<21?v=[w("today","evening","Tonight"),w("tomorrow","morning"),w("tomorrow","noon")]:v=[w("tomorrow","morning","Tomorrow Morning"),w("tomorrow","noon"),w("tomorrow","evening")],s.jsxs("div",{className:"dw-container",children:[s.jsx("div",{className:"dw-sidebar",children:u.map(j=>s.jsxs("button",{className:`dw-city-tab ${j===i?"active":""}`,onClick:()=>r(j),"aria-label":`Select ${f[j]}`,children:[s.jsx("span",{className:"dw-city-icon",children:h[j]||""}),s.jsx("span",{className:"dw-city-name",children:f[j]||j})]},j))}),s.jsxs("div",{className:"dw-content",children:[s.jsxs("div",{className:"dw-header",children:[s.jsxs("div",{className:"dw-header-main",children:[s.jsx("h2",{className:"dw-city-title",children:p.name}),s.jsxs("span",{className:"dw-current-temp",children:[p.current?.temp,""]})]}),s.jsx("div",{className:"dw-header-sub",children:p.summary})]}),s.jsx("div",{className:"dw-cards-list",children:v.map((j,E)=>j.data?s.jsx(XS,{segment:j,isExpanded:m===E,onToggle:()=>g(m===E?null:E)},j.id):null)}),s.jsxs("div",{className:"dw-footer",children:["Forecast based on ",p.models?.count," models (",p.models?.names,")."]})]})]})}function XS({segment:a,isExpanded:i,onToggle:r}){const{label:o,data:u}=a,f=parseFloat(u.rainMm==="-"?0:u.rainMm),h=u.rainProb?.avg||0,m=f>=1,g=f>0||h>0;let p=ag,x="var(--text-secondary)",v="No significant rain";g&&(m?(p=Ob,x="#3b82f6"):(p=ag,x="#94a3b8"),v=`${f>0?f.toFixed(1)+"mm":"Trace"} (${h}%)`);const w=QS(u);return s.jsxs("div",{className:`dw-card ${i?"expanded":""}`,onClick:r,children:[s.jsxs("div",{className:"dw-card-header",children:[s.jsx("span",{className:"dw-period-badge",children:o}),s.jsx("span",{className:"dw-expand-hint",children:i?"Collapse":"Touch for Hourly"})]}),s.jsxs("div",{className:"dw-card-main",children:[s.jsx("div",{className:"dw-main-icon",children:u.iconId?s.jsx(gr,{id:u.iconId,size:56}):s.jsx("span",{style:{fontSize:"3rem"},children:u.icon})}),s.jsxs("div",{className:"dw-main-temp",children:[s.jsxs("div",{className:"dw-temp-val",children:[u.temp,""]}),s.jsxs("div",{className:"dw-temp-feels",children:["Feels like ",u.feelsLike,""]})]})]}),s.jsxs("div",{className:"dw-details-grid",children:[s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:s.jsx(p,{size:20,color:x})}),s.jsx("div",{className:"dw-detail-text",children:v})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:s.jsx(bp,{size:20})}),s.jsxs("div",{className:"dw-detail-text",children:[u.humidity,"% ",s.jsx("span",{className:"dw-sep",children:"|"})," ",s.jsx(Sp,{size:16})," ",u.windSpeed," km/h"]})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:""}),s.jsxs("div",{className:"dw-detail-text",children:["UV: ",u.uvIndex||"-"," ",s.jsx("span",{className:"dw-sep",children:"|"})," PM 2.5: -"]})]}),s.jsxs("div",{className:"dw-detail-row",children:[s.jsx("div",{className:"dw-detail-icon",children:""}),s.jsx("div",{className:"dw-detail-text dw-desc",children:w})]})]}),i&&u.hourly&&s.jsx("div",{className:"dw-hourly-container hide-scrollbar",onClick:j=>j.stopPropagation(),children:u.hourly.map((j,E)=>s.jsxs("div",{className:"dw-hourly-slot",children:[s.jsx("span",{className:"dw-slot-time",children:j.time}),s.jsx("div",{className:"dw-slot-icon",children:j.iconId?s.jsx(gr,{id:j.iconId,size:28}):j.icon}),s.jsxs("strong",{className:"dw-slot-temp",children:[j.temp,""]}),j.precip>0&&s.jsxs("span",{className:"dw-slot-precip",children:[j.precip>=1&&s.jsx("span",{style:{fontSize:"0.7rem"},children:""}),j.precip,"mm"]})]},E))})]})}function QS(a){const i=[];return a.rainProb?.avg>40?i.push("Rain expected."):a.cloudCover>70?i.push("Cloudy."):a.cloudCover<20&&i.push("Clear skies."),a.windSpeed>20&&i.push("Breezy."),a.uvIndex>8&&i.push("High UV."),i.length===0?"Pleasant conditions.":i.join(" ")}function WS(){const{weatherData:a,loading:i,error:r,refreshWeather:o}=jr(),{settings:u}=pt(),{isDesktop:f}=Er(),h=a,m=(u.weather?.cities||["chennai","trichy","muscat"]).map(v=>v.toLowerCase()),[g,p]=_.useState(()=>localStorage.getItem("dw_active_city")||"chennai");_.useEffect(()=>{localStorage.setItem("dw_active_city",g)},[g]);const x=()=>{o(!0)};return i&&!a?s.jsx("div",{className:"page-container",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Forecast..."})]})}):s.jsxs("div",{className:"page-container",style:{padding:0},children:[h&&s.jsx(VS,{weatherData:h,activeCity:g,cities:m,onRefresh:x,loading:i,isDesktop:f}),s.jsxs("main",{className:"main-content",style:{padding:0,marginTop:0},children:[r&&s.jsxs("div",{className:"topline",style:{borderLeftColor:"var(--accent-danger)",margin:"16px"},children:[s.jsx("div",{className:"topline__label",style:{color:"var(--accent-danger)"},children:"Error"}),s.jsx("div",{className:"topline__text",children:"Failed to update weather. Showing cached data."})]}),h?s.jsx(KS,{weatherData:h,activeCity:g,setActiveCity:p}):s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:"Weather data unavailable."}),s.jsx("button",{onClick:x,className:"btn btn--secondary mt-md",children:"Retry"})]})]})]})}const ZS=({indices:a,onRefresh:i,loading:r,lastUpdated:o})=>{const f=["NIFTY 50","SENSEX","NIFTY BANK"].map(g=>a?.find(p=>p.name.toUpperCase().includes(g))).filter(Boolean),h=f.length>0?f:a?.slice(0,3)||[],m=g=>g?new Date(g).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"";return s.jsxs("div",{style:{position:"sticky",top:0,zIndex:100,background:"var(--bg-primary)",paddingBottom:"8px",borderBottom:"1px solid var(--border-default)",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--gradient-header)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"1.2rem"},children:""}),s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:"1.1rem",margin:0,fontWeight:700,color:"var(--text-primary)",lineHeight:1.2},children:"Indian Markets"}),o&&s.jsxs("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.7)",fontWeight:400},children:["Updated ",m(o)]})]})]}),s.jsx("button",{onClick:i,style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem",padding:"4px",color:"var(--text-primary)",opacity:r?.5:1,transition:"transform 0.3s"},title:"Refresh Markets",className:r?"spin":"",children:r?"":""})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${h.length}, 1fr)`,gap:"1px",background:"var(--border-default)",marginTop:"0"},children:h.map((g,p)=>{const x=g.direction==="up"||g.change>0,v=x?"var(--accent-success)":"var(--accent-danger)",w=x?"":"";return s.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"10px 4px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",fontWeight:600,marginBottom:"2px",textTransform:"uppercase"},children:g.name.replace("NIFTY","").replace("SENSEX","SENSEX").trim()||g.name}),s.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--text-primary)",marginBottom:"2px"},children:g.value}),s.jsxs("div",{style:{fontSize:"0.75rem",color:v,fontWeight:600,display:"flex",alignItems:"center",gap:"2px"},children:[s.jsx("span",{children:w}),s.jsx("span",{children:Math.abs(g.change).toFixed(2)}),s.jsxs("span",{style:{opacity:.8},children:["(",Math.abs(g.changePercent).toFixed(2),"%)"]})]})]},p)})}),s.jsx("style",{children:`
                .spin { animation: spin 1s linear infinite; }
                @keyframes spin { 100% { transform: rotate(360deg); } }
            `})]})};function JS({funds:a}){const[i,r]=_.useState(!1);if(!a||a.length===0)return s.jsxs("div",{className:"mf-card mf-card--empty",children:[s.jsxs("div",{className:"mf-card__header",children:[s.jsx("span",{children:""})," Mutual Funds"]}),s.jsx("p",{className:"mf-card__empty-text",children:"NAV data unavailable"})]});const o=i?a:a.slice(0,4);return s.jsxs("div",{className:"mf-card",children:[s.jsxs("div",{className:"mf-card__header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:""})," Mutual Fund NAVs"]}),s.jsx("span",{className:"mf-card__date",children:a[0]?.navDate||"Latest"})]}),s.jsx("div",{className:"mf-card__list",children:o.map((u,f)=>s.jsxs("div",{className:"mf-fund",children:[s.jsxs("div",{className:"mf-fund__info",children:[s.jsx("div",{className:"mf-fund__name",children:u.name}),s.jsx("div",{className:"mf-fund__category",children:u.category})]}),s.jsxs("div",{className:"mf-fund__nav",children:[s.jsxs("div",{className:"mf-fund__value",children:["",u.nav]}),s.jsxs("div",{className:`mf-fund__change mf-fund__change--${u.direction}`,children:[u.direction==="up"?"":""," ",u.changePercent,"%"]})]})]},u.code||f))}),a.length>4&&s.jsx("button",{className:"mf-card__toggle",onClick:()=>r(!i),children:i?"Show Less ":`Show All (${a.length}) `})]})}function PS({ipoData:a}){const[i,r]=_.useState("upcoming");if(!a)return s.jsxs("div",{className:"ipo-card ipo-card--empty",children:[s.jsxs("div",{className:"ipo-card__header",children:[s.jsx("span",{children:""})," IPO Tracker"]}),s.jsx("p",{children:"IPO data unavailable"})]});const o=[{key:"upcoming",label:"Upcoming",icon:""},{key:"live",label:"Live",icon:""},{key:"recent",label:"Recent",icon:""}],u=a[i]||[];return s.jsxs("div",{className:"ipo-card",children:[s.jsxs("div",{className:"ipo-card__header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:""})," IPO Tracker"]}),a.isFallback&&s.jsx("span",{className:"ipo-card__fallback-badge",children:"Demo Data"})]}),s.jsx("div",{className:"ipo-card__tabs",children:o.map(f=>s.jsxs("button",{className:`ipo-tab ${i===f.key?"ipo-tab--active":""}`,onClick:()=>r(f.key),children:[f.icon," ",f.label,s.jsx("span",{className:"ipo-tab__count",children:a[f.key]?.length||0})]},f.key))}),s.jsx("div",{className:"ipo-card__list",children:u.length===0?s.jsxs("div",{className:"ipo-card__empty",children:["No ",i," IPOs at the moment"]}):u.map((f,h)=>s.jsxs("div",{className:"ipo-item",children:[s.jsxs("div",{className:"ipo-item__header",children:[s.jsxs("div",{className:"ipo-item__name",children:[f.name,f.isSME&&s.jsx("span",{style:{fontSize:"0.6rem",marginLeft:"6px",background:"#333",padding:"2px 4px",borderRadius:"4px"},children:"SME"})]}),s.jsx("div",{className:`ipo-item__status ipo-item__status--${f.status||i}`,children:f.status||i})]}),s.jsxs("div",{className:"ipo-item__details",children:[f.issuePrice&&s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Price Band:"}),s.jsx("span",{className:"ipo-item__value",children:f.issuePrice})]}),s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Open:"}),s.jsx("span",{className:"ipo-item__value",children:f.openDate})]}),s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Close:"}),s.jsx("span",{className:"ipo-item__value",children:f.closeDate})]}),f.issueSize&&f.issueSize!=="-"&&s.jsxs("div",{className:"ipo-item__detail",children:[s.jsx("span",{className:"ipo-item__label",children:"Size:"}),s.jsx("span",{className:"ipo-item__value",children:f.issueSize})]})]})]},h))})]})}function ew(){const{marketData:a,loading:i,error:r,refreshMarket:o,lastFetch:u}=op(),{settings:f}=pt(),h=f?.market||{},[m,g]=_.useState(()=>Date.now());_.useEffect(()=>{const J=setInterval(()=>g(Date.now()),6e4);return()=>clearInterval(J)},[]);const p=()=>{o()},x=J=>{const le=J?.timestamp||u;return le?m-le:1/0},v=J=>{const le=x(J),ie=le>900*1e3;return le>14400*1e3?{opacity:.3,filter:"grayscale(1) brightness(0.7)",transition:"all 0.3s ease"}:ie?{opacity:.6,filter:"grayscale(0.5)",transition:"all 0.3s ease"}:{opacity:1,filter:"none",transition:"all 0.3s ease"}},[w,j]=_.useState(!1);_.useEffect(()=>{const J=()=>{j(window.scrollY>400)};return window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)},[]);const E=[(h.showGainers!==!1||h.showLosers!==!1)&&{id:"market-movers",icon:"",label:"Top Movers"},h.showSectorals!==!1&&{id:"sectoral-indices",icon:"",label:"Sectorals"},h.showCommodities!==!1&&{id:"commodities",icon:"",label:"Commodities"},h.showCurrency!==!1&&{id:"currency",icon:"",label:"Currency"},h.showFIIDII!==!1&&{id:"fiidii",icon:"",label:"FII/DII"},h.showMutualFunds!==!1&&{id:"mutual-funds",icon:"",label:"Mutual Funds"},h.showIPO!==!1&&{id:"ipo-tracker",icon:"",label:"IPO Watch"}].filter(Boolean);if(i&&!a)return s.jsx("div",{className:"page-container",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("span",{children:"Loading Market Data..."})]})});const{indices:T,mutualFunds:k,ipo:z,movers:N,sectorals:U,commodities:W,currencies:Y,fiidii:te}=a||{},P=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsxs("div",{className:"page-container",style:{padding:0},children:[s.jsx(ZS,{indices:T,onRefresh:p,loading:i,lastUpdated:u}),s.jsxs("main",{className:"main-content market-page",style:{padding:"16px",marginTop:0},children:[r&&s.jsx("div",{className:"error-state",style:{marginBottom:"16px",padding:"12px",background:"rgba(255, 71, 87, 0.1)",border:"1px solid var(--accent-danger)",borderRadius:"8px",color:"var(--accent-danger)"},children:s.jsx("p",{style:{margin:0},children:"Failed to load market data. Showing cached data."})}),(h.showGainers!==!1||h.showLosers!==!1)&&s.jsxs("section",{id:"market-movers",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Top Movers"]}),s.jsxs("div",{className:"movers-grid",children:[h.showGainers!==!1&&s.jsxs("div",{className:"movers-column movers-column--gainers",children:[s.jsx("h3",{className:"movers-column__title",children:" Top Gainers"}),N?.gainers?.slice(0,5).map((J,le)=>s.jsxs("div",{className:"mover-item",style:v(J),children:[s.jsx("div",{className:"mover-item__symbol",children:J.symbol}),s.jsxs("div",{className:"mover-item__price",children:["",J.price]}),s.jsxs("div",{className:"mover-item__change text-success",children:["+",J.changePercent,"%"]})]},le))]}),h.showLosers!==!1&&s.jsxs("div",{className:"movers-column movers-column--losers",children:[s.jsx("h3",{className:"movers-column__title",children:" Top Losers"}),N?.losers?.slice(0,5).map((J,le)=>s.jsxs("div",{className:"mover-item",style:v(J),children:[s.jsx("div",{className:"mover-item__symbol",children:J.symbol}),s.jsxs("div",{className:"mover-item__price",children:["",J.price]}),s.jsxs("div",{className:"mover-item__change text-danger",children:[J.changePercent,"%"]})]},le))]})]})]}),h.showSectorals!==!1&&s.jsxs("section",{id:"sectoral-indices",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Sectoral Indices"]}),s.jsx("div",{className:"sectoral-grid",children:U?.map((J,le)=>s.jsxs("div",{className:"sectoral-card",style:v(J),children:[s.jsx("div",{className:"sectoral-card__name",children:J.name}),s.jsx("div",{className:"sectoral-card__value",children:J.value}),s.jsxs("div",{className:`sectoral-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"":""," ",J.changePercent,"%"]})]},le))})]}),h.showCommodities!==!1&&s.jsxs("section",{id:"commodities",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Commodity Watch"]}),s.jsx("div",{className:"commodity-grid",children:W?.map((J,le)=>s.jsxs("div",{className:"commodity-card",style:v(J),children:[s.jsx("div",{className:"commodity-card__name",children:J.name}),s.jsxs("div",{className:"commodity-card__value",children:[J.value," ",s.jsx("span",{className:"commodity-card__unit",children:J.unit})]}),s.jsxs("div",{className:`commodity-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"+":"",J.changePercent,"%"]})]},le))})]}),h.showCurrency!==!1&&s.jsxs("section",{id:"currency",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Currency Rates"]}),s.jsx("div",{className:"currency-grid",children:Y?.map((J,le)=>s.jsxs("div",{className:"currency-card",style:v(J),children:[s.jsx("div",{className:"currency-card__name",children:J.name}),s.jsxs("div",{className:"currency-card__value",children:["",J.value]}),s.jsxs("div",{className:`currency-card__change ${J.changePercent>=0?"text-success":"text-danger"}`,children:[J.changePercent>=0?"+":"",J.changePercent,"%"]})]},le))})]}),h.showFIIDII!==!1&&s.jsxs("section",{id:"fiidii",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," FII/DII Activity"]}),s.jsxs("div",{className:"fiidii-container",children:[s.jsxs("div",{className:"fiidii-block",children:[s.jsx("h3",{className:"fiidii-block__title",children:"FII (Foreign Investors)"}),s.jsxs("div",{className:"fiidii-stats",children:[s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Buy:"}),s.jsxs("span",{className:"fiidii-stat__value text-success",children:["",te?.fii?.buy," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Sell:"}),s.jsxs("span",{className:"fiidii-stat__value text-danger",children:["",te?.fii?.sell," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Net:"}),s.jsxs("span",{className:`fiidii-stat__value ${te?.fii?.net>=0?"text-success":"text-danger"}`,children:["",te?.fii?.net," Cr"]})]})]})]}),s.jsxs("div",{className:"fiidii-block",children:[s.jsx("h3",{className:"fiidii-block__title",children:"DII (Domestic Investors)"}),s.jsxs("div",{className:"fiidii-stats",children:[s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Buy:"}),s.jsxs("span",{className:"fiidii-stat__value text-success",children:["",te?.dii?.buy," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Sell:"}),s.jsxs("span",{className:"fiidii-stat__value text-danger",children:["",te?.dii?.sell," Cr"]})]}),s.jsxs("div",{className:"fiidii-stat",children:[s.jsx("span",{className:"fiidii-stat__label",children:"Net:"}),s.jsxs("span",{className:`fiidii-stat__value ${te?.dii?.net>=0?"text-success":"text-danger"}`,children:["",te?.dii?.net," Cr"]})]})]})]}),s.jsxs("div",{className:"fiidii-date",children:["As of: ",te?.date]})]})]}),h.showMutualFunds!==!1&&s.jsxs("section",{id:"mutual-funds",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," Mutual Fund NAVs"]}),s.jsx(JS,{funds:k})]}),h.showIPO!==!1&&s.jsxs("section",{id:"ipo-tracker",className:"market-section",children:[s.jsxs("h2",{className:"market-section__title",children:[s.jsx("span",{children:""})," IPO Tracker"]}),s.jsx(PS,{ipoData:z})]}),s.jsxs("div",{className:"market-disclaimer",children:[s.jsx("div",{children:"* Data is for informational purposes only. Not investment advice."}),a?.fetchedAt&&s.jsxs("div",{style:{fontSize:"0.7rem",opacity:.7,marginTop:"4px"},children:["Last Updated: ",new Date(a.fetchedAt).toLocaleString()]})]})]}),s.jsx(bu,{sections:E}),s.jsx("button",{onClick:P,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:w?1:0,pointerEvents:w?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:""})]})}const mg="buzz_page_cache";function tw(){const{newsData:a,refreshNews:i,loading:r,loadSection:o}=wr(),{settings:u}=pt(),[f,h]=_.useState("tamil"),[m,g]=_.useState(null),[p,x]=_.useState(0);_.useEffect(()=>{try{const Y=localStorage.getItem(mg);if(Y){const te=JSON.parse(Y);Date.now()-(te.timestamp||0)<480*60*1e3?(g(te),x(1)):(console.log("[Buzz] Cache expired, showing anyway until live loads"),g(te),x(1))}}catch(Y){console.warn("Buzz Cache read error",Y)}},[]),_.useEffect(()=>{["entertainment","social","technology","local","world","india","chennai"].forEach(te=>o(te))},[o]);const v=Tn.useCallback(Y=>{if(!Y)return[];const te=(u.freshnessLimitHours||72)*36e5,P=Date.now();return Y.filter(J=>P-(J.publishedAt||0)<te)},[u.freshnessLimitHours]),w=a.entertainment&&a.entertainment.length>0;_.useEffect(()=>{w&&x(3)},[w]);const j=w?a:m?.data||{},E=_.useMemo(()=>{const Y=j.entertainment||[],te={tamil:["vijay","ajith","rajini","kamal","dhanush","suriya","vikram","simbu","siva karthikeyan","trisha","nayanthara","anirudh","ar rahman","kollywood","thalapathy","thala","udhayanidhi","vetri maaran","lokesh","nelson","jailer","leo","kanguva","indian 2","vettaiyan","goat","viduthalai","karthi","sethupathi","tamil","chennai"],hindi:["shah rukh","srk","salman","aamir","ranbir","alia","deepika","ranveer","kareena","akshay","bachchan","bollywood","hrithik","katrina","vicky kaushal","karan johar","yrf","dharma","pathaan","jawan","tiger 3","animal","dunki","war 2","singham","hindi","mumbai"],hollywood:["oscar","grammy","emmy","golden globe","marvel","dc","disney","warner bros","universal","tom cruise","dicaprio","nolan","avengers","spider-man","batman","superman","taylor swift","beyonce","kim kardashian","kanye","justin bieber","selena gomez","zendaya","hollywood","bad bunny","rihanna","drake"],ott:["netflix","prime video","hotstar","sonyliv","zee5","aha","streaming","web series","season","episode","ott"]};return Y.map(P=>{const J=(P.title+" "+(P.summary||"")).toLowerCase();return te.tamil.some(le=>J.includes(le))?{...P,region:"tamil"}:te.hindi.some(le=>J.includes(le))?{...P,region:"hindi"}:te.hollywood.some(le=>J.includes(le))?{...P,region:"hollywood"}:te.ott.some(le=>J.includes(le))?{...P,region:"ott"}:P})},[j.entertainment]),T=_.useMemo(()=>{const Y={india:["india","indian","bollywood","cricket","modi","delhi","mumbai","bangalore","hyderabad","ipl","bcci"],tamilnadu:["chennai","tamil","tamilnadu","kollywood","rajini","kamal","vijay","trichy","coimbatore","madurai","tn"],muscat:["muscat","oman","gulf","gcc","uae","dubai","arab","middle east","expat","omani"]},te=ae=>{const L=(ae.title+" "+(ae.summary||"")).toLowerCase();return Y.tamilnadu.some(X=>L.includes(X))?"tamilnadu":Y.muscat.some(X=>L.includes(X))?"muscat":Y.india.some(X=>L.includes(X))?"india":"world"},P=v(j.social||[]),J=v(j.world||[]),le=v(j.india||[]),ie=v(j.chennai||[]),ne=v(j.local||[]),I={world:[],india:[],tamilnadu:[],muscat:[]};P.forEach(ae=>{const L=te(ae);I[L].push({...ae,source:"social"})}),J.filter(ae=>ae.title?.toLowerCase().includes("trend")||ae.title?.toLowerCase().includes("viral")||ae.title?.toLowerCase().includes("social")).forEach(ae=>I.world.push({...ae,source:"world"})),le.filter(ae=>ae.title?.toLowerCase().includes("trend")||ae.title?.toLowerCase().includes("viral")||ae.title?.toLowerCase().includes("social")).forEach(ae=>I.india.push({...ae,source:"india"})),ie.forEach(ae=>{I.tamilnadu.push({...ae,source:"chennai"})}),ne.forEach(ae=>{I.muscat.push({...ae,source:"local"})});const re={world:u.socialTrends?.worldCount??8,india:u.socialTrends?.indiaCount??8,tamilnadu:u.socialTrends?.tamilnaduCount??5,muscat:u.socialTrends?.muscatCount??4},se=[];return Object.entries(re).forEach(([ae,L])=>{const X=I[ae];X.sort((M,Z)=>(Z.publishedAt||0)-(M.publishedAt||0)),X.slice(0,L).forEach(M=>{se.push({...M,region:ae,regionLabel:ae==="world"?" World":ae==="india"?" India":ae==="tamilnadu"?" Tamil Nadu":" Muscat"})})}),se.sort((ae,L)=>(L.publishedAt||0)-(ae.publishedAt||0)),se},[j,u.freshnessLimitHours,u.socialTrends,v]);_.useEffect(()=>{if(w)try{const Y={timestamp:Date.now(),data:{entertainment:a.entertainment,social:a.social,technology:a.technology,world:a.world,india:a.india,chennai:a.chennai,local:a.local}};localStorage.setItem(mg,JSON.stringify(Y))}catch(Y){console.warn("Buzz Cache write error",Y)}},[w,a]);const k=()=>{x(3),i(["technology","social","world","india","chennai","local"])},z=[{id:"entertainment",icon:"",label:"Entertainment"},{id:"social-trends",icon:"",label:"Social Trends"},{id:"tech-news",icon:"",label:"Tech & Startups"},{id:"ai-innovation",icon:"",label:"AI & Innovation"}],[N,U]=_.useState(!1);_.useEffect(()=>{const Y=()=>{window.scrollY>400?U(!0):U(!1)};return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]);const W=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsxs("div",{className:"page-container",children:[s.jsx(Ra,{title:"Buzz Hub",icon:"",onRefresh:k,loadingPhase:p||(r?3:0)}),s.jsxs("main",{className:"main-content",children:[s.jsxs("section",{id:"entertainment",className:"news-section entertainment-hub",children:[s.jsxs("h2",{className:"news-section__title news-section__title--entertainment",children:[s.jsx("span",{children:""})," Entertainment"]}),s.jsxs("div",{className:"entertainment-tabs",children:[s.jsx("button",{className:`ent-tab ${f==="tamil"?"ent-tab--active":""}`,onClick:()=>h("tamil"),children:" Tamil"}),s.jsx("button",{className:`ent-tab ${f==="hindi"?"ent-tab--active":""}`,onClick:()=>h("hindi"),children:" Hindi"}),s.jsx("button",{className:`ent-tab ${f==="hollywood"?"ent-tab--active":""}`,onClick:()=>h("hollywood"),children:" Hollywood"}),s.jsx("button",{className:`ent-tab ${f==="ott"?"ent-tab--active":""}`,onClick:()=>h("ott"),children:" OTT"})]}),s.jsx("div",{className:"entertainment-content",children:s.jsx(nn,{title:f==="tamil"?"Tamil Cinema":f==="hindi"?"Hindi Cinema":f==="hollywood"?"Hollywood":"OTT & Streaming",icon:f==="tamil"?"":f==="hindi"?"":f==="hollywood"?"":"",news:v(E.filter(Y=>Y.region===f)),maxDisplay:f==="tamil"?u.entertainment?.tamilCount??5:f==="hindi"?u.entertainment?.hindiCount??5:f==="hollywood"?u.entertainment?.hollywoodCount??3:u.entertainment?.ottCount??2,hideTitle:!0,showCritics:!1})})]}),s.jsxs("section",{id:"social-trends",className:"news-section",children:[s.jsxs("h2",{className:"news-section__title news-section__title--social",children:[s.jsx("span",{children:""})," Social Trends"]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",padding:"0 16px"},children:[T.map((Y,te)=>s.jsx(dr,{article:{...Y,time:Y.time||"Recently"},href:Y.link,badge:Y.regionLabel,size:"medium"},te)),T.length===0&&s.jsx("div",{className:"empty-state",style:{gridColumn:"1/-1"},children:s.jsx("p",{children:"No social trends available"})})]})]}),s.jsx(nn,{id:"tech-news",title:"Tech & Startups",icon:"",colorClass:"news-section__title--world",news:v(j.technology),maxDisplay:u.sections?.technology?.count||5,showCritics:!1}),s.jsx(nn,{id:"ai-innovation",title:"AI & Innovation",icon:"",colorClass:"news-section__title--entertainment",news:v(j.technology?.filter(Y=>Y.title?.toLowerCase().includes("ai")||Y.title?.toLowerCase().includes("innovation")||Y.title?.toLowerCase().includes("machine learning")||Y.title?.toLowerCase().includes("chatgpt")||Y.title?.toLowerCase().includes("gemini"))),maxDisplay:6,showCritics:!1})]}),s.jsx(bu,{sections:z}),s.jsx("button",{onClick:W,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(var(--bg-card), 0.6)",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:N?1:0,pointerEvents:N?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},className:"back-to-top",children:""})]})}const nw=({article:a,sourceName:i,isTranslated:r})=>{const o=r&&a.title_en?a.title_en:a.title;return s.jsxs("article",{className:"newspaper-card",children:[i&&s.jsx("div",{className:"newspaper-card__source",children:i}),s.jsx("h3",{className:"newspaper-card__title",children:s.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",children:o})}),s.jsx("div",{className:"newspaper-card__footer",children:s.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"newspaper-card__link",children:["Read Full Story ",s.jsx(sS,{size:10})]})})]})};var gg;(function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"})(gg||(gg={}));var pg;(function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"})(pg||(pg={}));var yg;(function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(yg||(yg={}));const vg=["user","model","function","system"];var xg;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(xg||(xg={}));var bg;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(bg||(bg={}));var Sg;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Sg||(Sg={}));var wg;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"})(wg||(wg={}));var Ri;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"})(Ri||(Ri={}));var jg;(function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"})(jg||(jg={}));var _g;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(_g||(_g={}));var Eg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Eg||(Eg={}));class ht extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class El extends ht{constructor(i,r){super(i),this.response=r}}class Mp extends ht{constructor(i,r,o,u){super(i),this.status=r,this.statusText=o,this.errorDetails=u}}class ra extends ht{}class Rp extends ht{}const aw="https://generativelanguage.googleapis.com",lw="v1beta",iw="0.24.1",sw="genai-js";var Oa;(function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Oa||(Oa={}));class rw{constructor(i,r,o,u,f){this.model=i,this.task=r,this.apiKey=o,this.stream=u,this.requestOptions=f}toString(){var i,r;const o=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||lw;let f=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||aw}/${o}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function ow(a){const i=[];return a?.apiClient&&i.push(a.apiClient),i.push(`${sw}/${iw}`),i.join(" ")}async function cw(a){var i;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",ow(a.requestOptions)),r.append("x-goog-api-key",a.apiKey);let o=(i=a.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(u){throw new ra(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${u.message}`)}for(const[u,f]of o.entries()){if(u==="x-goog-api-key")throw new ra(`Cannot set reserved header name ${u}`);if(u==="x-goog-api-client")throw new ra(`Header name ${u} can only be set using the apiClient field`);r.append(u,f)}}return r}async function uw(a,i,r,o,u,f){const h=new rw(a,i,r,o,f);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},mw(f)),{method:"POST",headers:await cw(h),body:u})}}async function Hi(a,i,r,o,u,f={},h=fetch){const{url:m,fetchOptions:g}=await uw(a,i,r,o,u,f);return dw(m,g,h)}async function dw(a,i,r=fetch){let o;try{o=await r(a,i)}catch(u){fw(u,a)}return o.ok||await hw(o,a),o}function fw(a,i){let r=a;throw r.name==="AbortError"?(r=new Rp(`Request aborted when fetching ${i.toString()}: ${a.message}`),r.stack=a.stack):a instanceof Mp||a instanceof ra||(r=new ht(`Error fetching from ${i.toString()}: ${a.message}`),r.stack=a.stack),r}async function hw(a,i){let r="",o;try{const u=await a.json();r=u.error.message,u.error.details&&(r+=` ${JSON.stringify(u.error.details)}`,o=u.error.details)}catch{}throw new Mp(`Error fetching from ${i.toString()}: [${a.status} ${a.statusText}] ${r}`,a.status,a.statusText,o)}function mw(a){const i={};if(a?.signal!==void 0||a?.timeout>=0){const r=new AbortController;a?.timeout>=0&&setTimeout(()=>r.abort(),a.timeout),a?.signal&&a.signal.addEventListener("abort",()=>{r.abort()}),i.signal=r.signal}return i}function wu(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),fr(a.candidates[0]))throw new El(`${ia(a)}`,a);return gw(a)}else if(a.promptFeedback)throw new El(`Text not available. ${ia(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fr(a.candidates[0]))throw new El(`${ia(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ng(a)[0]}else if(a.promptFeedback)throw new El(`Function call not available. ${ia(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fr(a.candidates[0]))throw new El(`${ia(a)}`,a);return Ng(a)}else if(a.promptFeedback)throw new El(`Function call not available. ${ia(a)}`,a)},a}function gw(a){var i,r,o,u;const f=[];if(!((r=(i=a.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const h of(u=(o=a.candidates)===null||o===void 0?void 0:o[0].content)===null||u===void 0?void 0:u.parts)h.text&&f.push(h.text),h.executableCode&&f.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&f.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function Ng(a){var i,r,o,u;const f=[];if(!((r=(i=a.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const h of(u=(o=a.candidates)===null||o===void 0?void 0:o[0].content)===null||u===void 0?void 0:u.parts)h.functionCall&&f.push(h.functionCall);if(f.length>0)return f}const pw=[Ri.RECITATION,Ri.SAFETY,Ri.LANGUAGE];function fr(a){return!!a.finishReason&&pw.includes(a.finishReason)}function ia(a){var i,r,o;let u="";if((!a.candidates||a.candidates.length===0)&&a.promptFeedback)u+="Response was blocked",!((i=a.promptFeedback)===null||i===void 0)&&i.blockReason&&(u+=` due to ${a.promptFeedback.blockReason}`),!((r=a.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(u+=`: ${a.promptFeedback.blockReasonMessage}`);else if(!((o=a.candidates)===null||o===void 0)&&o[0]){const f=a.candidates[0];fr(f)&&(u+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(u+=`: ${f.finishMessage}`))}return u}function Oi(a){return this instanceof Oi?(this.v=a,this):new Oi(a)}function yw(a,i,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(a,i||[]),u,f=[];return u={},h("next"),h("throw"),h("return"),u[Symbol.asyncIterator]=function(){return this},u;function h(w){o[w]&&(u[w]=function(j){return new Promise(function(E,T){f.push([w,j,E,T])>1||m(w,j)})})}function m(w,j){try{g(o[w](j))}catch(E){v(f[0][3],E)}}function g(w){w.value instanceof Oi?Promise.resolve(w.value.v).then(p,x):v(f[0][2],w)}function p(w){m("next",w)}function x(w){m("throw",w)}function v(w,j){w(j),f.shift(),f.length&&m(f[0][0],f[0][1])}}const Cg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vw(a){const i=a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Sw(i),[o,u]=r.tee();return{stream:bw(o),response:xw(u)}}async function xw(a){const i=[],r=a.getReader();for(;;){const{done:o,value:u}=await r.read();if(o)return wu(ww(i));i.push(u)}}function bw(a){return yw(this,arguments,function*(){const r=a.getReader();for(;;){const{value:o,done:u}=yield Oi(r.read());if(u)break;yield yield Oi(wu(o))}})}function Sw(a){const i=a.getReader();return new ReadableStream({start(o){let u="";return f();function f(){return i.read().then(({value:h,done:m})=>{if(m){if(u.trim()){o.error(new ht("Failed to parse stream"));return}o.close();return}u+=h;let g=u.match(Cg),p;for(;g;){try{p=JSON.parse(g[1])}catch{o.error(new ht(`Error parsing JSON response: "${g[1]}"`));return}o.enqueue(p),u=u.substring(g[0].length),g=u.match(Cg)}return f()}).catch(h=>{let m=h;throw m.stack=h.stack,m.name==="AbortError"?m=new Rp("Request aborted when reading from the stream"):m=new ht("Error reading from the stream"),m})}}})}function ww(a){const i=a[a.length-1],r={promptFeedback:i?.promptFeedback};for(const o of a){if(o.candidates){let u=0;for(const f of o.candidates)if(r.candidates||(r.candidates=[]),r.candidates[u]||(r.candidates[u]={index:u}),r.candidates[u].citationMetadata=f.citationMetadata,r.candidates[u].groundingMetadata=f.groundingMetadata,r.candidates[u].finishReason=f.finishReason,r.candidates[u].finishMessage=f.finishMessage,r.candidates[u].safetyRatings=f.safetyRatings,f.content&&f.content.parts){r.candidates[u].content||(r.candidates[u].content={role:f.content.role||"user",parts:[]});const h={};for(const m of f.content.parts)m.text&&(h.text=m.text),m.functionCall&&(h.functionCall=m.functionCall),m.executableCode&&(h.executableCode=m.executableCode),m.codeExecutionResult&&(h.codeExecutionResult=m.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),r.candidates[u].content.parts.push(h)}u++}o.usageMetadata&&(r.usageMetadata=o.usageMetadata)}return r}async function kp(a,i,r,o){const u=await Hi(i,Oa.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(r),o);return vw(u)}async function Op(a,i,r,o){const f=await(await Hi(i,Oa.GENERATE_CONTENT,a,!1,JSON.stringify(r),o)).json();return{response:wu(f)}}function Dp(a){if(a!=null){if(typeof a=="string")return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)return a.role?a:{role:"system",parts:a.parts}}}function Di(a){let i=[];if(typeof a=="string")i=[{text:a}];else for(const r of a)typeof r=="string"?i.push({text:r}):i.push(r);return jw(i)}function jw(a){const i={role:"user",parts:[]},r={role:"function",parts:[]};let o=!1,u=!1;for(const f of a)"functionResponse"in f?(r.parts.push(f),u=!0):(i.parts.push(f),o=!0);if(o&&u)throw new ht("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!u)throw new ht("No content is provided for sending chat message.");return o?i:r}function _w(a,i){var r;let o={model:i?.model,generationConfig:i?.generationConfig,safetySettings:i?.safetySettings,tools:i?.tools,toolConfig:i?.toolConfig,systemInstruction:i?.systemInstruction,cachedContent:(r=i?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const u=a.generateContentRequest!=null;if(a.contents){if(u)throw new ra("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=a.contents}else if(u)o=Object.assign(Object.assign({},o),a.generateContentRequest);else{const f=Di(a);o.contents=[f]}return{generateContentRequest:o}}function Tg(a){let i;return a.contents?i=a:i={contents:[Di(a)]},a.systemInstruction&&(i.systemInstruction=Dp(a.systemInstruction)),i}function Ew(a){return typeof a=="string"||Array.isArray(a)?{content:Di(a)}:a}const Ag=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Nw={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Cw(a){let i=!1;for(const r of a){const{role:o,parts:u}=r;if(!i&&o!=="user")throw new ht(`First content should be with role 'user', got ${o}`);if(!vg.includes(o))throw new ht(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(vg)}`);if(!Array.isArray(u))throw new ht("Content should have 'parts' property with an array of Parts");if(u.length===0)throw new ht("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of u)for(const g of Ag)g in m&&(f[g]+=1);const h=Nw[o];for(const m of Ag)if(!h.includes(m)&&f[m]>0)throw new ht(`Content with role '${o}' can't contain '${m}' part`);i=!0}}function Mg(a){var i;if(a.candidates===void 0||a.candidates.length===0)return!1;const r=(i=a.candidates[0])===null||i===void 0?void 0:i.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const o of r.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}const Rg="SILENT_ERROR";class Tw{constructor(i,r,o,u={}){this.model=r,this.params=o,this._requestOptions=u,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,o?.history&&(Cw(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,r={}){var o,u,f,h,m,g;await this._sendPromise;const p=Di(i),x={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),r);let w;return this._sendPromise=this._sendPromise.then(()=>Op(this._apiKey,this.model,x,v)).then(j=>{var E;if(Mg(j.response)){this._history.push(p);const T=Object.assign({parts:[],role:"model"},(E=j.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(T)}else{const T=ia(j.response);T&&console.warn(`sendMessage() was unsuccessful. ${T}. Inspect response object for details.`)}w=j}).catch(j=>{throw this._sendPromise=Promise.resolve(),j}),await this._sendPromise,w}async sendMessageStream(i,r={}){var o,u,f,h,m,g;await this._sendPromise;const p=Di(i),x={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),r),w=kp(this._apiKey,this.model,x,v);return this._sendPromise=this._sendPromise.then(()=>w).catch(j=>{throw new Error(Rg)}).then(j=>j.response).then(j=>{if(Mg(j)){this._history.push(p);const E=Object.assign({},j.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=ia(j);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(j=>{j.message!==Rg&&console.error(j)}),w}}async function Aw(a,i,r,o){return(await Hi(i,Oa.COUNT_TOKENS,a,!1,JSON.stringify(r),o)).json()}async function Mw(a,i,r,o){return(await Hi(i,Oa.EMBED_CONTENT,a,!1,JSON.stringify(r),o)).json()}async function Rw(a,i,r,o){const u=r.requests.map(h=>Object.assign(Object.assign({},h),{model:i}));return(await Hi(i,Oa.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:u}),o)).json()}class kg{constructor(i,r,o={}){this.apiKey=i,this._requestOptions=o,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Dp(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(i,r={}){var o;const u=Tg(i),f=Object.assign(Object.assign({},this._requestOptions),r);return Op(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},u),f)}async generateContentStream(i,r={}){var o;const u=Tg(i),f=Object.assign(Object.assign({},this._requestOptions),r);return kp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},u),f)}startChat(i){var r;return new Tw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),this._requestOptions)}async countTokens(i,r={}){const o=_w(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),u=Object.assign(Object.assign({},this._requestOptions),r);return Aw(this.apiKey,this.model,o,u)}async embedContent(i,r={}){const o=Ew(i),u=Object.assign(Object.assign({},this._requestOptions),r);return Mw(this.apiKey,this.model,o,u)}async batchEmbedContents(i,r={}){const o=Object.assign(Object.assign({},this._requestOptions),r);return Rw(this.apiKey,this.model,i,o)}}class kw{constructor(i){this.apiKey=i}getGenerativeModel(i,r){if(!i.model)throw new ht("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new kg(this.apiKey,i,r)}getGenerativeModelFromCachedContent(i,r,o){if(!i.name)throw new ra("Cached content must contain a `name` field.");if(!i.model)throw new ra("Cached content must contain a `model` field.");const u=["model","systemInstruction"];for(const h of u)if(r?.[h]&&i[h]&&r?.[h]!==i[h]){if(h==="model"){const m=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,g=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(m===g)continue}throw new ra(`Different value for "${h}" specified in modelParams (${r[h]}) and cachedContent (${i[h]})`)}const f=Object.assign(Object.assign({},r),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new kg(this.apiKey,f,o)}}let Og=null,fu=null;const Dg=a=>{if(!a)return!1;try{return Og=new kw(a),fu=Og.getGenerativeModel({model:"gemini-1.5-flash"}),!0}catch(i){return console.error("Failed to initialize Gemini AI:",i),!1}},su={generateSummary:async(a,i,r=!1)=>{if(!Dg(i))throw new Error("Invalid or missing API Key");let u=`You are a professional news editor. Summarize the following news headlines into a concise, insightful daily briefing (3-4 bullet points).

Headlines:
${a.slice(0,15).map(f=>`- ${f.title}`).join(`
`)}`;r?u+=`

REQUIREMENTS:
1. Provide the summary in TWO languages: English and Tamil.
2. SEPARATE the English summary and Tamil summary with the exact delimiter "|||".

OUTPUT FORMAT:
<English Summary>
|||
<Tamil Summary>`:u+=`

REQUIREMENTS:
1. Language: English ONLY.
2. No introductory text.`;try{const m=(await(await fu.generateContent(u)).response).text().trim();if(r&&m.includes("|||")){const g=m.split("|||");return{summary:g[0].trim(),summary_ta:g[1].trim()}}return{summary:m}}catch(f){throw console.error("Summary generation failed:",f),new Error("AI Generation Failed. Check your API Key or Quota.")}},translateTexts:async(a,i)=>{if(!Dg(i))throw new Error("Invalid or missing API Key");const o=`Translate the following news headlines to English. Maintain journalistic style. Return ONLY the translated list, numbered exactly as input.

${a.map((u,f)=>`${f+1}. ${u}`).join(`
`)}`;try{const m=(await(await fu.generateContent(o)).response).text().split(`
`),g=new Array(a.length).fill(null);return m.forEach(p=>{const x=p.match(/^(\d+)\.\s+(.*)/);if(x){const v=parseInt(x[1])-1;v>=0&&v<a.length&&(g[v]=x[2].trim())}}),g}catch(u){throw console.error("Translation failed:",u),u}}},Ow="https://api.allorigins.win/raw?url=";async function Dw(a){if(!a)return"";try{const i=Ow+encodeURIComponent(a),r=await fetch(i,{signal:AbortSignal.timeout(12e3)});if(!r.ok)return"";const o=await r.text();return zw(o)}catch{return""}}function zw(a){const r=new DOMParser().parseFromString(a,"text/html");r.querySelectorAll("script, style, nav, footer, header, aside, .ad, .advertisement, .social-share, .comments").forEach(h=>h.remove());const o=["article",'[itemprop="articleBody"]',".article-body",".story-content",".article-content",".post-content",".entry-content",".td-post-content","#article-body",".story-element","main"];for(const h of o){const m=r.querySelector(h);if(m){const g=m.textContent.trim();if(g.length>200)return g.slice(0,5e3)}}return Array.from(r.querySelectorAll("p")).map(h=>h.textContent.trim()).filter(h=>h.length>40).join(`

`).slice(0,5e3)}async function Lw(a,i=5){if(!a||a.length<100)return a||"";const r=await Uw(a);return r||Bw(a,i)}async function Uw(a){try{if(!("ai"in self)||!("summarizer"in self.ai)||(await self.ai.summarizer.capabilities()).available==="no")return null;const r=await self.ai.summarizer.create({type:"key-points",format:"plain-text",length:"medium"}),o=await r.summarize(a);return r.destroy(),o}catch{return null}}function Bw(a,i=5){const r=a.replace(/([.!?])\s+/g,`$1
`).split(`
`).map(m=>m.trim()).filter(m=>m.length>20&&m.length<500);if(r.length<=i)return r.join(" ");const o=a.toLowerCase().split(/\W+/).filter(m=>m.length>3),u={};for(const m of o)u[m]=(u[m]||0)+1;const f=r.map((m,g)=>{const p=m.toLowerCase().split(/\W+/).filter(v=>v.length>3);let x=0;for(const v of p)x+=u[v]||0;return x=x/Math.max(p.length,1),g<3&&(x*=1.3),g===r.length-1&&(x*=1.1),{sentence:m,score:x,index:g}});f.sort((m,g)=>g.score-m.score);const h=f.slice(0,i);return h.sort((m,g)=>m.index-g.index),h.map(m=>m.sentence).join(" ")}const Hw={THE_HINDU:{sections:[{id:"india",title:"Front Page",limit:10},{id:"world",title:"International",limit:6},{id:"business",title:"Business",limit:5},{id:"sports",title:"Sport",limit:5}]},INDIAN_EXPRESS:{sections:[{id:"india",title:"Front Page",limit:10},{id:"world",title:"World",limit:5},{id:"technology",title:"Explained / Tech",limit:5}]},DINAMANI:{sections:[{id:"chennai",title:"Tamil Nadu",limit:10},{id:"entertainment",title:"Cinema",limit:5}]},DAILY_THANTHI:{sections:[{id:"chennai",title:"Headlines",limit:10},{id:"local",title:"District News",limit:5}]}},Iw={getVirtualPaper:async a=>{const i=Hw[a];if(!i)return console.warn(`[VirtualPaper] No config for ${a}`),[];console.log(`[VirtualPaper] Generating for ${a}...`);const r=i.sections.map(async u=>{try{const f=await uu(u.id,u.limit);return{page:u.title,articles:f.map(h=>({title:h.title,link:h.link,description:h.description,source:h.source,publishedAt:h.publishedAt}))}}catch(f){return console.error(`[VirtualPaper] Failed to fetch section ${u.id}`,f),{page:u.title,articles:[],error:"Failed to load section"}}});return(await Promise.all(r)).filter(u=>u.articles.length>0)}},qw="./data/epaper_data.json",En={THE_HINDU:{id:"THE_HINDU",label:"The Hindu",lang:"en"},INDIAN_EXPRESS:{id:"INDIAN_EXPRESS",label:"Indian Express",lang:"en"},DINAMANI:{id:"DINAMANI",label:"Dinamani",lang:"ta"},DAILY_THANTHI:{id:"DAILY_THANTHI",label:"Daily Thanthi",lang:"ta"}},Gw=()=>{const{settings:a}=pt(),{isWebView:i}=Er(),[r,o]=_.useState(En.THE_HINDU.id),[u,f]=_.useState(null),[h,m]=_.useState(null),[g,p]=_.useState(!0),[x,v]=_.useState(null),[w,j]=_.useState(!1),[E,T]=_.useState({}),[k,z]=_.useState({}),[N,U]=_.useState(!1),[W,Y]=_.useState(!1),[te,P]=_.useState(!1),[J,le]=_.useState({}),[ie,ne]=_.useState(!1),I=a.newspaper?.summaryLineLimit||50,re=_.useCallback(async()=>{p(!0),v(null);try{const S=await fetch(`${qw}?t=${Date.now()}`);if(!S.ok)throw new Error("Failed to fetch data");const A=await S.json();if(!A||!A.sources)throw new Error("Invalid data format");f(A.sources),m(A.lastUpdated)}catch(S){console.warn("JSON fetch failed, trying RSS fallback...",S);try{const A=await se();f(A),m(new Date().toISOString())}catch(A){console.error("Fallback failed:",A),v("Failed to load today's paper. Please check your internet connection.")}}finally{p(!1)}},[]),se=async()=>{const S={},A=new Promise((F,ee)=>setTimeout(()=>ee(new Error("Timeout")),15e3)),O=Object.keys(En).map(async F=>{try{const ee=await Iw.getVirtualPaper(F);ee&&ee.length>0&&(S[F]=ee)}catch(ee){console.warn(`Virtual Paper failed for ${F}:`,ee.message)}});try{await Promise.race([Promise.all(O),A])}catch(F){console.warn("Virtual Paper fetch timed out or failed:",F)}if(Object.keys(S).length===0)throw new Error("Failed to generate Virtual Paper. Please check connection.");return S};_.useEffect(()=>{re()},[re]),_.useEffect(()=>{(async()=>{if(!u||!u[r]||!a.geminiKey)return;const A=u[r],O=En[r].lang==="ta";for(const F of A){const ee=!F.summary&&!F.summary_ta||F.error,oe=E[F.page];if(ee&&!oe&&!N){U(!0);try{console.log(`Generating fallback summary for ${F.page}...`);const de=await su.generateSummary(F.articles,a.geminiKey,O);T(we=>({...we,[F.page]:de}))}catch(de){console.error(`Failed to generate summary for ${F.page}:`,de)}finally{U(!1)}}}})()},[u,r,a.geminiKey,E,N]);const ae=_.useCallback(async(S,A)=>{const O=`${r}_${S}`;if(J[O])return;const F=A?.[0];if(F?.link)try{const ee=await Dw(F.link);if(ee&&ee.length>200){const oe=await Lw(ee,6);oe&&le(de=>({...de,[O]:oe}))}}catch{}},[r,J]);_.useEffect(()=>{(async()=>{if(!w||!u||!u[r]||En[r].lang==="en"||!a.geminiKey)return;const A=u[r];let O=[],F=[];if(A.forEach(ee=>{ee.articles.forEach(oe=>{const de=oe.title_en,we=k[oe.link];!de&&!we&&(O.push(oe.title),F.push(oe.link))})}),O.length>0&&!W){Y(!0);try{console.log(`Translating ${O.length} titles...`);const ee=15;for(let oe=0;oe<O.length;oe+=ee){const de=O.slice(oe,oe+ee),we=await su.translateTexts(de,a.geminiKey);z(je=>{const at={...je};return we.forEach((Dt,ve)=>{const lt=oe+ve;F[lt]&&(at[F[lt]]=Dt)}),at})}}catch(ee){console.error("Translation failed:",ee)}finally{Y(!1)}}})()},[w,u,r,a.geminiKey,k,W]);const L=S=>{const A=E[S.page];if(A){if(w&&A.summary)return{text:A.summary,method:"gemini"};if(!w&&A.summary_ta)return{text:A.summary_ta,method:"gemini"};if(A.summary)return{text:A.summary,method:"gemini"}}if(w){if(S.summary)return{text:S.summary,method:S.summary_method||"server"};if(S.summary_ta)return{text:S.summary_ta,method:S.summary_method||"server"}}else{if(S.summary_ta)return{text:S.summary_ta,method:S.summary_method||"server"};if(S.summary)return{text:S.summary,method:S.summary_method||"server"}}const O=`${r}_${S.page}`;return J[O]?{text:J[O],method:"extractive"}:null},X=async()=>{if(!u||!u[r])return;ne(!0);const A=u[r].map(async O=>{const F=`${r}_${O.page}`,ee=E[O.page],oe=J[F],de=En[r].lang==="ta"&&!w?O.summary_ta:O.summary;if(!(ee||oe||de))if(a.geminiKey)try{const we=await su.generateSummary(O.articles,a.geminiKey,En[r].lang==="ta");T(je=>({...je,[O.page]:we}))}catch(we){console.error(`Gemini Gen Failed for ${O.page}:`,we)}else try{await ae(O.page,O.articles)}catch(we){console.error(`Client Summary Failed for ${O.page}:`,we)}});await Promise.allSettled(A),ne(!1)};_.useEffect(()=>{if(!u||!u[r])return;const S=u[r][0];S&&!S.summary&&!S.summary_ta&&!a.geminiKey&&ae(S.page,S.articles)},[u,r,a.geminiKey,ae]);const $=u?u[r]:[],Z=En[r].lang==="ta";return s.jsxs("div",{className:`page-container mode-newspaper ${i?"page-container--desktop":""}`,children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"header__title",children:[s.jsx(cS,{className:"header__title-icon"}),s.jsx("span",{children:"Daily Brief"})]}),s.jsxs("div",{className:"header__actions",style:{gap:"8px"},children:[s.jsx("button",{onClick:X,className:`btn-icon ${ie?"pulse":""}`,title:"Generate All Summaries",disabled:ie,style:{color:ie?"var(--accent-primary)":"var(--text-secondary)"},children:s.jsx(lS,{size:18})}),s.jsx("button",{onClick:()=>P(!te),className:`btn-icon ${te?"active":""}`,title:te?"Card View":"Digest View",style:{color:te?"var(--accent-primary)":"var(--text-secondary)",fontSize:"1.1rem"},children:te?"":""}),Z&&s.jsx("button",{onClick:()=>j(!w),className:`btn-icon ${w?"active":""}`,title:w?"Show Original (Tamil)":"Translate to English",style:{color:w?"var(--accent-primary)":"var(--text-secondary)"},children:s.jsx(rS,{size:24})}),s.jsx("button",{onClick:re,className:"btn-icon","aria-label":"Refresh",children:s.jsx(uS,{className:g?"spin":""})})]})]}),s.jsxs("div",{className:"topline",style:{borderRadius:0,margin:0,borderLeft:"none",borderBottom:"1px solid var(--border-default)",overflowX:"auto"},children:[s.jsx("div",{style:{display:"flex",gap:"8px",minWidth:"max-content"},children:Object.values(En).map(S=>s.jsx("button",{onClick:()=>{o(S.id),j(!1)},className:`btn ${r===S.id?"btn--primary":"btn--secondary"}`,style:{padding:"8px 12px",fontSize:"0.85rem",whiteSpace:"nowrap"},children:S.label},S.id))}),h&&s.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"8px",textAlign:"center"},children:["Updated: ",new Date(h).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("div",{className:"main-content",style:{padding:"16px"},children:g&&!u?s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Fetching Today's Brief..."})]}):x?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-state__icon",children:""}),s.jsx("p",{children:x}),s.jsx("button",{onClick:re,className:"btn btn--primary mt-md",children:"Retry"})]}):s.jsxs("div",{className:"newspaper-content",children:[!$||$.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"No content available for this source today."})}):$.map((S,A)=>{const O=L(S),F={gemini:"AI Summary",server:"Summary",extractive:"Auto-Summary",headlines:"Headlines"};return s.jsxs("div",{className:"newspaper-section",style:{marginBottom:"32px"},children:[s.jsxs("h2",{className:"zone-title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsx("span",{children:S.page}),W&&w&&s.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-primary)",fontWeight:"normal"},children:"Translating..."})]}),O?s.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"16px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid var(--accent-primary)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--accent-primary)",fontWeight:"bold",marginBottom:"8px"},children:[s.jsx(oS,{}),s.jsx("span",{children:F[O.method]||"Summary"}),O.method==="extractive"&&s.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"normal",color:"var(--text-muted)",marginLeft:"4px"},children:"(no API key needed)"})]}),s.jsx("div",{style:{whiteSpace:"pre-line",fontSize:"0.95rem",lineHeight:"1.6",fontFamily:"serif",display:"-webkit-box",WebkitLineClamp:I,WebkitBoxOrient:"vertical",overflow:"hidden"},children:O.text})]}):s.jsxs("div",{style:{padding:"12px",marginBottom:"20px",background:"rgba(255, 0, 0, 0.05)",borderLeft:"4px solid var(--accent-danger)",borderRadius:"4px",fontSize:"0.85rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(iS,{color:"var(--accent-danger)"}),s.jsx("span",{children:S.error==="Quota Exceeded"?"Daily AI Limit Reached.":S.error==="API Key Missing"?"AI Summary Unavailable.":"Summary not generated."})]}),!a.geminiKey&&s.jsx(sa,{to:"/settings",style:{color:"var(--accent-primary)",fontWeight:"bold"},children:"Add Key to Enable"}),a.geminiKey&&N&&s.jsx("span",{style:{color:"var(--accent-primary)"},children:"Generating..."})]}),te?s.jsx("div",{style:{fontSize:"0.9rem",lineHeight:"1.7"},children:S.articles.map((ee,oe)=>{const de=w&&(k[ee.link]||ee.title_en)||ee.title;return s.jsx("div",{style:{padding:"8px 0",borderBottom:"1px solid var(--border-default)"},children:s.jsx("a",{href:ee.link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text-primary)",textDecoration:"none",fontWeight:500},children:de})},oe)})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:S.articles.map((ee,oe)=>{const de={...ee,title_en:k[ee.link]||ee.title_en};return s.jsx(nw,{article:de,sourceName:En[r].label,isTranslated:w},oe)})})]},A)}),s.jsx("div",{className:"market-disclaimer",style:{marginTop:"32px"},children:"Content aggregated from official sources. Summaries generated by AI. Verify important details from original articles."})]})})]})};function Nn({checked:a,onChange:i,recommended:r=!1,disabled:o=!1}){return s.jsxs("label",{className:`toggle ${r?"toggle--recommended":""}`,children:[s.jsx("input",{type:"checkbox",className:"toggle__input",checked:a,onChange:u=>i(u.target.checked),disabled:o}),s.jsx("span",{className:"toggle__slider"})]})}const $w="https://api.allorigins.win/get?url=",Yw=a=>/\.(xml|rss|atom)$/i.test(a)||/feed|rss|atom/i.test(a),Fw=async a=>{try{if(!a)return[];if(Yw(a))return[{title:"Custom Feed",url:a}];const i=encodeURIComponent(a),o=await(await fetch(`${$w}${i}`)).json();if(!o.contents)throw new Error("Failed to fetch page content");const f=new DOMParser().parseFromString(o.contents,"text/html"),h=[];if(f.querySelectorAll('link[rel="alternate"][type="application/rss+xml"], link[rel="alternate"][type="application/atom+xml"]').forEach(g=>{let p=g.getAttribute("href");const x=g.getAttribute("title")||"RSS Feed";if(p&&!p.startsWith("http")){const v=new URL(a);p=new URL(p,v.origin).href}p&&h.push({title:x,url:p})}),h.length===0){const g=["/feed","/rss","/rss.xml","/atom.xml"],p=new URL(a).origin;g.forEach(x=>{h.push({title:`Possible Feed (${x})`,url:`${p}${x}`})})}return h}catch(i){return console.error("Feed discovery failed:",i),[]}},Vw="ver.12-02-26 time 17.41",Kw=()=>{const{settings:a}=pt(),[i,r]=_.useState([]),[o,u]=_.useState(null);_.useEffect(()=>{try{an&&typeof an.getLogs=="function"?r(an.getLogs()):r([])}catch(h){console.error("Failed to load logs",h),u(h.message)}},[]);const f=h=>{if(typeof h=="object")try{return JSON.stringify(h)}catch{return"[Circular Object]"}return String(h)};return o?s.jsxs("div",{className:"error-state",children:["Debug Error: ",o]}):s.jsxs("div",{className:"settings-tab-content",children:[s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:""})," Debug Info"]}),s.jsxs("div",{className:"settings-card",children:[s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"App Version:"})," ",a?.appVersion||"Unknown"]}),s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"User Agent:"})," ",navigator.userAgent]}),s.jsxs("div",{style:{fontSize:"0.8rem",marginBottom:"10px"},children:[s.jsx("strong",{children:"Screen:"})," ",window.innerWidth,"x",window.innerHeight]})]}),s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:""})," Recent Logs"]}),s.jsx("div",{className:"settings-card",style:{maxHeight:"300px",overflowY:"auto",background:"black",color:"#0f0",fontFamily:"monospace",fontSize:"0.7rem",padding:"10px"},children:i.length===0?s.jsx("div",{children:"No logs available."}):i.map((h,m)=>s.jsxs("div",{style:{marginBottom:"4px",borderBottom:"1px solid #333",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:[s.jsxs("span",{style:{color:"#888"},children:["[",new Date(h.timestamp).toLocaleTimeString(),"]"]})," ",s.jsxs("span",{style:{color:h.level==="error"?"red":h.level==="warn"?"orange":"#0f0"},children:[h.level.toUpperCase(),":"]})," ",f(h.message),h.details&&s.jsx("div",{style:{marginLeft:"15px",color:"#aaa",fontSize:"0.65rem"},children:f(h.details)})]},m))}),s.jsx("div",{className:"settings-card",children:s.jsx("button",{className:"btn btn--danger",onClick:()=>{window.confirm("Clear all data?")&&(localStorage.clear(),window.location.reload())},style:{width:"100%"},children:"Clear All Local Storage & Reload"})})]})},Xw=a=>{const i=a||{},r=i.freshness?.maxBoost||3,o=i.source?.tier1Boost||5,u=i.visual?.videoBoost||1.3,f=i.geo?.cityMatch||1.5;let h=0;return r>=2.5&&r<=4?h+=1.5:r>1&&(h+=1),o>=4&&o<=7?h+=1.5:o>=2&&(h+=1),u>=1.2&&u<=1.5?h+=1:h+=.5,f>=1.3&&f<=2?h+=1:h+=.5,Math.min(5,Math.max(1,Math.round(h)))};function Qw(){const{settings:a,updateSettings:i,reloadSettings:r}=pt(),[o,u]=_.useState("general"),[f,h]=_.useState(!1),[m,g]=_.useState(""),[p,x]=_.useState(!1),[v,w]=_.useState(null),[j,E]=_.useState({}),[T,k]=_.useState(null),[z,N]=_.useState({tier1:"",tier2:"",tier3:""}),[U,W]=_.useState({title:"Breaking: Major Economic Reforms Announced",description:"Government unveils new policy to boost GDP growth by 2%. Markets rally on the news.",source:"BBC News",age:2,section:"business",result:null});if(_.useEffect(()=>{if(!a?.rankingWeights)return;const M={title:U.title,description:U.description,source:U.source,publishedAt:Date.now()-U.age*60*60*1e3,section:U.section,imageUrl:null},Z={...a,debugLogs:!0},S=xu(M,U.section,0,Z);W(A=>({...A,result:{score:S,breakdown:M._scoreBreakdown}}))},[U.title,U.description,U.source,U.age,U.section,a]),!a)return s.jsx("div",{className:"loading",children:"Loading..."});const Y=(M,Z)=>{const S=M.split("."),A={...a};let O=A;for(let F=0;F<S.length-1;F++)O[S[F]]={...O[S[F]]},O=O[S[F]];O[S[S.length-1]]=Z,i(A)},te=()=>{h(!0),setTimeout(()=>h(!1),2e3),r()},P=()=>{window.confirm("Reset all settings to defaults?")&&(i({...Ot}),r())},J=(M,Z)=>{if(!Z||!Z.trim())return;const S=M.split(".");let A=a;for(const O of S)A=A?.[O]||[];Array.isArray(A)||(A=[]),A.includes(Z.trim())||Y(M,[...A,Z.trim()])},le=(M,Z)=>{const S=M.split(".");let A=a;for(const O of S)A=A?.[O]||[];Array.isArray(A)&&Y(M,A.filter(O=>O!==Z))},ie=(M,Z)=>{J(M,Z),E({...j,[M]:""})},ne=(M,Z)=>{if(!Z||!Z.trim())return;const S=a.sourceTiers?.[M]||[];S.some(A=>A.toLowerCase()===Z.trim().toLowerCase())||Y(`sourceTiers.${M}`,[...S,Z.trim()]),N({...z,[M]:""})},I=(M,Z)=>{const S=a.sourceTiers?.[M]||[];Y(`sourceTiers.${M}`,S.filter(A=>A!==Z))},re=async()=>{if(m){x(!0),w(null);try{const M=await Fw(m);if(M.length>0){const Z=M[0];i({...a,customFeeds:[...a.customFeeds||[],{title:Z.title,url:Z.url}]}),g("")}else w("No feeds found.")}catch{w("Error discovering feeds.")}finally{x(!1)}}},se=M=>{const Z=[...a.customFeeds||[]];Z.splice(M,1),i({...a,customFeeds:Z})},ae=()=>{const M={settings:a,hiddenEvents:JSON.parse(localStorage.getItem("upAhead_hiddenEvents")||"[]"),watchlist:JSON.parse(localStorage.getItem("upAhead_watchlist")||"[]"),readingHistory:a.readingHistory||[]},Z="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(M,null,2)),S=document.createElement("a");S.setAttribute("href",Z),S.setAttribute("download","news_app_full_backup.json"),document.body.appendChild(S),S.click(),S.remove()},L=M=>{const Z=M.target.files[0];if(!Z)return;const S=new FileReader;S.onload=A=>{try{const O=JSON.parse(A.target.result);window.confirm("Replace current settings, hidden events, and watchlist with imported data?")&&(O.settings?(i(O.settings),O.hiddenEvents&&localStorage.setItem("upAhead_hiddenEvents",JSON.stringify(O.hiddenEvents)),O.watchlist&&localStorage.setItem("upAhead_watchlist",JSON.stringify(O.watchlist))):i(O),r())}catch{alert("Invalid backup file")}},S.readAsText(Z)},X=[{id:"general",label:"General",icon:""},{id:"ranking",label:"Ranking & Logic",icon:""},{id:"weather",label:"Weather",icon:""},{id:"sources",label:"Sources",icon:""},{id:"market",label:"Market",icon:""},{id:"sandbox",label:"Sandbox",icon:""},{id:"advanced",label:"Advanced",icon:""},{id:"debug",label:"Debug",icon:""}],$=()=>{switch(o){case"general":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"Interface"}),s.jsxs(Je,{children:[s.jsx(Ve,{label:"Home Layout",subLabel:"Timeline / Classic / Newspaper",children:s.jsxs("select",{value:a.uiMode||"timeline",onChange:M=>i({...a,uiMode:M.target.value}),className:"settings-select",children:[s.jsx("option",{value:"timeline",children:" Timeline"}),s.jsx("option",{value:"classic",children:" Classic"}),s.jsx("option",{value:"newspaper",children:" Newspaper"})]})}),s.jsx(Ve,{label:"Font Size",subLabel:`${a.fontSize||26}px`,children:s.jsx("input",{type:"range",min:"14",max:"34",step:"1",value:a.fontSize||26,onChange:M=>i({...a,fontSize:parseInt(M.target.value)}),style:{width:"100%"}})})]}),s.jsx(Ze,{icon:"",title:"AI Configuration"}),s.jsx(Je,{children:s.jsxs("div",{className:"settings-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsxs("div",{className:"settings-item__label",children:[s.jsx("span",{children:"Gemini API Key"}),s.jsx("small",{style:{display:"block",color:"var(--text-muted)",fontSize:"0.65rem"},children:"Required for client-side fallback."})]}),s.jsx("input",{type:"password",value:a.geminiKey||"",onChange:M=>i({...a,geminiKey:M.target.value}),className:"settings-input",placeholder:"Enter API Key"})]})}),s.jsx(Ze,{icon:"",title:"Market Data"}),s.jsx(Je,{children:s.jsxs("div",{className:"settings-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsx("div",{className:"settings-item__label",children:s.jsx("span",{children:"Alpha Vantage API Key"})}),s.jsx("input",{type:"password",value:a.alphaVantageKey||"",onChange:M=>i({...a,alphaVantageKey:M.target.value}),className:"settings-input",placeholder:"Enter AV Key"})]})})]});case"ranking":return s.jsx(Ww,{settings:a,updateNested:Y,updateSettings:i,addToList:J,removeFromList:le});case"weather":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"Locations"}),s.jsxs(Je,{children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"10px"},children:"Active Cities"}),s.jsxs("div",{style:{display:"grid",gap:"10px",marginBottom:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"1."}),s.jsx("input",{type:"text",value:"Chennai",disabled:!0,className:"settings-input",style:{opacity:.7}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"2."}),s.jsx("input",{type:"text",value:"Trichy",disabled:!0,className:"settings-input",style:{opacity:.7}})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{width:"20px"},children:"3."}),s.jsx("input",{type:"text",value:a.weather?.cities?.[2]||"Muscat",onChange:M=>{const Z=[...a.weather?.cities||["chennai","trichy","muscat"]];Z[2]=M.target.value,Y("weather.cities",Z)},className:"settings-input",placeholder:"Enter city..."})]})]})]}),s.jsx(Ze,{icon:"",title:"Weather Models"}),s.jsxs(Je,{children:[s.jsx(Ve,{label:"ECMWF (European)",children:s.jsx(Nn,{checked:a.weather?.models?.ecmwf!==!1,onChange:M=>Y("weather.models.ecmwf",M)})}),s.jsx(Ve,{label:"GFS (NOAA)",children:s.jsx(Nn,{checked:a.weather?.models?.gfs!==!1,onChange:M=>Y("weather.models.gfs",M)})}),s.jsx(Ve,{label:"ICON (DWD)",children:s.jsx(Nn,{checked:a.weather?.models?.icon!==!1,onChange:M=>Y("weather.models.icon",M)})})]})]});case"sources":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"News Sources"}),s.jsxs(Je,{children:[s.jsxs("div",{className:"settings-item",style:{borderBottom:"1px solid var(--accent-danger)",background:"rgba(220, 38, 38, 0.15)",padding:"10px"},children:[s.jsxs("div",{className:"settings-item__label",style:{color:"var(--accent-danger)"},children:[s.jsx("span",{children:" Top Websites Only"}),s.jsx("small",{style:{display:"block",color:"var(--text-muted)"},children:"BBC, Reuters, NDTV, Hindu, TOI..."})]}),s.jsx(Nn,{checked:a.topWebsitesOnly===!0,onChange:M=>i({...a,topWebsitesOnly:M})})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",padding:"10px"},children:Object.keys(a.newsSources||{}).map(M=>s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.8rem"},children:[s.jsx("input",{type:"checkbox",checked:a.newsSources?.[M]!==!1,onChange:Z=>Y(`newsSources.${M}`,Z.target.checked),disabled:a.topWebsitesOnly}),M]},M))})]}),s.jsx(Ze,{icon:"",title:"Source Tiers"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:"Classify sources to boost their ranking score."}),s.jsx(Nl,{label:`Tier 1 (High Boost: ${a.rankingWeights?.source?.tier1Boost||.5}x)`,placeholder:"e.g. BBC, Reuters",value:z.tier1,onChange:M=>N({...z,tier1:M}),onAdd:()=>ne("tier1",z.tier1),items:a.sourceTiers?.tier1||[],onRemove:M=>I("tier1",M)}),s.jsx(Nl,{label:`Tier 2 (Medium Boost: ${a.rankingWeights?.source?.tier2Boost||.2}x)`,placeholder:"e.g. NDTV, Hindu",value:z.tier2,onChange:M=>N({...z,tier2:M}),onAdd:()=>ne("tier2",z.tier2),items:a.sourceTiers?.tier2||[],onRemove:M=>I("tier2",M)}),s.jsx(Nl,{label:`Tier 3 (No Boost: ${a.rankingWeights?.source?.tier3Boost||0}x)`,placeholder:"e.g. Local Blogs",value:z.tier3,onChange:M=>N({...z,tier3:M}),onAdd:()=>ne("tier3",z.tier3),items:a.sourceTiers?.tier3||[],onRemove:M=>I("tier3",M)})]}),s.jsx(Ze,{icon:"",title:"Custom Feeds"}),s.jsxs(Je,{children:[s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[s.jsx("input",{type:"text",value:m,onChange:M=>g(M.target.value),placeholder:"RSS URL...",className:"settings-input"}),s.jsx("button",{className:"btn btn--primary",onClick:re,disabled:p,children:p?"...":"Add"})]}),v&&s.jsx("div",{style:{color:"red",fontSize:"0.75rem"},children:v}),a.customFeeds?.map((M,Z)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",padding:"5px 0"},children:[s.jsx("span",{children:M.title||M.url}),s.jsx("button",{onClick:()=>se(Z),style:{color:"red"},children:""})]},Z))]})]});case"upahead":return null;case"market":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"Market Display"}),s.jsx(Je,{children:Object.keys(a.market||{}).filter(M=>M.startsWith("show")).map(M=>s.jsx(Ve,{label:M.replace("show",""),children:s.jsx(Nn,{checked:a.market?.[M]!==!1,onChange:Z=>Y(`market.${M}`,Z)})},M))})]});case"logic":return null;case"sandbox":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"Ranking Sandbox"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:`Simulate how the current settings affect an article's score. Change settings in the "Custom Ranking" tab to see impact here.`}),s.jsx(Je,{children:s.jsxs("div",{style:{display:"grid",gap:"10px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Title"}),s.jsx("input",{className:"settings-input",value:U.title,onChange:M=>W({...U,title:M.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Description"}),s.jsx("textarea",{className:"settings-input",style:{resize:"vertical",minHeight:"60px"},value:U.description,onChange:M=>W({...U,description:M.target.value})})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Source"}),s.jsxs("select",{className:"settings-select",value:U.source,onChange:M=>W({...U,source:M.target.value}),style:{width:"100%"},children:[s.jsx("option",{value:"BBC News",children:"BBC (Tier 1)"}),s.jsx("option",{value:"Unknown Blog",children:"Blog (Tier 3)"}),s.jsx("option",{value:"NDTV",children:"NDTV (Tier 2)"}),s.jsx("option",{value:"TechCrunch",children:"TechCrunch"})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Section"}),s.jsxs("select",{className:"settings-select",value:U.section,onChange:M=>W({...U,section:M.target.value}),style:{width:"100%"},children:[s.jsx("option",{value:"world",children:"World (High Priority)"}),s.jsx("option",{value:"business",children:"Business"}),s.jsx("option",{value:"technology",children:"Technology"}),s.jsx("option",{value:"general",children:"General"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:["Age: ",U.age," hours"]}),s.jsx("input",{type:"range",min:"0",max:"72",step:"1",value:U.age,onChange:M=>W({...U,age:parseInt(M.target.value)}),style:{width:"100%"}})]})]})}),U.result&&s.jsxs("div",{className:"settings-card",style:{border:"1px solid var(--accent-primary)",background:"rgba(0,0,0,0.2)"},children:[s.jsxs("div",{style:{textAlign:"center",padding:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"CALCULATED SCORE"}),s.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--accent-primary)"},children:U.result.score.toFixed(1)})]}),s.jsx("div",{style:{padding:"10px",fontSize:"0.75rem"},children:s.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:s.jsx("tbody",{children:Object.entries(U.result.breakdown||{}).map(([M,Z])=>M==="total"||typeof Z!="number"?null:s.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[s.jsx("td",{style:{padding:"4px",textTransform:"capitalize",color:"var(--text-secondary)"},children:M.replace(/([A-Z])/g," $1").trim()}),s.jsxs("td",{style:{padding:"4px",textAlign:"right",fontWeight:"bold",color:Z>1.5?"#4f4":Z<.5?"#f44":"#fff"},children:[Z.toFixed(2),M.toLowerCase().includes("boost")||M.toLowerCase().includes("multiplier")?"x":""]})]},M))})})})]})]});case"advanced":return s.jsxs("div",{className:"settings-tab-content",children:[s.jsx(Ze,{icon:"",title:"Advanced"}),s.jsxs(Je,{children:[s.jsx(Ve,{label:"Enable News Cache",subLabel:"Faster loads, 5min TTL",children:s.jsx(Nn,{checked:a.enableCache!==!1,onChange:M=>i({...a,enableCache:M})})}),s.jsx(Ve,{label:"Crawler Mode",children:s.jsxs("select",{value:a.crawlerMode||"auto",onChange:M=>i({...a,crawlerMode:M.target.value}),className:"settings-select",children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"manual",children:"Manual"})]})}),s.jsx(Ve,{label:"Debug Logs",children:s.jsx(Nn,{checked:a.debugLogs===!0,onChange:M=>i({...a,debugLogs:M})})})]}),s.jsx(Ze,{icon:"",title:"Impact & Priority"}),s.jsxs(Je,{children:[s.jsx(Ve,{label:" Base Impact Weight",subLabel:"Multiplier",children:s.jsx("input",{type:"range",min:"0.5",max:"3.0",step:"0.1",value:a.rankingWeights?.impact?.boost||1,onChange:M=>Y("rankingWeights.impact.boost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Ve,{label:" High Impact Boost",subLabel:"Triggers on Major Event Keywords",children:s.jsx("input",{type:"range",min:"1.0",max:"5.0",step:"0.1",value:a.rankingWeights?.impact?.highImpactBoost||2.5,onChange:M=>Y("rankingWeights.impact.highImpactBoost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Nl,{label:"Major Event Keywords",placeholder:"e.g. Budget, Treaty, War",value:j.highImpact,onChange:M=>E({...j,highImpact:M}),onAdd:()=>ie("highImpactKeywords",j.highImpact),items:a.highImpactKeywords||[],onRemove:M=>le("highImpactKeywords",M)}),s.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"5px"},children:[" Articles containing these words receive the ",s.jsx("strong",{children:"High Impact Boost"})," (above)."]})]}),s.jsx(Ze,{icon:"",title:"Buzz Ranking"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:'Configuration for "Buzz" and "Social" sections.'}),s.jsx(Ve,{label:" Visual Boost",subLabel:"Videos/Images",children:s.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:a.buzzRankingWeights?.visual?.videoBoost||2,onChange:M=>Y("buzzRankingWeights.visual.videoBoost",parseFloat(M.target.value)),style:{width:"100%"}})}),s.jsx(Ve,{label:" Trend Threshold",subLabel:"Lower = More Trending",children:s.jsx("input",{type:"range",min:"5",max:"20",step:"1",value:a.buzzRankingWeights?.trending?.threshold||10,onChange:M=>Y("buzzRankingWeights.trending.threshold",parseFloat(M.target.value)),style:{width:"100%"}})})]}),s.jsx(Ze,{icon:"",title:"Backup & Sync"}),s.jsxs(Je,{children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"btn btn--secondary",onClick:ae,style:{flex:1},children:"Export Backup"}),s.jsxs("label",{className:"btn btn--secondary",style:{flex:1,cursor:"pointer",textAlign:"center"},children:["Import Backup",s.jsx("input",{type:"file",accept:".json",onChange:L,style:{display:"none"}})]})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"8px"},children:"Saves Settings, Hidden Events (Plan My Week), and Watchlist to a file."})]})]});case"debug":return s.jsx(Kw,{});default:return null}};return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[s.jsx(Ra,{title:"Settings",showBack:!0,backTo:"/",compact:!0,style:{flex:"0 0 auto"}}),s.jsxs("div",{className:"settings-layout",children:[s.jsx("div",{className:"settings-sidebar",children:X.map(M=>s.jsxs("button",{className:`settings-tab-btn ${o===M.id?"active":""}`,onClick:()=>u(M.id),children:[s.jsx("span",{className:"tab-icon",children:M.icon}),s.jsx("span",{className:"tab-label",children:M.label})]},M.id))}),s.jsxs("div",{className:"settings-content",children:[s.jsx("div",{className:"settings-scroll-area",style:{overflowY:o==="ranking"?"hidden":"auto",padding:o==="ranking"?0:"15px"},children:$()}),s.jsxs("div",{className:"settings-footer",children:[s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("button",{className:"btn btn--danger",onClick:P,style:{flex:1},children:"Reset"}),s.jsx("button",{className:"btn btn--primary",onClick:te,style:{flex:1},children:f?" Saved":"Save"})]}),s.jsx("div",{className:"version-tag",children:Vw})]})]})]}),s.jsx("style",{children:`
                .settings-layout { display: flex; flex: 1; overflow: hidden; background: var(--bg-primary); }
                .settings-sidebar { width: 60px; background: var(--bg-secondary); border-right: 1px solid var(--border-default); display: flex; flex-direction: column; padding: 10px 5px; overflow-y: auto; flex-shrink: 0; }
                .settings-tab-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px 5px; border: none; background: transparent; color: var(--text-secondary); cursor: pointer; border-radius: 8px; margin-bottom: 5px; }
                .settings-tab-btn.active { background: var(--accent-primary); color: #fff; }
                .tab-icon { font-size: 1.5rem; } .tab-label { display: none; }
                .settings-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
                .settings-scroll-area { flex: 1; overflow-y: auto; padding: 15px; }
                .settings-footer { flex-shrink: 0; background: var(--bg-secondary); border-top: 1px solid var(--border-default); padding: 15px; }
                .settings-card { background: var(--bg-card); border-radius: var(--radius-md); padding: 15px; margin-bottom: 20px; border: 1px solid var(--border-default); }
                .section-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 12px; color: var(--text-primary); display: flex; align-items: center; gap: 8px; }
                .settings-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
                .settings-item:last-child { border-bottom: none; }
                .settings-select, .settings-input, .settings-input-number { background: var(--bg-secondary); border: 1px solid var(--border-default); color: var(--text-primary); padding: 8px; border-radius: 4px; font-size: 0.85rem; }
                .settings-input { width: 100%; }
                .chip-checkbox { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 16px; border: 1px solid var(--border-default); background: var(--bg-secondary); color: var(--text-primary); font-size: 0.8rem; cursor: pointer; }
                .chip-checkbox.active { background: var(--accent-primary); color: #fff; border-color: var(--accent-primary); }
                .keyword-chip { display: inline-flex; align-items: center; padding: 4px 8px; background: var(--bg-tertiary); border-radius: 4px; margin: 2px; font-size: 0.75rem; }
                .keyword-chip button { background: none; border: none; color: var(--accent-danger); margin-left: 6px; cursor: pointer; padding: 0; }
                .version-tag { text-align: right; font-size: 0.7rem; color: var(--text-muted); margin-top: 8px; font-family: monospace; opacity: 0.7; }
            `})]})}const Ww=({settings:a,updateNested:i,updateSettings:r,addToList:o,removeFromList:u})=>{const[f,h]=_.useState("main"),[m,g]=_.useState("entertainment"),[p,x]=_.useState("movies"),[v,w]=_.useState({}),j=(z,N)=>w(U=>({...U,[z]:N})),E=()=>{const z=Xw(a.rankingWeights||{});return s.jsxs("div",{children:[s.jsx("div",{className:"settings-card",style:{background:"linear-gradient(135deg, rgba(255,215,0,0.1), rgba(0,0,0,0))",border:"1px solid rgba(255,215,0,0.3)"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{children:s.jsx("div",{style:{fontWeight:600,color:"#FFD700"},children:" Quality Rating"})}),s.jsxs("div",{style:{fontSize:"1.8rem",color:"#FFD700"},children:["".repeat(z),"".repeat(5-z)]})]})}),s.jsx(Ze,{icon:"",title:"Top Stories & Global"}),s.jsxs(Je,{children:[s.jsx(Ve,{label:" Top Stories Boost",subLabel:"Min Score for Top Stories",children:s.jsx("input",{type:"range",min:"8",max:"30",step:"1",value:a.rankingWeights?.trending?.threshold||12,onChange:N=>i("rankingWeights.trending.threshold",parseFloat(N.target.value)),style:{width:"100%"}})}),s.jsx(Ve,{label:" Keyword Match",subLabel:`+${(a.rankingWeights?.keyword?.matchBoost||2).toFixed(1)} Points`,children:s.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:a.rankingWeights?.keyword?.matchBoost||2,onChange:N=>i("rankingWeights.keyword.matchBoost",parseFloat(N.target.value)),style:{width:"100%"}})}),s.jsx(Ve,{label:" Location Match",subLabel:`${(a.rankingWeights?.geo?.cityMatch||1.5).toFixed(1)}x Multiplier`,children:s.jsx("input",{type:"range",min:"1",max:"5",step:"0.1",value:a.rankingWeights?.geo?.cityMatch||1.5,onChange:N=>i("rankingWeights.geo.cityMatch",parseFloat(N.target.value)),style:{width:"100%"}})})]}),s.jsx(Ze,{icon:"",title:"Freshness & Decay"}),s.jsxs(Je,{children:[s.jsxs(Ve,{label:" Freshness Sensitivity",subLabel:"Left: Stricter (Newer) | Right: Relaxed",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",gap:"10px"},children:[s.jsx("span",{title:"Strict/Fresh",style:{fontSize:"1.2rem"},children:""}),s.jsx("input",{type:"range",min:"6",max:"72",value:a.rankingWeights?.freshness?.decayHours||26,onChange:N=>i("rankingWeights.freshness.decayHours",parseInt(N.target.value)),style:{flex:1}}),s.jsx("span",{title:"Relaxed/Older",style:{fontSize:"1.2rem"},children:""})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:"0.7rem",color:"var(--text-muted)"},children:["Decay over ",a.rankingWeights?.freshness?.decayHours||26,"h"]})]}),s.jsx(Ve,{label:" Hide Stale News",subLabel:`> ${a.hideOlderThanHours||60}h`,children:s.jsx("input",{type:"number",min:1,max:168,value:a.hideOlderThanHours||60,onChange:N=>r({...a,hideOlderThanHours:parseInt(N.target.value)||60}),className:"settings-input-number",style:{width:"60px"}})})]}),s.jsx(Ze,{icon:"",title:"Classification Logic"}),s.jsxs(Je,{children:[s.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:"Automatic categorization logic."}),s.jsx("div",{className:"settings-item__label",style:{color:"var(--accent-primary)",marginTop:"10px"},children:"Entity Overrides (Exact Matches)"}),s.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",background:"rgba(0,0,0,0.2)",padding:"10px",borderRadius:"8px",margin:"5px 0 15px 0",fontSize:"0.75rem",fontFamily:"monospace"},children:Object.entries(dp).map(([N,U])=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--text-primary)"},children:N}),s.jsxs("span",{style:{color:"var(--text-muted)"},children:[" ",U]})]},N))})]})]})},T=()=>{const z=[{id:"entertainment",label:"Entertain",icon:""},{id:"technology",label:"Tech",icon:""},{id:"sports",label:"Sports",icon:""},{id:"social",label:"Social",icon:""}];return s.jsxs("div",{style:{display:"flex",height:"100%",gap:"10px"},children:[s.jsx("div",{style:{width:"70px",flexShrink:0,display:"flex",flexDirection:"column",gap:"5px"},children:z.map(N=>s.jsxs("button",{onClick:()=>g(N.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px 4px",border:"none",background:m===N.id?"var(--accent-primary)":"rgba(255,255,255,0.05)",color:m===N.id?"#fff":"var(--text-secondary)",borderRadius:"8px",cursor:"pointer",fontSize:"0.7rem",fontWeight:500},children:[s.jsx("span",{style:{fontSize:"1.3rem",marginBottom:"2px"},children:N.icon}),N.label]},N.id))}),s.jsx("div",{style:{flex:1,overflowY:"auto"},children:m==="social"?s.jsxs("div",{children:[s.jsx(Ze,{icon:"",title:"Social Trends"}),s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:["Uses ",s.jsx("strong",{children:"Legacy Scoring"})," (Freshness + Source)."]}),s.jsxs(Je,{children:[s.jsx(Ve,{label:" Visual Boost",subLabel:"Videos/Images",children:s.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:a.buzzRankingWeights?.visual?.videoBoost||2,onChange:N=>i("buzzRankingWeights.visual.videoBoost",parseFloat(N.target.value)),style:{width:"100%"}})}),s.jsx(Ve,{label:" Trend Threshold",subLabel:"Lower = More Trending",children:s.jsx("input",{type:"range",min:"5",max:"20",step:"1",value:a.buzzRankingWeights?.trending?.threshold||10,onChange:N=>i("buzzRankingWeights.trending.threshold",parseFloat(N.target.value)),style:{width:"100%"}})})]})]}):s.jsx(zg,{title:m.charAt(0).toUpperCase()+m.slice(1),icon:z.find(N=>N.id===m).icon,configPath:`buzz.${m}`,configData:a.buzz?.[m]||{},updateNested:i,addToList:o,removeFromList:u,localInputs:v,handleLocalInput:j,subTab:m})})]})},k=()=>{const z=[{id:"movies",label:"Movies",icon:""},{id:"events",label:"Events",icon:""},{id:"festivals",label:"Festivals",icon:""},{id:"sports",label:"Sports",icon:""},{id:"shopping",label:"Shopping",icon:""},{id:"airlines",label:"Airlines",icon:""},{id:"alerts",label:"Alerts",icon:""},{id:"civic",label:"Civic",icon:""}],N=a.upAhead?.ranking?.[p]||{},U=I=>{const re=I==="positive"?a.upAhead?.keywords?.[p]:a.upAhead?.keywords?.[`${p}_negative`];return re&&re.length>0?re:(I==="positive"?Ot.upAhead.keywords[p]:Ot.upAhead.keywords[`${p}_negative`])||[]},W=U("positive"),Y=U("negative"),te=()=>{const I=a.upAhead?.keywords?.negative;return I&&I.length>0?I:Ot.upAhead.keywords.negative||[]},P=te(),J={enabled:a.upAhead?.categories?.[p]!==!1,positiveMultiplier:N.positiveMultiplier||1,negativeMultiplier:N.negativeMultiplier||1,filterThreshold:N.filterThreshold||0,positiveKeywords:W,negativeKeywords:[...P,...Y]},le=(I,re)=>{I==="enabled"?i(`upAhead.categories.${p}`,re):(I==="positiveMultiplier"||I==="negativeMultiplier"||I==="filterThreshold")&&i(`upAhead.ranking.${p}.${I}`,re)},ie=(I,re)=>{if(!re||!re.trim())return;const se=re.trim();if(I==="positiveKeywords"){const ae=U("positive");if(ae.some(L=>L.toLowerCase()===se.toLowerCase()))return;i(`upAhead.keywords.${p}`,[...ae,se])}else if(I==="negativeKeywords"){const ae=U("negative");if(ae.some(L=>L.toLowerCase()===se.toLowerCase()))return;i(`upAhead.keywords.${p}_negative`,[...ae,se])}},ne=(I,re)=>{if(I==="positiveKeywords"){const ae=U("positive").filter(L=>L!==re);i(`upAhead.keywords.${p}`,ae)}else if(I==="negativeKeywords"){const se=U("negative");if(se.includes(re)){const ae=se.filter(L=>L!==re);i(`upAhead.keywords.${p}_negative`,ae)}else{const ae=te();if(ae.includes(re)&&window.confirm(`"${re}" is a global negative keyword. Remove it from ALL categories?`)){const L=ae.filter(X=>X!==re);i("upAhead.keywords.negative",L)}}}};return s.jsxs("div",{style:{display:"flex",height:"100%",gap:"10px"},children:[s.jsx("div",{style:{width:"70px",flexShrink:0,display:"flex",flexDirection:"column",gap:"5px"},children:z.map(I=>s.jsxs("button",{onClick:()=>x(I.id),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px 4px",border:"none",background:p===I.id?"var(--accent-primary)":"rgba(255,255,255,0.05)",color:p===I.id?"#fff":"var(--text-secondary)",borderRadius:"8px",cursor:"pointer",fontSize:"0.7rem",fontWeight:500},children:[s.jsx("span",{style:{fontSize:"1.3rem",marginBottom:"2px"},children:I.icon}),I.label]},I.id))}),s.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[s.jsx(Ze,{icon:"",title:"Global Config"}),s.jsxs(Je,{children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"5px"},children:"Locations"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"15px"},children:["Chennai","Muscat","Trichy"].map(I=>s.jsxs("label",{className:`chip-checkbox ${a.upAhead?.locations?.includes(I)?"active":""}`,children:[s.jsx("input",{type:"checkbox",style:{display:"none"},checked:a.upAhead?.locations?.includes(I)||!1,onChange:re=>{const se=a.upAhead?.locations||[],ae=re.target.checked?[...se,I]:se.filter(L=>L!==I);i("upAhead.locations",ae)}}),I]},I))})]}),s.jsx(zg,{title:z.find(I=>I.id===p).label,icon:z.find(I=>I.id===p).icon,configData:J,customUpdate:le,customAdd:ie,customRemove:ne,localInputs:v,handleLocalInput:j,subTab:`ua_${p}`})]})]})};return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",padding:"0 15px",flexShrink:0},children:[s.jsx("button",{className:`btn ${f==="main"?"btn--primary":"btn--secondary"}`,onClick:()=>h("main"),style:{flex:1},children:" Main"}),s.jsx("button",{className:`btn ${f==="buzz"?"btn--primary":"btn--secondary"}`,onClick:()=>h("buzz"),style:{flex:1},children:" Buzz"}),s.jsx("button",{className:`btn ${f==="upahead"?"btn--primary":"btn--secondary"}`,onClick:()=>h("upahead"),style:{flex:1},children:" Up Ahead"})]}),s.jsxs("div",{className:"settings-tab-content",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"0 15px 15px 15px"},children:[f==="main"&&E(),f==="buzz"&&T(),f==="upahead"&&k()]})]})},zg=({title:a,icon:i,configPath:r,configData:o,updateNested:u,addToList:f,removeFromList:h,localInputs:m,handleLocalInput:g,subTab:p,customUpdate:x,customAdd:v,customRemove:w})=>{const j=(k,z)=>{x?x(k,z):u(`${r}.${k}`,z)},E=(k,z)=>{v?v(k,z):f(`${r}.${k}`,z)},T=(k,z)=>{w?w(k,z):h(`${r}.${k}`,z)};return s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[s.jsx(Ze,{icon:i,title:a}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:o.enabled!==!1?"Active":"Disabled"}),s.jsx(Nn,{checked:o.enabled!==!1,onChange:k=>j("enabled",k)})]})]}),s.jsxs(Je,{children:[s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"15px"},children:[s.jsx("strong",{children:"Ranking Formula:"})," (Positive Matches  Multiplier)  (Negative Matches  Multiplier)"]}),s.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:600,color:"#81c784"},children:" Positive Boost"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"6px"},children:[s.jsxs("span",{style:{fontSize:"0.75rem",color:"#fff"},children:["Multi: ",s.jsxs("strong",{children:[o.positiveMultiplier||1,"x"]})]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.positiveMultiplier||1,onChange:k=>j("positiveMultiplier",parseFloat(k.target.value)),style:{width:"80px"}})]})]}),s.jsx(Nl,{label:"",placeholder:"Add positive keyword...",value:m[`${p}_pos`]||"",onChange:k=>g(`${p}_pos`,k),onAdd:()=>{E("positiveKeywords",m[`${p}_pos`]),g(`${p}_pos`,"")},items:o.positiveKeywords||[],onRemove:k=>T("positiveKeywords",k)})]}),s.jsxs("div",{style:{background:"rgba(244, 67, 54, 0.1)",border:"1px solid rgba(244, 67, 54, 0.3)",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:600,color:"#e57373"},children:" Negative Penalty"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"6px"},children:[s.jsxs("span",{style:{fontSize:"0.75rem",color:"#fff"},children:["Multi: ",s.jsxs("strong",{children:[o.negativeMultiplier||1,"x"]})]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:o.negativeMultiplier||1,onChange:k=>j("negativeMultiplier",parseFloat(k.target.value)),style:{width:"80px"}})]})]}),s.jsx(Nl,{label:"",placeholder:"Add negative keyword...",value:m[`${p}_neg`]||"",onChange:k=>g(`${p}_neg`,k),onAdd:()=>{E("negativeKeywords",m[`${p}_neg`]),g(`${p}_neg`,"")},items:o.negativeKeywords||[],onRemove:k=>T("negativeKeywords",k)})]}),s.jsx(Ve,{label:" Filter Threshold",subLabel:`Hide if Score < ${o.filterThreshold||0}`,children:s.jsx("input",{type:"range",min:"-5",max:"5",step:"1",value:o.filterThreshold||0,onChange:k=>j("filterThreshold",parseInt(k.target.value)),style:{width:"100%"}})})]})]})},Ze=({icon:a,title:i})=>s.jsxs("div",{className:"section-title",children:[s.jsx("span",{children:a})," ",i]}),Je=({children:a})=>s.jsx("div",{className:"settings-card",children:a}),Ve=({label:a,subLabel:i,children:r})=>s.jsxs("div",{className:"settings-item",children:[s.jsxs("div",{className:"settings-item__label",children:[s.jsx("span",{children:a}),i&&s.jsx("small",{children:i})]}),s.jsx("div",{style:{flex:"0 0 auto",marginLeft:"10px"},children:r})]}),Nl=({label:a,placeholder:i,value:r,onChange:o,onAdd:u,items:f,onRemove:h})=>s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("div",{className:"settings-item__label",style:{marginBottom:"6px"},children:a}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[s.jsx("input",{type:"text",value:r,onChange:m=>o(m.target.value),placeholder:i,className:"settings-input",onKeyDown:m=>m.key==="Enter"&&u()}),s.jsx("button",{className:"btn btn--secondary",onClick:u,style:{padding:"0 15px"},children:"Add"})]}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:[f.map((m,g)=>s.jsxs("span",{className:"keyword-chip",children:[m,s.jsx("button",{onClick:()=>h(m),children:""})]},g)),f.length===0&&s.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Default keywords only"})]})]});function Zw(){const a=xr(),[i,r]=_.useState(()=>sg(ur())),[o,u]=_.useState(!1),[f,h]=_.useState(()=>Ix()),[m]=_.useState(()=>sg(ur())),{refreshWeather:g}=jr(),{refreshNews:p}=wr(),x=async()=>{u(!0);const E=Object.keys(i).filter(z=>i[z]),T=[],k=[];E.forEach(z=>{z==="weather"?(T.push(g(!0)),Pc("weather")):z==="market"?Pc("market"):(k.push(z),Pc(z))}),k.length>0&&T.push(p(k));try{await Promise.all(T)}catch(z){console.error("Refresh failed",z)}h("Just now"),u(!1),setTimeout(()=>a("/"),500)},v=E=>{r({world:E,india:E,chennai:E,trichy:E,local:E,social:E,weather:E,market:E})},w=[{key:"world",icon:"",label:"World News",desc:"International headlines"},{key:"india",icon:"",label:"India News",desc:"National news"},{key:"chennai",icon:"",label:"Chennai News",desc:"Chennai city updates"},{key:"trichy",icon:"",label:"Trichy News",desc:"Trichy local news"},{key:"local",icon:"",label:"Local (Muscat)",desc:"Muscat & Oman news"},{key:"social",icon:"",label:"Social Trends",desc:"Trending topics"},{key:"weather",icon:"",label:"Weather",desc:"Chennai, Trichy, Muscat"},{key:"market",icon:"",label:"Market",desc:"BSE, NSE, Movers"}],j=Object.values(i).filter(Boolean).length;return s.jsxs(s.Fragment,{children:[s.jsx(Ra,{title:"Refresh Content",showBack:!0,backTo:"/"}),s.jsxs("div",{className:"refresh-page",children:[s.jsxs("div",{className:"refresh-info",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Last refresh: ",s.jsx("strong",{children:f})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[s.jsx("button",{className:"btn btn--secondary",style:{flex:1},onClick:()=>v(!0),children:"Select All"}),s.jsx("button",{className:"btn btn--secondary",style:{flex:1},onClick:()=>v(!1),children:"Clear All"})]}),s.jsxs("section",{className:"settings-section",children:[s.jsxs("h2",{className:"settings-section__title",children:[s.jsx("span",{children:""}),"Select Sections to Refresh",s.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.8rem",fontWeight:"normal",color:"var(--accent-primary)"},children:[j,"/",w.length]})]}),s.jsx("div",{className:"settings-card",children:w.map(({key:E,icon:T,label:k,desc:z})=>s.jsxs("div",{className:"settings-item",children:[s.jsxs("div",{className:"settings-item__label",style:{flexDirection:"column",alignItems:"flex-start"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[s.jsx("span",{className:"settings-item__icon",children:T}),k,m[E]&&s.jsx("span",{style:{color:"var(--weather-sun)",fontSize:"0.7rem"},children:""})]}),s.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginLeft:"28px"},children:z})]}),s.jsx(Nn,{checked:i[E],onChange:N=>r(U=>({...U,[E]:N})),recommended:m[E]})]},E))})]}),s.jsxs("button",{className:`refresh-btn ${o?"refresh-btn--loading":""}`,onClick:x,disabled:o||j===0,children:[s.jsx("span",{className:"refresh-btn__icon",children:o?"":""}),s.jsx("span",{children:o?"Refreshing...":"Refresh Now"})]}),s.jsxs("div",{className:"schedule-card",children:[s.jsxs("div",{className:"schedule-card__title",children:[s.jsx("span",{children:""}),"Auto-Refresh Schedule"]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Weather Forecast"}),s.jsx("span",{className:"schedule-item__value",children:"Every 3 hours"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Weather Nowcast"}),s.jsx("span",{className:"schedule-item__value",children:"Every 1 hour"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"News Updates"}),s.jsx("span",{className:"schedule-item__value",children:"Every 30 minutes"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Market Data"}),s.jsx("span",{className:"schedule-item__value",children:"Every 5 minutes"})]}),s.jsxs("div",{className:"schedule-item",children:[s.jsx("span",{className:"schedule-item__label",children:"Social Trends"}),s.jsx("span",{className:"schedule-item__value",children:"Every 15 minutes"})]})]}),s.jsxs("div",{className:"card",style:{marginTop:"var(--spacing-md)",textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:["Current Segment: ",s.jsx("strong",{style:{color:"var(--accent-primary)"},children:ur()?.name})]}),s.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"4px"},children:" = Recommended sections for this time"})]})]})]})}function zp(a,i={}){const{country:r="IN",lang:o="en",timeRange:u="7d",excludeTerms:f=[]}=i;let h=encodeURIComponent(a);u&&(h+=`+when:${u}`),Array.isArray(f)&&f.forEach(x=>{h+=`+-${encodeURIComponent(x)}`});const m=`${o}-${r}`,g=r,p=`${r}:${o}`;return`https://news.google.com/rss/search?q=${h}&hl=${m}&gl=${g}&ceid=${p}`}async function Lp(a){try{const i=zp(a.query||a.name,a.options||{});console.log(`[TopicService] Fetching news for "${a.name}"`);const r=await ca(i,"following");$x(a.id);const o=Le(),u=o.hideOlderThanHours||60,f=Date.now(),h=u*60*60*1e3,m=o.strictFreshness!==!1;let g=r;return m&&(g=r.filter(x=>x.publishedAt?f-x.publishedAt<=h:!1),console.log(`[TopicService] Filtered ${r.length-g.length} old articles for "${a.name}" (Limit: ${u}h)`)),g.map(x=>({...x,topicId:a.id,topicName:a.name,context:"following"}))}catch(i){return console.error(`[TopicService] Failed to fetch topic "${a.name}":`,i),[]}}async function Jw(a){if(!a||a.length===0)return{};const i=a.map(f=>Lp(f)),o=(await Promise.all(i)).flat(),u={};return o.forEach(f=>{f&&f.topicId&&(u[f.topicId]||(u[f.topicId]=[]),u[f.topicId].push(f))}),u}const Up=_.createContext();function Pw({children:a}){const[i,r]=_.useState([]),[o,u]=_.useState({}),[f,h]=_.useState(!1),[m,g]=_.useState([]);_.useEffect(()=>{const k=Le();r(k.followedTopics||[]),E()},[]),_.useEffect(()=>{if(i.length===0)return;p(!1);const k=setInterval(()=>{console.log("[TopicContext] Auto-refreshing topics..."),p(!0)},900*1e3);return()=>clearInterval(k)},[i.length]);const p=async(k=!1)=>{if(i.length!==0){k||h(!0);try{const z=await Jw(i);k&&x(z),u(z)}catch(z){console.error("[TopicContext] Failed to refresh topics:",z)}finally{k||h(!1)}}},x=k=>{let z=0,N="";if(Object.entries(k).forEach(([U,W])=>{const Y=o[U]||[];if(W.length>0&&Y.length>0&&W[0].id!==Y[0].id){z++;const te=i.find(P=>P.id===U);te&&(N=te.name)}}),z>0){const U=z===1?`New update for ${N}`:`Updates in ${z} followed topics`;wp(U,{body:"Click to see the latest stories.",tag:"topic-update"})}},v=k=>{qx(k);const z=Le();r(z.followedTopics||[]),setTimeout(()=>p(!1),50)},w=k=>{Gx(k),r(N=>N.filter(U=>U.id!==k));const z={...o};delete z[k],u(z)},j=k=>{sp(k),E()},E=()=>{const k=Vx();g(k)},T={followedTopics:i,topicNews:o,loading:f,suggestions:m,addTopic:v,removeTopic:w,refreshTopics:p,addToHistory:j};return s.jsx(Up.Provider,{value:T,children:a})}function Bp(){return _.useContext(Up)}function e2({topic:a,articleCount:i,onClick:r,onRemove:o}){const u=xr(),f=a.lastFetched?t2(new Date(a.lastFetched)):"Never updated",h=()=>{r?r(a):u(`/following/${a.id}`)};return s.jsxs("div",{className:"topic-card",onClick:h,children:[s.jsx("div",{className:"topic-card__icon",children:a.icon||""}),s.jsxs("div",{className:"topic-card__content",children:[s.jsx("h3",{className:"topic-card__name",children:a.name}),s.jsxs("p",{className:"topic-card__update",children:["Last update: ",f]})]}),s.jsx("div",{className:"topic-card__badge",children:i>0&&s.jsxs("span",{className:"topic-card__count",children:[i," new"]})}),s.jsx("button",{className:"topic-card__menu",onClick:m=>{m.stopPropagation(),window.confirm(`Stop following "${a.name}"?`)&&o(a.id)},"aria-label":"Remove topic",children:""})]})}function t2(a){if(!a)return"Never";const i=Math.floor((Date.now()-a)/6e4);if(i<1)return"Just now";if(i<60)return`${i} min${i>1?"s":""} ago`;const r=Math.floor(i/60);return r<24?`${r} hour${r>1?"s":""} ago`:`${Math.floor(r/24)} days ago`}function n2({onAddTopic:a}){const[i,r]=_.useState(""),[o,u]=_.useState([]),[f,h]=_.useState(!1),m=async p=>{if(p.preventDefault(),!!i.trim()){h(!0);try{const x=zp(i),v=await ca(x,"preview");u(v.slice(0,5))}catch(x){console.error("Search failed:",x),alert("Failed to find news for this topic. Try different keywords.")}finally{h(!1)}}},g=()=>{const p={name:i,query:i,icon:a2(i),options:{country:"IN",lang:"en",timeRange:"30d"}};a(p),r(""),u([])};return s.jsxs("div",{className:"topic-search",children:[s.jsxs("form",{onSubmit:m,children:[s.jsx("input",{type:"text",placeholder:"Search topics... (e.g., Tamil Nadu Elections)",value:i,onChange:p=>r(p.target.value),className:"topic-search__input"}),s.jsx("button",{type:"submit",disabled:f,children:f?"...":"Search"})]}),o.length>0&&s.jsxs("div",{className:"topic-search__preview",children:[s.jsxs("h4",{children:['Preview: "',i,'"']}),s.jsx("ul",{children:o.map((p,x)=>s.jsx("li",{children:p.title},x))}),s.jsxs("button",{onClick:g,className:"topic-search__follow-btn",children:[' Follow "',i,'"']})]})]})}function a2(a){const i=a.toLowerCase();return i.includes("election")?"":i.includes("market")||i.includes("stock")||i.includes("sensex")?"":i.includes("film")||i.includes("movie")||i.includes("cinema")?"":i.includes("sport")||i.includes("cricket")||i.includes("ipl")?"":i.includes("tech")||/\bai\b/.test(i)||i.includes("startup")?"":i.includes("weather")||i.includes("rain")?"":""}function l2(){const{followedTopics:a,topicNews:i,loading:r,suggestions:o,addTopic:u,removeTopic:f,refreshTopics:h}=Bp();_.useEffect(()=>{},[]);const m=a.length>0,g=p=>{u({name:p,query:p,icon:"",options:{country:"IN",lang:"en",timeRange:"30d"}})};return s.jsxs("div",{className:"following-page",children:[s.jsx("header",{className:"following-page__header",children:s.jsx("h1",{children:" Following"})}),s.jsxs("div",{className:"following-page__content",children:[s.jsx(n2,{onAddTopic:u}),o.length>0&&s.jsxs("div",{className:"following-page__suggestions-section",children:[s.jsx("h4",{children:"Suggested for you"}),s.jsx("div",{className:"following-page__suggestions",children:o.map((p,x)=>s.jsxs("button",{className:"suggestion-chip",onClick:()=>g(p.word),children:["+ ",p.word]},x))})]}),r&&s.jsx("p",{children:"Loading updates..."}),m?s.jsxs("div",{className:"following-page__topics",children:[s.jsx("h2",{className:"following-page__section-title",children:"Your Topics"}),a.map(p=>s.jsx(e2,{topic:p,articleCount:i[p.id]?.length||0,onRemove:f},p.id))]}):s.jsxs("div",{className:"following-page__empty",children:[s.jsx("p",{children:"No topics followed yet."}),s.jsx("p",{children:"Search for topics above to get started!"})]})]})]})}function i2(){const{topicId:a}=Yv(),i=xr(),{followedTopics:r,addToHistory:o}=Bp(),[u,f]=_.useState([]),[h,m]=_.useState(!0),g=r.find(p=>p.id===a);return _.useEffect(()=>{if(!g)return;(async()=>{m(!0);try{const x=await Lp(g);f(x)}catch(x){console.error(x)}finally{m(!1)}})()},[a,g]),g?s.jsxs("div",{className:"page-container",children:[s.jsxs("header",{className:"header",style:{position:"sticky",top:0,zIndex:100,background:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)",padding:"10px 15px",display:"flex",alignItems:"center",gap:"15px"},children:[s.jsx("button",{onClick:()=>i("/following"),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-primary)"},children:""}),s.jsxs("h1",{style:{margin:0,fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{children:g?.icon}),g?.name]})]}),s.jsx("main",{className:"main-content",style:{paddingTop:"0"},children:h?s.jsxs("div",{className:"loading",style:{padding:"20px",textAlign:"center"},children:[s.jsx("div",{className:"loading__spinner"}),s.jsx("p",{children:"Fetching latest news..."})]}):s.jsx("div",{style:{padding:"10px"},children:s.jsx(nn,{id:`topic-${a}`,title:`Latest on ${g?.name}`,icon:g?.icon,news:u,maxDisplay:50,showExpand:!1,colorClass:"news-section__title--world",onArticleClick:p=>o(p)})})})]}):s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"loading",style:{padding:"20px"},children:[s.jsx("p",{children:"Loading topic..."}),s.jsx("button",{onClick:()=>i("/following"),children:"Back to List"})]})})}function s2(){const{isWebView:a}=Er(),i=Rn(),r=[{path:"/",label:"Main",icon:""},{path:"/up-ahead",label:"Up Ahead",icon:""},{path:"/following",label:"Follow",icon:""},{path:"/newspaper",label:"Paper",icon:""},{path:"/markets",label:"Market",icon:""},{path:"/tech-social",label:"Buzz",icon:""},{path:"/weather",label:"Weather",icon:""},{path:"/settings",label:"Settings",icon:""}];return s.jsx("nav",{className:`bottom-nav ${a?"bottom-nav--desktop":""}`,children:r.map(o=>s.jsxs(tp,{to:o.path,className:`bottom-nav__item ${i.pathname===o.path?"active":""}`,title:o.label,children:[s.jsx("span",{className:"bottom-nav__icon",children:o.icon}),s.jsx("span",{className:"bottom-nav__label",children:o.label})]},o.path))})}const r2=300*1e3;function o2(){const{pathname:a}=Rn();return _.useEffect(()=>{window.scrollTo(0,0)},[a]),_.useEffect(()=>{let i=null;const r=()=>{document.hidden?i=Date.now():i&&Date.now()-i>r2&&window.scrollTo(0,0)};return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[]),null}function c2(){return s.jsx(p1,{children:s.jsx(Kb,{children:s.jsx(Rb,{children:s.jsx(xb,{children:s.jsx(g1,{children:s.jsx(Pw,{children:s.jsxs(Ax,{children:[s.jsx(o2,{}),s.jsxs("div",{className:"app",children:[s.jsxs(ix,{children:[s.jsx(Wt,{path:"/",element:s.jsx(fS,{})}),s.jsx(Wt,{path:"/up-ahead",element:s.jsx(FS,{})}),s.jsx(Wt,{path:"/weather",element:s.jsx(WS,{})}),s.jsx(Wt,{path:"/markets",element:s.jsx(ew,{})}),s.jsx(Wt,{path:"/tech-social",element:s.jsx(tw,{})}),s.jsx(Wt,{path:"/newspaper",element:s.jsx(Gw,{})}),s.jsx(Wt,{path:"/settings",element:s.jsx(Qw,{})}),s.jsx(Wt,{path:"/refresh",element:s.jsx(Zw,{})}),s.jsx(Wt,{path:"/following",element:s.jsx(l2,{})}),s.jsx(Wt,{path:"/following/:topicId",element:s.jsx(i2,{})})]}),s.jsx(s2,{})]})]})})})})})})})}class u2 extends Tn.Component{constructor(i){super(i),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,r){this.setState({error:i,errorInfo:r}),console.error("Uncaught error:",i,r)}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"20px",color:"red",background:"#333",minHeight:"100vh"},children:[s.jsx("h1",{children:"Something went wrong."}),s.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),s.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function d2(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(i=>{console.log("SW registered: ",i)}).catch(i=>{console.log("SW registration failed: ",i)})})}const f2=[{title:"Millions affected by Chennai floods",description:"Heavy rains in Tamil Nadu capital have caused massive flooding affecting 5 million people.",imageUrl:"https://example.com/floods.jpg",section:"chennai",publishedAt:Date.now()-3600*1e3,source:"The Hindu"},{title:"Hero rescues child from burning building",description:"A brave firefighter in Mumbai saved a child from a tragic fire, creating a moment of hope.",imageUrl:"https://youtube.com/watch?v=abc",section:"india",publishedAt:Date.now()-7200*1e3,source:"NDTV"},{title:"Tech company announces new CEO",description:"Silicon Valley startup announces John Doe as new CEO replacing the founder.",imageUrl:null,section:"technology",publishedAt:Date.now()-300*60*1e3,source:"TechCrunch"}];function h2(){const a=Le();console.log(`
=== SCORING TEST (New Scoring: ${a.enableNewScoring}) ===`),f2.forEach(i=>{const r={...i,sentiment:{label:"neutral"},keywords:[]},o=xu(r,i.section);console.log(`
Title: ${i.title}`),console.log(`Section: ${i.section}`),console.log(`Score: ${o.toFixed(2)}`)}),console.log(`
=================================================
`)}typeof window<"u"&&(window.runScoringTests=h2);d2();rv.createRoot(document.getElementById("root")).render(s.jsx(_.StrictMode,{children:s.jsx(u2,{children:s.jsx(c2,{})})}));
