{"version":3,"file":"utils-sentiment-EAYl0nxh.js","sources":["../../node_modules/string-similarity/src/index.js"],"sourcesContent":["module.exports = {\n\tcompareTwoStrings:compareTwoStrings,\n\tfindBestMatch:findBestMatch\n};\n\nfunction compareTwoStrings(first, second) {\n\tfirst = first.replace(/\\s+/g, '')\n\tsecond = second.replace(/\\s+/g, '')\n\n\tif (first === second) return 1; // identical or empty\n\tif (first.length < 2 || second.length < 2) return 0; // if either is a 0-letter or 1-letter string\n\n\tlet firstBigrams = new Map();\n\tfor (let i = 0; i < first.length - 1; i++) {\n\t\tconst bigram = first.substring(i, i + 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram) + 1\n\t\t\t: 1;\n\n\t\tfirstBigrams.set(bigram, count);\n\t};\n\n\tlet intersectionSize = 0;\n\tfor (let i = 0; i < second.length - 1; i++) {\n\t\tconst bigram = second.substring(i, i + 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram)\n\t\t\t: 0;\n\n\t\tif (count > 0) {\n\t\t\tfirstBigrams.set(bigram, count - 1);\n\t\t\tintersectionSize++;\n\t\t}\n\t}\n\n\treturn (2.0 * intersectionSize) / (first.length + second.length - 2);\n}\n\nfunction findBestMatch(mainString, targetStrings) {\n\tif (!areArgsValid(mainString, targetStrings)) throw new Error('Bad arguments: First argument should be a string, second should be an array of strings');\n\t\n\tconst ratings = [];\n\tlet bestMatchIndex = 0;\n\n\tfor (let i = 0; i < targetStrings.length; i++) {\n\t\tconst currentTargetString = targetStrings[i];\n\t\tconst currentRating = compareTwoStrings(mainString, currentTargetString)\n\t\tratings.push({target: currentTargetString, rating: currentRating})\n\t\tif (currentRating > ratings[bestMatchIndex].rating) {\n\t\t\tbestMatchIndex = i\n\t\t}\n\t}\n\t\n\t\n\tconst bestMatch = ratings[bestMatchIndex]\n\t\n\treturn { ratings: ratings, bestMatch: bestMatch, bestMatchIndex: bestMatchIndex };\n}\n\nfunction areArgsValid(mainString, targetStrings) {\n\tif (typeof mainString !== 'string') return false;\n\tif (!Array.isArray(targetStrings)) return false;\n\tif (!targetStrings.length) return false;\n\tif (targetStrings.find( function (s) { return typeof s !== 'string'})) return false;\n\treturn true;\n}\n"],"names":["src","compareTwoStrings","findBestMatch","first","second","firstBigrams","i","bigram","count","intersectionSize","mainString","targetStrings","areArgsValid","ratings","bestMatchIndex","currentTargetString","currentRating","bestMatch","s"],"mappings":"uCAAAA,EAAiB,CAChB,kBAAkBC,EAClB,cAAcC,GAGf,SAASD,EAAkBE,EAAOC,EAAQ,CAIzC,GAHAD,EAAQA,EAAM,QAAQ,OAAQ,EAAE,EAChCC,EAASA,EAAO,QAAQ,OAAQ,EAAE,EAE9BD,IAAUC,EAAQ,MAAO,GAC7B,GAAID,EAAM,OAAS,GAAKC,EAAO,OAAS,EAAG,MAAO,GAElD,IAAIC,EAAe,IAAI,IACvB,QAASC,EAAI,EAAGA,EAAIH,EAAM,OAAS,EAAGG,IAAK,CAC1C,MAAMC,EAASJ,EAAM,UAAUG,EAAGA,EAAI,CAAC,EACjCE,EAAQH,EAAa,IAAIE,CAAM,EAClCF,EAAa,IAAIE,CAAM,EAAI,EAC3B,EAEHF,EAAa,IAAIE,EAAQC,CAAK,CAChC,CAEC,IAAIC,EAAmB,EACvB,QAASH,EAAI,EAAGA,EAAIF,EAAO,OAAS,EAAGE,IAAK,CAC3C,MAAMC,EAASH,EAAO,UAAUE,EAAGA,EAAI,CAAC,EAClCE,EAAQH,EAAa,IAAIE,CAAM,EAClCF,EAAa,IAAIE,CAAM,EACvB,EAECC,EAAQ,IACXH,EAAa,IAAIE,EAAQC,EAAQ,CAAC,EAClCC,IAEH,CAEC,MAAQ,GAAMA,GAAqBN,EAAM,OAASC,EAAO,OAAS,EACnE,CAEA,SAASF,EAAcQ,EAAYC,EAAe,CACjD,GAAI,CAACC,EAAaF,EAAYC,CAAa,EAAG,MAAM,IAAI,MAAM,wFAAwF,EAEtJ,MAAME,EAAU,CAAA,EAChB,IAAIC,EAAiB,EAErB,QAASR,EAAI,EAAGA,EAAIK,EAAc,OAAQL,IAAK,CAC9C,MAAMS,EAAsBJ,EAAcL,CAAC,EACrCU,EAAgBf,EAAkBS,EAAYK,CAAmB,EACvEF,EAAQ,KAAK,CAAC,OAAQE,EAAqB,OAAQC,CAAa,CAAC,EAC7DA,EAAgBH,EAAQC,CAAc,EAAE,SAC3CA,EAAiBR,EAEpB,CAGC,MAAMW,EAAYJ,EAAQC,CAAc,EAExC,MAAO,CAAE,QAASD,EAAS,UAAWI,EAAW,eAAgBH,CAAc,CAChF,CAEA,SAASF,EAAaF,EAAYC,EAAe,CAIhD,MAHI,SAAOD,GAAe,UACtB,CAAC,MAAM,QAAQC,CAAa,GAC5B,CAACA,EAAc,QACfA,EAAc,KAAM,SAAUO,EAAG,CAAE,OAAO,OAAOA,GAAM,QAAQ,CAAC,EAErE","x_google_ignoreList":[0]}