{"version":3,"file":"TechSocialPage-D5iGsuXd.js","sources":["../../src/pages/TechSocialPage.jsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport NewsSection from '../components/NewsSection';\nimport SectionNavigator from '../components/SectionNavigator';\nimport { ImageCard } from '../components/ImageCard';\nimport { useNews } from '../context/NewsContext';\nimport { useSettings } from '../context/SettingsContext';\n\nconst CACHE_KEY = 'buzz_page_cache';\n\n/**\n * Tech & Social Page\n * Social Trends Distribution:\n * - 30% World\n * - 30% India\n * - 20% Tamil Nadu\n * - 20% Muscat/Local\n */\nfunction TechSocialPage() {\n    const { newsData, refreshNews, loading: contextLoading, loadSection } = useNews();\n    const { settings } = useSettings();\n    const [activeEntTab, setActiveEntTab] = useState('tamil');\n\n    // Local cache state for immediate loading\n    const [cachedData, setCachedData] = useState(null);\n    const [loadingPhase, setLoadingPhase] = useState(0); // 0: Init, 1: Local, 3: Live\n\n    // Load Cache on Mount\n    useEffect(() => {\n        try {\n            const cached = localStorage.getItem(CACHE_KEY);\n            if (cached) {\n                const parsed = JSON.parse(cached);\n                // Check age (8 hours)\n                const age = Date.now() - (parsed.timestamp || 0);\n                if (age < 8 * 60 * 60 * 1000) {\n                     setCachedData(parsed);\n                     setLoadingPhase(1);\n                } else {\n                     console.log('[Buzz] Cache expired, showing anyway until live loads');\n                     setCachedData(parsed);\n                     setLoadingPhase(1);\n                }\n            }\n        } catch (e) {\n            console.warn('Buzz Cache read error', e);\n        }\n    }, []);\n\n    // Trigger lazy load for sections required by this page\n    useEffect(() => {\n        const requiredSections = ['entertainment', 'social', 'technology', 'local', 'world', 'india', 'chennai'];\n        requiredSections.forEach(section => loadSection(section));\n    }, [loadSection]);\n\n    const filterOldNews = React.useCallback((newsArray) => {\n        if (!newsArray) return [];\n        const limitMs = (settings.freshnessLimitHours || 72) * 3600000;\n        const now = Date.now();\n        return newsArray.filter(item => (now - (item.publishedAt || 0)) < limitMs);\n    }, [settings.freshnessLimitHours]);\n\n    // Determine which data to use (Live > Cache)\n    // We prefer Live if available, else Cache\n    const hasLiveData = newsData.entertainment && newsData.entertainment.length > 0;\n\n    useEffect(() => {\n        if (hasLiveData) {\n            setLoadingPhase(3);\n        }\n    }, [hasLiveData]);\n\n    const displayData = hasLiveData ? newsData : (cachedData?.data || {});\n\n    // ============================================\n    // ENTERTAINMENT CONTENT FILTERING\n    // ============================================\n    const processedEntertainment = useMemo(() => {\n        const raw = displayData.entertainment || [];\n\n        const KEYWORDS = {\n            tamil: [\n                'vijay', 'ajith', 'rajini', 'kamal', 'dhanush', 'suriya', 'vikram', 'simbu',\n                'siva karthikeyan', 'trisha', 'nayanthara', 'anirudh', 'ar rahman', 'kollywood',\n                'thalapathy', 'thala', 'udhayanidhi', 'vetri maaran', 'lokesh', 'nelson',\n                'jailer', 'leo', 'kanguva', 'indian 2', 'vettaiyan', 'goat', 'viduthalai',\n                'karthi', 'sethupathi', 'tamil', 'chennai'\n            ],\n            hindi: [\n                'shah rukh', 'srk', 'salman', 'aamir', 'ranbir', 'alia', 'deepika', 'ranveer',\n                'kareena', 'akshay', 'bachchan', 'bollywood', 'hrithik', 'katrina', 'vicky kaushal',\n                'karan johar', 'yrf', 'dharma', 'pathaan', 'jawan', 'tiger 3', 'animal', 'dunki',\n                'war 2', 'singham', 'hindi', 'mumbai'\n            ],\n            hollywood: [\n                'oscar', 'grammy', 'emmy', 'golden globe', 'marvel', 'dc', 'disney', 'warner bros',\n                'universal', 'tom cruise', 'dicaprio', 'nolan', 'avengers', 'spider-man', 'batman',\n                'superman', 'taylor swift', 'beyonce', 'kim kardashian', 'kanye', 'justin bieber',\n                'selena gomez', 'zendaya', 'hollywood', 'bad bunny', 'rihanna', 'drake'\n            ],\n            ott: [\n                'netflix', 'prime video', 'hotstar', 'sonyliv', 'zee5', 'aha', 'streaming',\n                'web series', 'season', 'episode', 'ott'\n            ]\n        };\n\n        return raw.map(item => {\n            const text = (item.title + ' ' + (item.summary || '')).toLowerCase();\n\n            // Content-based classification (Overrides source)\n            if (KEYWORDS.tamil.some(k => text.includes(k))) return { ...item, region: 'tamil' };\n            if (KEYWORDS.hindi.some(k => text.includes(k))) return { ...item, region: 'hindi' };\n            if (KEYWORDS.hollywood.some(k => text.includes(k))) return { ...item, region: 'hollywood' };\n            if (KEYWORDS.ott.some(k => text.includes(k))) return { ...item, region: 'ott' };\n\n            // Fallback to existing region if no specific keyword found\n            return item;\n        });\n    }, [displayData.entertainment]);\n\n    // ============================================\n    // SOCIAL TRENDS DISTRIBUTION LOGIC\n    // ============================================\n\n    const socialTrends = useMemo(() => {\n        // Keywords for each region\n        const REGION_KEYWORDS = {\n            world: ['global', 'world', 'international', 'usa', 'europe', 'uk', 'china',\n                'twitter', 'x.com', 'meta', 'tiktok', 'instagram', 'viral'],\n            india: ['india', 'indian', 'bollywood', 'cricket', 'modi', 'delhi',\n                'mumbai', 'bangalore', 'hyderabad', 'ipl', 'bcci'],\n            tamilnadu: ['chennai', 'tamil', 'tamilnadu', 'kollywood', 'rajini',\n                'kamal', 'vijay', 'trichy', 'coimbatore', 'madurai', 'tn'],\n            muscat: ['muscat', 'oman', 'gulf', 'gcc', 'uae', 'dubai', 'arab',\n                'middle east', 'expat', 'omani']\n        };\n\n        // Categorize social news by region\n        const categorizeByRegion = (newsItem) => {\n            const text = (newsItem.title + ' ' + (newsItem.summary || '')).toLowerCase();\n            if (REGION_KEYWORDS.tamilnadu.some(kw => text.includes(kw))) return 'tamilnadu';\n            if (REGION_KEYWORDS.muscat.some(kw => text.includes(kw))) return 'muscat';\n            if (REGION_KEYWORDS.india.some(kw => text.includes(kw))) return 'india';\n            return 'world';\n        };\n\n        // Get all social news\n        const allSocial = filterOldNews(displayData.social || []);\n        const worldNews = filterOldNews(displayData.world || []);\n        const indiaNews = filterOldNews(displayData.india || []);\n        const chennaiNews = filterOldNews(displayData.chennai || []);\n        const localNews = filterOldNews(displayData.local || []); // Muscat/Oman\n\n        // Categorize all news\n        const regionBuckets = {\n            world: [],\n            india: [],\n            tamilnadu: [],\n            muscat: []\n        };\n\n        // Add social news to appropriate buckets\n        allSocial.forEach(item => {\n            const region = categorizeByRegion(item);\n            regionBuckets[region].push({ ...item, source: 'social' });\n        });\n\n        // Add world news to world bucket (filter for social trends)\n        worldNews\n            .filter(item => item.title?.toLowerCase().includes('trend') ||\n                item.title?.toLowerCase().includes('viral') ||\n                item.title?.toLowerCase().includes('social'))\n            .forEach(item => regionBuckets.world.push({ ...item, source: 'world' }));\n\n        // Add India news to india bucket\n        indiaNews\n            .filter(item => item.title?.toLowerCase().includes('trend') ||\n                item.title?.toLowerCase().includes('viral') ||\n                item.title?.toLowerCase().includes('social'))\n            .forEach(item => regionBuckets.india.push({ ...item, source: 'india' }));\n\n        // Add Chennai news to TN bucket\n        chennaiNews.forEach(item => {\n            regionBuckets.tamilnadu.push({ ...item, source: 'chennai' });\n        });\n\n        // Add Local (Muscat) news to Muscat bucket\n        localNews.forEach(item => {\n            regionBuckets.muscat.push({ ...item, source: 'local' });\n        });\n\n        // Get target counts from settings (defaults if missing)\n        const distribution = {\n            world: settings.socialTrends?.worldCount ?? 8,\n            india: settings.socialTrends?.indiaCount ?? 8,\n            tamilnadu: settings.socialTrends?.tamilnaduCount ?? 5,\n            muscat: settings.socialTrends?.muscatCount ?? 4\n        };\n\n        // Build final mixed array\n        const result = [];\n\n        // Add from each bucket according to counts\n        Object.entries(distribution).forEach(([region, count]) => {\n            const bucket = regionBuckets[region];\n            // Sort bucket by date if possible\n            bucket.sort((a, b) => (b.publishedAt || 0) - (a.publishedAt || 0));\n\n            const toAdd = bucket.slice(0, count);\n            toAdd.forEach(item => {\n                result.push({\n                    ...item,\n                    region: region,\n                    regionLabel: region === 'world' ? 'ðŸŒ World' :\n                        region === 'india' ? 'ðŸ‡®ðŸ‡³ India' :\n                            region === 'tamilnadu' ? 'ðŸ›ï¸ Tamil Nadu' :\n                                'ðŸï¸ Muscat'\n                });\n            });\n        });\n\n        // Sort by publishedAt (newest first)\n        result.sort((a, b) => (b.publishedAt || 0) - (a.publishedAt || 0));\n\n        return result;\n    }, [displayData, settings.freshnessLimitHours, settings.socialTrends, filterOldNews]);\n\n    // Save to Cache when Live Data updates\n    useEffect(() => {\n        if (hasLiveData) {\n            try {\n                const cachePayload = {\n                    timestamp: Date.now(),\n                    data: {\n                        entertainment: newsData.entertainment,\n                        social: newsData.social,\n                        technology: newsData.technology,\n                        world: newsData.world,\n                        india: newsData.india,\n                        chennai: newsData.chennai,\n                        local: newsData.local\n                    }\n                };\n                localStorage.setItem(CACHE_KEY, JSON.stringify(cachePayload));\n            } catch (e) {\n                console.warn('Buzz Cache write error', e);\n            }\n        }\n    }, [hasLiveData, newsData]);\n\n    const handleRefresh = () => {\n        setLoadingPhase(3); // Show loading\n        refreshNews(['technology', 'social', 'world', 'india', 'chennai', 'local']);\n    };\n\n    // Navigation Sections\n    const navSections = [\n        { id: 'entertainment', icon: 'ðŸŽ¬', label: 'Entertainment' },\n        { id: 'social-trends', icon: 'ðŸ‘¥', label: 'Social Trends' },\n        { id: 'tech-news', icon: 'ðŸš€', label: 'Tech & Startups' },\n        { id: 'ai-innovation', icon: 'ðŸ¤–', label: 'AI & Innovation' }\n    ];\n\n    // Back to Top Logic\n    const [showBackToTop, setShowBackToTop] = useState(false);\n    useEffect(() => {\n        const handleScroll = () => {\n            if (window.scrollY > 400) {\n                setShowBackToTop(true);\n            } else {\n                setShowBackToTop(false);\n            }\n        };\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, []);\n\n    const scrollToTop = () => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    };\n\n    return (\n        <div className=\"page-container\">\n            <Header\n                title=\"Buzz Hub\"\n                icon=\"ðŸŽ­\"\n                onRefresh={handleRefresh}\n                loadingPhase={loadingPhase || (contextLoading ? 3 : 0)}\n            />\n            <main className=\"main-content\">\n\n                {/* Entertainment Hub */}\n                <section id=\"entertainment\" className=\"news-section entertainment-hub\">\n                    <h2 className=\"news-section__title news-section__title--entertainment\">\n                        <span>ðŸŽ¬</span> Entertainment\n                    </h2>\n\n                    <div className=\"entertainment-tabs\">\n                        <button\n                            className={`ent-tab ${activeEntTab === 'tamil' ? 'ent-tab--active' : ''}`}\n                            onClick={() => setActiveEntTab('tamil')}\n                        >\n                            ðŸŽ­ Tamil\n                        </button>\n                        <button\n                            className={`ent-tab ${activeEntTab === 'hindi' ? 'ent-tab--active' : ''}`}\n                            onClick={() => setActiveEntTab('hindi')}\n                        >\n                            ðŸŽª Hindi\n                        </button>\n                        <button\n                            className={`ent-tab ${activeEntTab === 'hollywood' ? 'ent-tab--active' : ''}`}\n                            onClick={() => setActiveEntTab('hollywood')}\n                        >\n                            ðŸŽ¬ Hollywood\n                        </button>\n                        <button\n                            className={`ent-tab ${activeEntTab === 'ott' ? 'ent-tab--active' : ''}`}\n                            onClick={() => setActiveEntTab('ott')}\n                        >\n                            ðŸ“º OTT\n                        </button>\n                    </div>\n\n                    <div className=\"entertainment-content\">\n                        <NewsSection\n                            title={activeEntTab === 'tamil' ? 'Tamil Cinema' :\n                                activeEntTab === 'hindi' ? 'Hindi Cinema' :\n                                    activeEntTab === 'hollywood' ? 'Hollywood' : 'OTT & Streaming'}\n                            icon={activeEntTab === 'tamil' ? 'ðŸŽ­' :\n                                activeEntTab === 'hindi' ? 'ðŸŽª' :\n                                    activeEntTab === 'hollywood' ? 'ðŸŽ¬' : 'ðŸ“º'}\n                            news={filterOldNews(processedEntertainment.filter(item => item.region === activeEntTab))}\n                            maxDisplay={\n                                activeEntTab === 'tamil' ? (settings.entertainment?.tamilCount ?? 5) :\n                                    activeEntTab === 'hindi' ? (settings.entertainment?.hindiCount ?? 5) :\n                                        activeEntTab === 'hollywood' ? (settings.entertainment?.hollywoodCount ?? 3) :\n                                            (settings.entertainment?.ottCount ?? 2)\n                            }\n                            hideTitle\n                            showCritics={false}\n                        />\n                    </div>\n                </section>\n\n                {/* Social Trends with Distribution (Moved to Top) */}\n                <section id=\"social-trends\" className=\"news-section\">\n                    <h2 className=\"news-section__title news-section__title--social\">\n                        <span>ðŸ‘¥</span> Social Trends\n                    </h2>\n\n                    <div style={{\n                        display: 'grid',\n                        gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n                        gap: '16px',\n                        padding: '0 16px'\n                    }}>\n                        {socialTrends.map((item, idx) => (\n                            <ImageCard\n                                key={idx}\n                                article={{\n                                    ...item,\n                                    time: item.time || 'Recently'\n                                }}\n                                href={item.link}\n                                badge={item.regionLabel}\n                                size=\"medium\"\n                            />\n                        ))}\n\n                        {socialTrends.length === 0 && (\n                            <div className=\"empty-state\" style={{gridColumn: '1/-1'}}>\n                                <p>No social trends available</p>\n                            </div>\n                        )}\n                    </div>\n                </section>\n\n                {/* Tech Section */}\n                <NewsSection\n                    id=\"tech-news\"\n                    title=\"Tech & Startups\"\n                    icon=\"ðŸš€\"\n                    colorClass=\"news-section__title--world\"\n                    news={filterOldNews(displayData.technology)}\n                    maxDisplay={settings.sections?.technology?.count || 5} // Dynamic\n                    showCritics={false}\n                />\n\n                {/* AI & Innovation */}\n                <NewsSection\n                    id=\"ai-innovation\"\n                    title=\"AI & Innovation\"\n                    icon=\"ðŸ¤–\"\n                    colorClass=\"news-section__title--entertainment\"\n                    news={filterOldNews(displayData.technology?.filter(\n                        item => item.title?.toLowerCase().includes('ai') ||\n                            item.title?.toLowerCase().includes('innovation') ||\n                            item.title?.toLowerCase().includes('machine learning') ||\n                            item.title?.toLowerCase().includes('chatgpt') ||\n                            item.title?.toLowerCase().includes('gemini')\n                    ))}\n                    maxDisplay={6}\n                    showCritics={false}\n                />\n            </main>\n\n            {/* Floating Section Navigator */}\n            <SectionNavigator sections={navSections} />\n\n            {/* Back to Top Button */}\n            <button\n                onClick={scrollToTop}\n                style={{\n                    position: 'fixed',\n                    bottom: '90px',\n                    left: '50%',\n                    transform: 'translateX(-50%)',\n                    width: '40px',\n                    height: '40px',\n                    borderRadius: '50%',\n                    background: 'rgba(var(--bg-card), 0.6)',\n                    backgroundColor: 'rgba(0,0,0,0.5)',\n                    color: '#fff',\n                    border: '1px solid rgba(255,255,255,0.2)',\n                    fontSize: '1.2rem',\n                    cursor: 'pointer',\n                    opacity: showBackToTop ? 1 : 0,\n                    pointerEvents: showBackToTop ? 'auto' : 'none',\n                    transition: 'all 0.3s ease',\n                    zIndex: 900,\n                    backdropFilter: 'blur(4px)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.2)'\n                }}\n                className=\"back-to-top\"\n            >\n                â†‘\n            </button>\n        </div>\n    );\n}\n\nexport default TechSocialPage;\n"],"names":["CACHE_KEY","TechSocialPage","newsData","refreshNews","contextLoading","loadSection","useNews","settings","useSettings","activeEntTab","setActiveEntTab","useState","cachedData","setCachedData","loadingPhase","setLoadingPhase","useEffect","cached","parsed","section","filterOldNews","React","newsArray","limitMs","now","item","hasLiveData","displayData","processedEntertainment","useMemo","raw","KEYWORDS","text","k","socialTrends","REGION_KEYWORDS","categorizeByRegion","newsItem","kw","allSocial","worldNews","indiaNews","chennaiNews","localNews","regionBuckets","region","distribution","result","count","bucket","a","b","cachePayload","handleRefresh","navSections","showBackToTop","setShowBackToTop","handleScroll","scrollToTop","jsxs","jsx","Header","NewsSection","idx","ImageCard","SectionNavigator"],"mappings":"wUAQA,MAAMA,EAAY,kBAUlB,SAASC,IAAiB,CACtB,KAAM,CAAE,SAAAC,EAAU,YAAAC,EAAa,QAASC,EAAgB,YAAAC,CAAA,EAAgBC,EAAA,EAClE,CAAE,SAAAC,CAAA,EAAaC,EAAA,EACf,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,OAAO,EAGlD,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAS,IAAI,EAC3C,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,CAAC,EAGlDK,EAAAA,UAAU,IAAM,CACZ,GAAI,CACA,MAAMC,EAAS,aAAa,QAAQjB,CAAS,EAC7C,GAAIiB,EAAQ,CACR,MAAMC,EAAS,KAAK,MAAMD,CAAM,EAEpB,KAAK,IAAA,GAASC,EAAO,WAAa,GACpC,IAAS,GAAK,KACnBL,EAAcK,CAAM,EACpBH,EAAgB,CAAC,IAEjB,QAAQ,IAAI,uDAAuD,EACnEF,EAAcK,CAAM,EACpBH,EAAgB,CAAC,EAE1B,CACJ,OAAS,EAAG,CACR,QAAQ,KAAK,wBAAyB,CAAC,CAC3C,CACJ,EAAG,CAAA,CAAE,EAGLC,EAAAA,UAAU,IAAM,CACa,CAAC,gBAAiB,SAAU,aAAc,QAAS,QAAS,QAAS,SAAS,EACtF,QAAQG,GAAWd,EAAYc,CAAO,CAAC,CAC5D,EAAG,CAACd,CAAW,CAAC,EAEhB,MAAMe,EAAgBC,EAAM,YAAaC,GAAc,CACnD,GAAI,CAACA,EAAW,MAAO,CAAA,EACvB,MAAMC,GAAWhB,EAAS,qBAAuB,IAAM,KACjDiB,EAAM,KAAK,IAAA,EACjB,OAAOF,EAAU,OAAOG,GAASD,GAAOC,EAAK,aAAe,GAAMF,CAAO,CAC7E,EAAG,CAAChB,EAAS,mBAAmB,CAAC,EAI3BmB,EAAcxB,EAAS,eAAiBA,EAAS,cAAc,OAAS,EAE9Ec,EAAAA,UAAU,IAAM,CACRU,GACAX,EAAgB,CAAC,CAEzB,EAAG,CAACW,CAAW,CAAC,EAEhB,MAAMC,EAAcD,EAAcxB,EAAYU,GAAY,MAAQ,CAAA,EAK5DgB,EAAyBC,EAAAA,QAAQ,IAAM,CACzC,MAAMC,EAAMH,EAAY,eAAiB,CAAA,EAEnCI,EAAW,CACb,MAAO,CACH,QAAS,QAAS,SAAU,QAAS,UAAW,SAAU,SAAU,QACpE,mBAAoB,SAAU,aAAc,UAAW,YAAa,YACpE,aAAc,QAAS,cAAe,eAAgB,SAAU,SAChE,SAAU,MAAO,UAAW,WAAY,YAAa,OAAQ,aAC7D,SAAU,aAAc,QAAS,SAAA,EAErC,MAAO,CACH,YAAa,MAAO,SAAU,QAAS,SAAU,OAAQ,UAAW,UACpE,UAAW,SAAU,WAAY,YAAa,UAAW,UAAW,gBACpE,cAAe,MAAO,SAAU,UAAW,QAAS,UAAW,SAAU,QACzE,QAAS,UAAW,QAAS,QAAA,EAEjC,UAAW,CACP,QAAS,SAAU,OAAQ,eAAgB,SAAU,KAAM,SAAU,cACrE,YAAa,aAAc,WAAY,QAAS,WAAY,aAAc,SAC1E,WAAY,eAAgB,UAAW,iBAAkB,QAAS,gBAClE,eAAgB,UAAW,YAAa,YAAa,UAAW,OAAA,EAEpE,IAAK,CACD,UAAW,cAAe,UAAW,UAAW,OAAQ,MAAO,YAC/D,aAAc,SAAU,UAAW,KAAA,CACvC,EAGJ,OAAOD,EAAI,IAAIL,GAAQ,CACnB,MAAMO,GAAQP,EAAK,MAAQ,KAAOA,EAAK,SAAW,KAAK,YAAA,EAGvD,OAAIM,EAAS,MAAM,KAAKE,GAAKD,EAAK,SAASC,CAAC,CAAC,EAAU,CAAE,GAAGR,EAAM,OAAQ,OAAA,EACtEM,EAAS,MAAM,KAAKE,GAAKD,EAAK,SAASC,CAAC,CAAC,EAAU,CAAE,GAAGR,EAAM,OAAQ,OAAA,EACtEM,EAAS,UAAU,KAAKE,GAAKD,EAAK,SAASC,CAAC,CAAC,EAAU,CAAE,GAAGR,EAAM,OAAQ,WAAA,EAC1EM,EAAS,IAAI,KAAKE,GAAKD,EAAK,SAASC,CAAC,CAAC,EAAU,CAAE,GAAGR,EAAM,OAAQ,KAAA,EAGjEA,CACX,CAAC,CACL,EAAG,CAACE,EAAY,aAAa,CAAC,EAMxBO,EAAeL,EAAAA,QAAQ,IAAM,CAE/B,MAAMM,EAAkB,CAGpB,MAAO,CAAC,QAAS,SAAU,YAAa,UAAW,OAAQ,QACvD,SAAU,YAAa,YAAa,MAAO,MAAA,EAC/C,UAAW,CAAC,UAAW,QAAS,YAAa,YAAa,SACtD,QAAS,QAAS,SAAU,aAAc,UAAW,IAAA,EACzD,OAAQ,CAAC,SAAU,OAAQ,OAAQ,MAAO,MAAO,QAAS,OACtD,cAAe,QAAS,OAAA,CAAO,EAIjCC,EAAsBC,GAAa,CACrC,MAAML,GAAQK,EAAS,MAAQ,KAAOA,EAAS,SAAW,KAAK,YAAA,EAC/D,OAAIF,EAAgB,UAAU,KAAKG,GAAMN,EAAK,SAASM,CAAE,CAAC,EAAU,YAChEH,EAAgB,OAAO,KAAKG,GAAMN,EAAK,SAASM,CAAE,CAAC,EAAU,SAC7DH,EAAgB,MAAM,KAAKG,GAAMN,EAAK,SAASM,CAAE,CAAC,EAAU,QACzD,OACX,EAGMC,EAAYnB,EAAcO,EAAY,QAAU,CAAA,CAAE,EAClDa,EAAYpB,EAAcO,EAAY,OAAS,CAAA,CAAE,EACjDc,EAAYrB,EAAcO,EAAY,OAAS,CAAA,CAAE,EACjDe,EAActB,EAAcO,EAAY,SAAW,CAAA,CAAE,EACrDgB,EAAYvB,EAAcO,EAAY,OAAS,CAAA,CAAE,EAGjDiB,EAAgB,CAClB,MAAO,CAAA,EACP,MAAO,CAAA,EACP,UAAW,CAAA,EACX,OAAQ,CAAA,CAAC,EAIbL,EAAU,QAAQd,GAAQ,CACtB,MAAMoB,EAAST,EAAmBX,CAAI,EACtCmB,EAAcC,CAAM,EAAE,KAAK,CAAE,GAAGpB,EAAM,OAAQ,SAAU,CAC5D,CAAC,EAGDe,EACK,OAAOf,GAAQA,EAAK,OAAO,cAAc,SAAS,OAAO,GACtDA,EAAK,OAAO,YAAA,EAAc,SAAS,OAAO,GAC1CA,EAAK,OAAO,YAAA,EAAc,SAAS,QAAQ,CAAC,EAC/C,QAAQA,GAAQmB,EAAc,MAAM,KAAK,CAAE,GAAGnB,EAAM,OAAQ,OAAA,CAAS,CAAC,EAG3EgB,EACK,OAAOhB,GAAQA,EAAK,OAAO,cAAc,SAAS,OAAO,GACtDA,EAAK,OAAO,YAAA,EAAc,SAAS,OAAO,GAC1CA,EAAK,OAAO,YAAA,EAAc,SAAS,QAAQ,CAAC,EAC/C,QAAQA,GAAQmB,EAAc,MAAM,KAAK,CAAE,GAAGnB,EAAM,OAAQ,OAAA,CAAS,CAAC,EAG3EiB,EAAY,QAAQjB,GAAQ,CACxBmB,EAAc,UAAU,KAAK,CAAE,GAAGnB,EAAM,OAAQ,UAAW,CAC/D,CAAC,EAGDkB,EAAU,QAAQlB,GAAQ,CACtBmB,EAAc,OAAO,KAAK,CAAE,GAAGnB,EAAM,OAAQ,QAAS,CAC1D,CAAC,EAGD,MAAMqB,EAAe,CACjB,MAAOvC,EAAS,cAAc,YAAc,EAC5C,MAAOA,EAAS,cAAc,YAAc,EAC5C,UAAWA,EAAS,cAAc,gBAAkB,EACpD,OAAQA,EAAS,cAAc,aAAe,CAAA,EAI5CwC,EAAS,CAAA,EAGf,cAAO,QAAQD,CAAY,EAAE,QAAQ,CAAC,CAACD,EAAQG,CAAK,IAAM,CACtD,MAAMC,EAASL,EAAcC,CAAM,EAEnCI,EAAO,KAAK,CAACC,EAAGC,KAAOA,EAAE,aAAe,IAAMD,EAAE,aAAe,EAAE,EAEnDD,EAAO,MAAM,EAAGD,CAAK,EAC7B,QAAQvB,GAAQ,CAClBsB,EAAO,KAAK,CACR,GAAGtB,EACH,OAAAoB,EACA,YAAaA,IAAW,QAAU,WAC9BA,IAAW,QAAU,aACjBA,IAAW,YAAc,iBACrB,YAAA,CACf,CACL,CAAC,CACL,CAAC,EAGDE,EAAO,KAAK,CAAC,EAAGI,KAAOA,EAAE,aAAe,IAAM,EAAE,aAAe,EAAE,EAE1DJ,CACX,EAAG,CAACpB,EAAapB,EAAS,oBAAqBA,EAAS,aAAca,CAAa,CAAC,EAGpFJ,EAAAA,UAAU,IAAM,CACZ,GAAIU,EACA,GAAI,CACA,MAAM0B,EAAe,CACjB,UAAW,KAAK,IAAA,EAChB,KAAM,CACF,cAAelD,EAAS,cACxB,OAAQA,EAAS,OACjB,WAAYA,EAAS,WACrB,MAAOA,EAAS,MAChB,MAAOA,EAAS,MAChB,QAASA,EAAS,QAClB,MAAOA,EAAS,KAAA,CACpB,EAEJ,aAAa,QAAQF,EAAW,KAAK,UAAUoD,CAAY,CAAC,CAChE,OAAS,EAAG,CACR,QAAQ,KAAK,yBAA0B,CAAC,CAC5C,CAER,EAAG,CAAC1B,EAAaxB,CAAQ,CAAC,EAE1B,MAAMmD,EAAgB,IAAM,CACxBtC,EAAgB,CAAC,EACjBZ,EAAY,CAAC,aAAc,SAAU,QAAS,QAAS,UAAW,OAAO,CAAC,CAC9E,EAGMmD,EAAc,CAChB,CAAE,GAAI,gBAAiB,KAAM,KAAM,MAAO,eAAA,EAC1C,CAAE,GAAI,gBAAiB,KAAM,KAAM,MAAO,eAAA,EAC1C,CAAE,GAAI,YAAa,KAAM,KAAM,MAAO,iBAAA,EACtC,CAAE,GAAI,gBAAiB,KAAM,KAAM,MAAO,iBAAA,CAAkB,EAI1D,CAACC,EAAeC,CAAgB,EAAI7C,EAAAA,SAAS,EAAK,EACxDK,EAAAA,UAAU,IAAM,CACZ,MAAMyC,EAAe,IAAM,CACnB,OAAO,QAAU,IACjBD,EAAiB,EAAI,EAErBA,EAAiB,EAAK,CAE9B,EACA,cAAO,iBAAiB,SAAUC,CAAY,EACvC,IAAM,OAAO,oBAAoB,SAAUA,CAAY,CAClE,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAc,IAAM,CACtB,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,SAAU,CAClD,EAEA,OACIC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACX,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACG,MAAM,WACN,KAAK,KACL,UAAWR,EACX,aAAcvC,IAAiBV,EAAiB,EAAI,EAAA,CAAA,EAExDuD,EAAAA,KAAC,OAAA,CAAK,UAAU,eAGZ,SAAA,CAAAA,EAAAA,KAAC,UAAA,CAAQ,GAAG,gBAAgB,UAAU,iCAClC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,yDACV,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAA,IAAA,CAAE,EAAO,gBAAA,EACnB,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,qBACX,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACG,UAAW,WAAWnD,IAAiB,QAAU,kBAAoB,EAAE,GACvE,QAAS,IAAMC,EAAgB,OAAO,EACzC,SAAA,UAAA,CAAA,EAGDkD,EAAAA,IAAC,SAAA,CACG,UAAW,WAAWnD,IAAiB,QAAU,kBAAoB,EAAE,GACvE,QAAS,IAAMC,EAAgB,OAAO,EACzC,SAAA,UAAA,CAAA,EAGDkD,EAAAA,IAAC,SAAA,CACG,UAAW,WAAWnD,IAAiB,YAAc,kBAAoB,EAAE,GAC3E,QAAS,IAAMC,EAAgB,WAAW,EAC7C,SAAA,cAAA,CAAA,EAGDkD,EAAAA,IAAC,SAAA,CACG,UAAW,WAAWnD,IAAiB,MAAQ,kBAAoB,EAAE,GACrE,QAAS,IAAMC,EAAgB,KAAK,EACvC,SAAA,QAAA,CAAA,CAED,EACJ,EAEAkD,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACX,SAAAA,EAAAA,IAACE,EAAA,CACG,MAAOrD,IAAiB,QAAU,eAC9BA,IAAiB,QAAU,eACvBA,IAAiB,YAAc,YAAc,kBACrD,KAAMA,IAAiB,QAAU,KAC7BA,IAAiB,QAAU,KACvBA,IAAiB,YAAc,KAAO,KAC9C,KAAMW,EAAcQ,EAAuB,UAAeH,EAAK,SAAWhB,CAAY,CAAC,EACvF,WACIA,IAAiB,QAAWF,EAAS,eAAe,YAAc,EAC9DE,IAAiB,QAAWF,EAAS,eAAe,YAAc,EAC9DE,IAAiB,YAAeF,EAAS,eAAe,gBAAkB,EACrEA,EAAS,eAAe,UAAY,EAErD,UAAS,GACT,YAAa,EAAA,CAAA,CACjB,CACJ,CAAA,EACJ,EAGAoD,EAAAA,KAAC,UAAA,CAAQ,GAAG,gBAAgB,UAAU,eAClC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,kDACV,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAA,IAAA,CAAE,EAAO,gBAAA,EACnB,EAEAD,OAAC,OAAI,MAAO,CACR,QAAS,OACT,oBAAqB,wCACrB,IAAK,OACL,QAAS,QAAA,EAER,SAAA,CAAAzB,EAAa,IAAI,CAACT,EAAMsC,IACrBH,EAAAA,IAACI,EAAA,CAEG,QAAS,CACL,GAAGvC,EACH,KAAMA,EAAK,MAAQ,UAAA,EAEvB,KAAMA,EAAK,KACX,MAAOA,EAAK,YACZ,KAAK,QAAA,EAPAsC,CAAA,CASZ,EAEA7B,EAAa,SAAW,GACrB0B,EAAAA,IAAC,OAAI,UAAU,cAAc,MAAO,CAAC,WAAY,MAAA,EAC7C,SAAAA,EAAAA,IAAC,IAAA,CAAE,sCAA0B,CAAA,CACjC,CAAA,CAAA,CAER,CAAA,EACJ,EAGAA,EAAAA,IAACE,EAAA,CACG,GAAG,YACH,MAAM,kBACN,KAAK,KACL,WAAW,6BACX,KAAM1C,EAAcO,EAAY,UAAU,EAC1C,WAAYpB,EAAS,UAAU,YAAY,OAAS,EACpD,YAAa,EAAA,CAAA,EAIjBqD,EAAAA,IAACE,EAAA,CACG,GAAG,gBACH,MAAM,kBACN,KAAK,KACL,WAAW,qCACX,KAAM1C,EAAcO,EAAY,YAAY,OACxCF,GAAQA,EAAK,OAAO,YAAA,EAAc,SAAS,IAAI,GAC3CA,EAAK,OAAO,YAAA,EAAc,SAAS,YAAY,GAC/CA,EAAK,OAAO,YAAA,EAAc,SAAS,kBAAkB,GACrDA,EAAK,OAAO,YAAA,EAAc,SAAS,SAAS,GAC5CA,EAAK,OAAO,YAAA,EAAc,SAAS,QAAQ,CAAA,CAClD,EACD,WAAY,EACZ,YAAa,EAAA,CAAA,CACjB,EACJ,EAGAmC,EAAAA,IAACK,EAAA,CAAiB,SAAUX,CAAA,CAAa,EAGzCM,EAAAA,IAAC,SAAA,CACG,QAASF,EACT,MAAO,CACH,SAAU,QACV,OAAQ,OACR,KAAM,MACN,UAAW,mBACX,MAAO,OACP,OAAQ,OACR,aAAc,MACd,WAAY,4BACZ,gBAAiB,kBACjB,MAAO,OACP,OAAQ,kCACR,SAAU,SACV,OAAQ,UACR,QAASH,EAAgB,EAAI,EAC7B,cAAeA,EAAgB,OAAS,OACxC,WAAY,gBACZ,OAAQ,IACR,eAAgB,YAChB,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,UAAW,4BAAA,EAEf,UAAU,cACb,SAAA,GAAA,CAAA,CAED,EACJ,CAER"}