import{j as e,u as Y,a as L,b as Z,c as X,d as J,i as ee,g as te}from"./index-Cu5lRAYs.js";import{b as g,L as z}from"./vendor-react-BMB3rUHI.js";import{M as se,H as ne}from"./Header-wyIJ1Xr8.js";import{N as _}from"./NewsSection-C0taUcN_.js";import{S as ie}from"./SectionNavigator-wZmgApWG.js";import{W as F,H as re,a as ae}from"./AppIcons-C6ymHZs0.js";import{g as oe,a as le}from"./timeSegment-SF6hnHYw.js";import{I as M}from"./ImageCard-C1RhXYns.js";/* empty css                        */import"./utils-sentiment-EAYl0nxh.js";const ce=({items:t})=>{const[n,i]=g.useState(0);if(g.useEffect(()=>{if(!t||t.length<2)return;const r=setInterval(()=>{i(a=>(a+1)%t.length)},5e3);return()=>clearInterval(r)},[t]),!t||t.length===0)return null;const s=t[n];return e.jsxs("div",{className:"breaking-news-banner",children:[e.jsxs("div",{className:"breaking-label",children:[e.jsx("span",{className:"pulse-icon",children:"üî¥"})," BREAKING"]}),e.jsxs("div",{className:"breaking-content",children:[e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"breaking-link",children:s.title}),e.jsxs("span",{className:"breaking-time",children:[s.time," ‚Ä¢ ",s.source]})]}),t.length>1&&e.jsx("div",{className:"breaking-controls",children:t.map((r,a)=>e.jsx("span",{className:`control-dot ${a===n?"active":""}`,onClick:()=>i(a)},a))})]})},de=({title:t,icon:n,actions:i,loadingPhase:s})=>{const r=t!=="Market Brief";return e.jsxs("header",{className:"header timeline-header",children:[r&&e.jsx("h1",{className:"header__title",style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"1.1rem"},children:e.jsx("span",{children:t})}),e.jsx(se,{loadingPhase:s}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:i})]})},H=()=>{const{weatherData:t,loading:n,error:i}=Y(),[s,r]=g.useState(()=>{try{return localStorage.getItem("weather_active_city")||"chennai"}catch{return"chennai"}});if(g.useEffect(()=>{try{localStorage.setItem("weather_active_city",s)}catch{}},[s]),n)return e.jsx("div",{className:"quick-weather-card qw-bg-day",children:e.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Loading weather..."})});if(i||!t)return e.jsx("div",{className:"quick-weather-card qw-bg-night",children:e.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:"Weather unavailable"})});const{settings:a}=L(),c=(a.weather?.cities||["chennai","trichy","muscat"]).map(u=>u.toLowerCase()),m={chennai:"Chennai",trichy:"Trichy",muscat:"Muscat",[c[2]]:c[2].charAt(0).toUpperCase()+c[2].slice(1)},d={chennai:"üèõÔ∏è",trichy:"üèØ",muscat:"üìç",[c[2]]:"üìç"},p=new Date().getHours();let f="qw-bg-day";p>=6&&p<11?f="qw-bg-morning":p>=11&&p<17?f="qw-bg-day":p>=17&&p<20?f="qw-bg-evening":f="qw-bg-night";const l=t[s],h=me(l),o=pe(l);return e.jsxs("section",{className:`quick-weather-card ${f}`,children:[e.jsx("div",{className:"qw-cities-grid",children:c.map(u=>{const b=t[u];if(!b?.current)return null;const y=b.current,S=u===s;return e.jsxs("div",{className:`qw-city-card ${S?"qw-city-card--active":""}`,onClick:()=>r(u),children:[e.jsxs("div",{className:"qw-city-header",children:[e.jsx("span",{className:"qw-city-icon",children:d[u]}),e.jsx("span",{className:"qw-city-name",children:m[u]})]}),e.jsxs("div",{className:"qw-city-temp-row",children:[e.jsxs("span",{className:"qw-city-temp",style:{fontSize:"0.9rem"},children:[y.temp,"¬∞"]}),e.jsx("span",{className:"qw-city-weather-icon",children:y.iconId?e.jsx(F,{id:y.iconId,size:48}):e.jsx("span",{style:{fontSize:"2.5rem"},children:y.icon})})]}),e.jsx("div",{className:"qw-city-condition",children:y.condition}),e.jsxs("div",{className:"qw-city-meta",children:[e.jsxs("span",{children:[e.jsx(re,{size:"0.85em"})," ",y.humidity??"--","%"]}),e.jsxs("span",{children:[e.jsx(ae,{size:"0.85em"})," ",y.windSpeed??"--"]})]})]},u)})}),l?.hourly24&&e.jsxs("div",{className:"qw-timeline-section",children:[e.jsx("div",{className:"qw-timeline-label",style:{fontWeight:600,fontSize:"0.85rem"},children:he(l,m[s])}),e.jsx("div",{className:"qw-timeline-strip",children:l.hourly24.map((u,b)=>e.jsxs("div",{className:"qw-timeline-slot",children:[e.jsx("div",{className:"qw-slot-time",children:u.label}),e.jsx("div",{className:"qw-slot-icon",children:u.iconId?e.jsx(F,{id:u.iconId,size:40}):u.icon}),e.jsxs("div",{className:"qw-slot-temp",style:{fontSize:"0.9rem"},children:[u.temp,"¬∞"]}),u.precip>.5&&e.jsxs("div",{className:"qw-slot-rain",children:[u.precip,"mm"]})]},b))})]}),h&&e.jsxs("div",{className:"qw-headsup",children:[e.jsx("span",{className:"qw-headsup-icon",children:h.icon}),e.jsx("span",{children:h.message})]}),o&&e.jsxs("div",{className:"qw-severe",style:{background:"rgba(220,38,38,0.15)",border:"1px solid rgba(220,38,38,0.4)",borderRadius:"8px",padding:"8px 12px",margin:"8px 0 0",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.78rem",color:"#fca5a5"},children:[e.jsx("span",{style:{fontSize:"1.1rem"},children:"‚ö†Ô∏è"}),e.jsx("span",{children:o})]})]})};function he(t,n){if(!t?.hourly24)return`${n} ‚Ä¢ Forecast`;const s=t.hourly24.filter(a=>a.precip>.5||a.prob>40),r=t.current;return s.length>=3?`${n} ‚Ä¢ Rainy spells ahead`:s.length>0?`${n} ‚Ä¢ Scattered showers`:r?.condition?`${n} ‚Ä¢ ${r.condition}`:`${n} ‚Ä¢ Clear Skies`}function me(t){if(!t?.hourly24)return null;const i=t.hourly24.filter(h=>h.precip>.5||h.prob>40);if(i.length===0)return null;const s=i.reduce((h,o)=>h+(o.precip||0),0),r=Math.max(...i.map(h=>h.prob||0)),a=h=>{const o=h>=12?"p":"a";return`${h%12===0?12:h%12}${o}`},c=a(i[0].hour),m=i.length>1?a(i[i.length-1].hour):null;let d="Rain",p="üåßÔ∏è";s>=10||r>=80?(d="Heavy rain",p="‚õàÔ∏è"):s<2&&r<50&&(d="Light showers possible",p="üå¶Ô∏è");const f=m?`${c}‚Äì${m}`:`around ${c}`,l=s>.5?` (~${s.toFixed(1)}mm)`:"";return{icon:p,message:`${d} expected ${f}${l}`}}function pe(t){if(!t?.hourly24)return null;const n=t.hourly24,i=n.filter(c=>c.precip>=10),s=n.filter(c=>c.prob>=80),r=n.map(c=>c.temp).filter(c=>c!=null),a=r.length>0?Math.max(...r):null;return i.length>0?`Heavy rainfall warning: ${i.reduce((m,d)=>m+d.precip,0).toFixed(1)}mm expected`:s.length>=2?"Thunderstorm activity likely in the next 24 hours":a!=null&&a>=42?`Extreme heat warning: Temperatures may reach ${a}¬∞C`:null}function ue({breakingNews:t}){const n=oe(),i=new Date;return e.jsxs("div",{className:"newspaper-masthead",children:[e.jsxs("div",{className:"masthead__header",children:[e.jsxs("div",{className:"masthead__title",children:[e.jsx("h1",{className:"masthead__logo",children:"Daily News AI"}),e.jsx("div",{className:"masthead__tagline",children:"Your Intelligent News Digest"})]}),e.jsxs("div",{className:"masthead__meta",children:[e.jsx("div",{className:"masthead__date",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"masthead__segment",children:n.name})]})]}),t?.length>0&&e.jsxs("div",{className:"masthead__breaking",children:[e.jsx("span",{className:"breaking-badge",children:"BREAKING"}),e.jsx("span",{className:"breaking-text",children:t[0].title})]})]})}function ge({newsData:t,breakingNews:n,settings:i}){const{settings:s}=L(),r=Object.entries(t).filter(([l,h])=>l!=="frontPage"&&s?.sections?.[l]?.enabled!==!1).map(([l,h])=>{const o=s?.sections?.[l]?.count;return typeof o=="number"?h.slice(0,o):h}).flat();let a=r;if(t.frontPage&&Array.isArray(t.frontPage)){const l=new Set(t.frontPage.map(o=>o.title)),h=r.filter(o=>!l.has(o.title));a=[...t.frontPage,...h]}const c=a.filter(l=>l.imageUrl),m=a.filter(l=>!l.imageUrl),d=c.slice(0,i?.headlinesCount||3),p=c.slice(3,3+(i?.leadsCount||6)),f=m.slice(0,i?.briefsCount||12);return e.jsxs("div",{className:"newspaper-layout",children:[e.jsx(ue,{breakingNews:n}),d.length>0&&e.jsxs("section",{className:"headlines-zone",children:[e.jsx("h2",{className:"zone-title",children:"üì∞ Top Stories"}),e.jsxs("div",{className:"headlines-grid",children:[d[0]&&e.jsx("div",{className:"headline-lead",children:e.jsx(M,{article:d[0],size:"large",onClick:()=>window.open(d[0].link,"_blank")})}),d.length>1&&e.jsx("div",{className:"headline-supporting",children:d.slice(1).map(l=>e.jsx(M,{article:l,size:"medium",onClick:()=>window.open(l.link,"_blank")},l.id))})]})]}),p.length>0&&e.jsxs("section",{className:"leads-zone",children:[e.jsx("h2",{className:"zone-title",children:"üåç More From Today"}),e.jsx("div",{className:"leads-scroll",children:p.map(l=>e.jsx(M,{article:l,size:"medium",onClick:()=>window.open(l.link,"_blank")},l.id))})]}),f.length>0&&e.jsxs("section",{className:"briefs-zone",children:[e.jsx("h2",{className:"zone-title",children:"üìã News Briefs"}),e.jsx("div",{className:"briefs-list",children:f.map(l=>e.jsxs("article",{className:"brief-item",onClick:()=>window.open(l.link,"_blank"),children:[e.jsx("h4",{className:"brief-title",children:l.title}),e.jsxs("div",{className:"brief-meta",children:[e.jsx("span",{className:"brief-source",children:l.source}),e.jsx("span",{className:"brief-time",children:l.time})]})]},l.id))})]})]})}const xe="https://en.wikipedia.org/api/rest_v1/feed/onthisday/selected",fe={fetchDailyFacts:async()=>{const t=new Date,n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=`${xe}/${n}/${i}`;try{console.log(`[QuickFacts] Fetching from ${s}`);const r=await fetch(s);if(!r.ok)throw new Error("Wiki API Failed");const a=await r.json();return!a.selected||a.selected.length===0?[]:a.selected.sort(()=>.5-Math.random()).slice(0,5).map(d=>({text:d.text,year:d.year,pages:d.pages}))}catch(r){return console.warn("[QuickFacts] Fetch failed:",r),[{year:"1969",text:"The internet (ARPANET) sent its first message."},{year:"1990",text:"The first web page was published by Tim Berners-Lee."},{year:"2004",text:"Facebook was launched by Mark Zuckerberg."}]}}},R=["Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still edible.","Octopuses have three hearts. Two pump blood to the gills, while one pumps it to the rest of the body.","Bananas are berries, but strawberries aren't.","The Eiffel Tower can be 15 cm taller during the summer due to thermal expansion.","A group of flamingos is called a 'flamboyance'.","Wombat poop is cube-shaped.","The shortest war in history lasted 38 minutes between Britain and Zanzibar in 1896.","Cleopatra lived closer in time to the Moon landing than to the construction of the Great Pyramid of Giza.","Sloths can hold their breath longer than dolphins (up to 40 minutes).","A cloud can weigh more than a million pounds.","The first computer bug was an actual moth trapped in a relay of the Harvard Mark II computer in 1947."];async function ye(){try{const t=await fe.fetchDailyFacts();if(t&&t.length>0){const n=t[Math.floor(Math.random()*t.length)];return{text:`On this day in ${n.year}: ${n.text}`,year:n.year,isDynamic:!0}}return null}catch(t){return console.warn("OnThisDay fetch failed:",t),null}}function we(t){const n=[],i=new Set(["the","and","for","with","that","this","from","dead","kills","says","india","world","chennai","tamil","nadu"]),s=[...t.world||[],...t.india||[],...t.tech||[]];if(s.length===0)return null;s.forEach(m=>{if(!m.title)return;m.title.replace(/[^\w\s]/gi,"").toLowerCase().split(/\s+/).forEach(p=>{p.length>3&&!i.has(p)&&n.push(p)})});const r={};n.forEach(m=>r[m]=(r[m]||0)+1);const c=Object.entries(r).sort((m,d)=>d[1]-m[1]).slice(0,3).map(m=>m[0]);return c.length===0?null:{type:"TRENDING",icon:"üî•",text:`Trending now: #${c.join(", #")}`}}function je(t){if(!t||Object.keys(t).length===0)return null;const n=Object.keys(t)[0],i=t[n];if(!i||!i.current)return null;const s=i.current.temp,r=i.current.condition.toLowerCase();let a="";return s>35?a=`It's a scorcher today at ${s}¬∞C. Stay hydrated!`:s<20?a=`Cooler vibes today at ${s}¬∞C.`:r.includes("rain")?a="Rainy skies today. Don't forget your umbrella.":a=`Currently ${s}¬∞C and ${r}. A pleasant day ahead?`,{type:"WEATHER INSIGHT",icon:"üå§Ô∏è",text:a}}function be(t,n,i=null){const s=[];if(i&&i.isDynamic){const c={type:"ON THIS DAY",icon:"üìÖ",text:i.text};s.push(c),s.push(c),s.push(c)}else s.push({type:"DID YOU KNOW?",icon:"üí°",text:R[Math.floor(Math.random()*R.length)]});const r=we(t);r&&s.push(r);const a=je(n);return a&&s.push(a),s[Math.floor(Math.random()*s.length)]}const ve=({threshold:t=0,root:n=null,rootMargin:i="0px",freezeOnceVisible:s=!0}={})=>{const[r,a]=g.useState(null),c=r?.isIntersecting&&s,m=g.useRef(null),d=([p])=>{a(p)};return g.useEffect(()=>{const p=m.current;if(!!!window.IntersectionObserver||c||!p)return;const l={threshold:t,root:n,rootMargin:i},h=new IntersectionObserver(d,l);return h.observe(p),()=>h.disconnect()},[m,t,n,i,c]),[m,r]},Ne=({children:t,onVisible:n,isLoaded:i,placeholderHeight:s="200px"})=>{const[r,a]=ve({threshold:.1,rootMargin:"200px",freezeOnceVisible:!0});return g.useEffect(()=>{a?.isIntersecting&&n&&n()},[a,n]),i?e.jsx("div",{children:t}):e.jsx("div",{ref:r,style:{minHeight:s,display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},children:a?.isIntersecting?e.jsxs("div",{className:"loading-state",style:{opacity:.6},children:[e.jsx("div",{className:"loading-spinner",style:{border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid var(--accent-primary)",width:"24px",height:"24px",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Loading section..."}),e.jsx("style",{children:`
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    `})]}):null})},Se=({news:t=[],title:n="Global Headlines"})=>{if(!t||t.length===0)return null;const i=t.slice(0,10);return e.jsxs("div",{className:"card",style:{padding:"var(--spacing-md)",background:"var(--bg-card)",border:"1px solid var(--border-default)"},children:[e.jsx("h3",{style:{fontFamily:"'Playfair Display', serif",fontSize:"1.2rem",marginBottom:"var(--spacing-md)",paddingBottom:"var(--spacing-sm)",borderBottom:"2px solid var(--accent-primary)",color:"var(--text-primary)"},children:n}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:i.map((s,r)=>e.jsx("article",{style:{paddingBottom:"var(--spacing-sm)",borderBottom:"1px solid var(--border-default)"},children:e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",display:"block"},children:[e.jsx("h4",{style:{fontSize:"0.95rem",fontWeight:"600",lineHeight:"1.4",marginBottom:"4px",color:"var(--text-primary)"},children:s.headline||s.title}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-muted)"},children:[e.jsx("span",{children:s.source}),e.jsx("span",{children:s.time||new Date(s.publishedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},r))}),e.jsx("div",{style:{marginTop:"var(--spacing-md)",textAlign:"center",fontSize:"0.8rem",color:"var(--accent-secondary)"},children:"Top Stories"})]})},$e=()=>{const{settings:t}=L(),{currentSegment:n}=Z(),[i,s]=g.useState(Notification.permission),[r,a]=g.useState(null),[c,m]=g.useState(null),{isWebView:d,isDesktop:p}=X(),{weatherData:f,loading:l,refreshWeather:h}=Y(),{newsData:o,loading:u,errors:b,breakingNews:y,refreshNews:S,loadSection:U,loadedSections:G}=J(),{sections:w,uiMode:I="timeline"}=t,[q,C]=g.useState([]);g.useEffect(()=>{if(!o.frontPage){C([]);return}if(t.customSortTopStories){let x=o.frontPage.filter(N=>!(ee(N.id)||te(N.id)>3));x.sort((N,k)=>(k.impactScore||0)-(N.impactScore||0));const v=10;if(x.length<v){const N=new Set(x.map(j=>j.id)),k=o.frontPage.filter(j=>!N.has(j.id));k.sort((j,B)=>(B.impactScore||0)-(j.impactScore||0));const T=v-x.length;x=[...x,...k.slice(0,T)]}C(x)}else C(o.frontPage)},[o.frontPage,t.customSortTopStories]),g.useEffect(()=>{h(),S()},[n.id,S,h]),g.useEffect(()=>{ye().then(x=>{x&&m(x)})},[]),g.useEffect(()=>{const x=o&&Object.keys(o).length>0,v=f&&Object.keys(f).length>0;(x||v||c)&&a(be(o,f,c))},[u,l,o,f,c]);const[$,A]=g.useState(!1);g.useEffect(()=>{const x=()=>{window.scrollY>400?A(!0):A(!1)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const K=()=>{window.scrollTo({top:0,behavior:"smooth"})};g.useEffect(()=>{let x=0,v=!1;const N=j=>{window.scrollY===0&&(x=j.touches[0].clientY,v=!0)},k=j=>{v&&j.touches[0].clientY},T=j=>{if(!v)return;j.changedTouches[0].clientY-x>150&&window.scrollY===0&&(S(),h()),v=!1};return p||(document.addEventListener("touchstart",N),document.addEventListener("touchmove",k),document.addEventListener("touchend",T)),()=>{document.removeEventListener("touchstart",N),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",T)}},[S,h,p]);const P=l&&!f||u&&Object.keys(o).length===0,W=P?1:3,E=I==="timeline",Q=I==="newspaper",D=n.id==="urgent_only",V=[{id:"world-news",icon:"üåç",label:"World"},w.india?.enabled&&{id:"india-news",icon:"üáÆüá≥",label:"India"},w.chennai?.enabled&&{id:"chennai-news",icon:"üèõÔ∏è",label:"Tamil Nadu"},w.local?.enabled&&{id:"local-news",icon:"üìç",label:"Muscat"}].filter(Boolean),O=e.jsxs("div",{className:"header__actions",children:[e.jsx(z,{to:"/refresh",className:"header__action-btn",children:"üîÑ"}),e.jsx(z,{to:"/settings",className:"header__action-btn",children:"‚öôÔ∏è"})]});return e.jsxs("div",{className:`page-container mode-${I} ${d?"page-container--desktop":""}`,children:[E?e.jsx(de,{title:n.id==="market_brief"?"":n.label,icon:n.icon,actions:O,loadingPhase:W}):e.jsx(ne,{title:n.label,icon:n.icon,actions:O,loadingPhase:W}),e.jsxs("main",{className:`main-content ${d?"main-content--desktop":""}`,children:[d&&e.jsxs("div",{className:"desktop-sidebar",children:[e.jsx(H,{}),e.jsx(Se,{news:o.world&&o.world.length>0?o.world:o.chennai&&o.chennai.length>0?o.chennai:o.frontPage,title:"Global Headlines"})]}),e.jsxs("div",{className:"content-wrapper",children:[P&&e.jsxs("div",{className:"loading",style:{padding:"40px"},children:[e.jsx("div",{className:"loading__spinner"}),e.jsx("span",{children:"Loading Updates..."})]}),!E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"topline",children:[e.jsxs("div",{className:"topline__label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{children:r?.icon||"üì∞"}),e.jsx("span",{children:r?.type||"TOPLINE"})]}),e.jsx("div",{className:"topline__text",children:r?.text||le(n)})]}),e.jsx(ce,{items:y})]}),!d&&e.jsx(H,{}),Q?e.jsx(ge,{newsData:o,breakingNews:y,settings:t.newspaper}):e.jsxs("div",{className:"news-sections news-sections--grid",children:[(!D||y.length===0)&&e.jsxs(e.Fragment,{children:[q.length>0?e.jsx(_,{id:"top-stories",title:"Top Stories",icon:"‚≠ê",colorClass:"news-section__title--world",news:q,maxDisplay:10}):t.customSortTopStories&&o.frontPage?.length>0&&e.jsxs("div",{className:"empty-state",style:{padding:"20px",marginBottom:"20px",background:"var(--bg-card)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:"‚úÖ"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"You're all caught up with top stories!"}),e.jsx("button",{onClick:()=>S(),className:"btn btn--secondary",style:{marginTop:"10px",fontSize:"0.8rem",padding:"6px 12px"},children:"Check for new updates"})]}),e.jsx(_,{id:"world-news",title:"Global Updates",icon:"üåç",colorClass:"news-section__title--world",news:o.world,maxDisplay:w.world?.count||5}),w.india?.enabled&&e.jsx(_,{id:"india-news",title:E?"India":"India News",icon:"üáÆüá≥",colorClass:"news-section__title--india",news:o.india,maxDisplay:w.india.count||5,error:b.india}),w.chennai?.enabled&&e.jsx(_,{id:"chennai-news",title:"Tamil Nadu",icon:"üèõÔ∏è",colorClass:"news-section__title--chennai",news:o.chennai,maxDisplay:w.chennai.count||5,error:b.chennai}),w.trichy?.enabled&&e.jsx(_,{id:"trichy-news",title:"Trichy",icon:"üèõÔ∏è",colorClass:"news-section__title--trichy",news:o.trichy,maxDisplay:w.trichy.count||5,error:b.trichy}),w.local?.enabled&&e.jsx(Ne,{id:"local-news",onVisible:()=>U("local"),isLoaded:G.includes("local"),children:e.jsx(_,{id:"local-news",title:"Local ‚Äî Muscat",icon:"üìç",colorClass:"news-section__title--local",news:o.local,maxDisplay:w.local.count||5,error:b.local})})]}),D&&y.length===0&&e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-muted)"},children:[e.jsx("h3",{children:"Urgent Alerts Mode"}),e.jsx("p",{children:"Monitoring for critical updates..."})]})]}),t.debugLogs&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"var(--spacing-md)",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:"var(--radius-sm)",fontSize:"0.7rem",color:"var(--text-muted)",flexWrap:"wrap"},children:[e.jsxs("span",{title:"Segment",children:[n.icon," ",n.label]}),e.jsx("span",{title:"Notifications",children:i==="granted"?"üîî":"üîï"}),e.jsxs("span",{title:"UI Mode",children:["üì± ",I]}),e.jsx("span",{title:"Strict Mode",children:t.strictFreshness?"üõ°Ô∏è":"üîì"}),e.jsx(z,{to:"/settings",onClick:()=>{},style:{marginLeft:"auto",color:"var(--accent-primary)",fontSize:"0.7rem"},children:"Debug ‚Üí"})]})]})]}),e.jsx(ie,{sections:V}),e.jsx("button",{onClick:K,style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",fontSize:"1.2rem",cursor:"pointer",opacity:$?1:0,pointerEvents:$?"auto":"none",transition:"all 0.3s ease",zIndex:900,backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},className:"back-to-top",children:"‚Üë"})]})};export{$e as default};
//# sourceMappingURL=MainPage-BVmYm7li.js.map
